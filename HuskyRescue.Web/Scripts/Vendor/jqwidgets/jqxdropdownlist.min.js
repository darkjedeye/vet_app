(function(n){n.jqx.jqxWidget("jqxDropDownList","",{}),n.extend(n.jqx._jqxDropDownList.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=[],this.selectedIndex=-1,this.source=null,this.scrollBarSize=15,this.arrowSize=19,this.enableHover=!0,this.enableSelection=!0,this.visualItems=[],this.groups=[],this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=[],this.emptyGroupText="Group",this.checkboxes=!1,this.openDelay==undefined&&(this.openDelay=250),this.closeDelay==undefined&&(this.closeDelay=300),this.animationType="default",this.autoOpen=!1,this.dropDownWidth="auto",this.dropDownHeight="200px",this.autoDropDownHeight=!1,this.keyboardSelection=!0,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=700,this.renderer=null,this.placeHolder="Please Choose:",this.promptText="Please Choose:",this.emptyString="",this.rtl=!1,this.selectionRenderer=null,this.listBox=null,this.popupZIndex=9999999999999,this.renderMode="default",this.touchMode="auto",this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(){this.render()},render:function(){var f,h,e,o,u,i,t,r,s;if(this.width||(this.width=200),this.height||(this.height=25),this.element.innerHTML="",this.isanimating=!1,this.id=this.element.id||n.jqx.utilities.createId(),this.host.attr("role","combobox"),n.jqx.aria(this,"aria-autocomplete","both"),n.jqx.aria(this,"aria-readonly",!1),f=n("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' style='background-color: transparent; border: none; float: right; position: relative;'><div><\/div><\/div><\/div><\/div>"),this._addInput(),n.jqx._jqxListBox==null||n.jqx._jqxListBox==undefined)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t=this,this.touch=n.jqx.mobile.isTouchDevice(),this.comboStructure=f,this.host.append(f),this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper"),this.dropdownlistArrow=this.host.find("#dropdownlistArrow"),this.arrow=n(this.dropdownlistArrow.children()[0]),this.dropdownlistContent=this.host.find("#dropdownlistContent"),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropdownlistWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.rtl&&(this.dropdownlistContent.addClass(this.toThemeProperty("jqx-rtl")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-rtl"))),this.addHandler(this.dropdownlistWrapper,"selectstart",function(){return!1}),this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id,this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id,this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id,this.promptText!="Please Choose:"&&(this.placeHolder=this.promptText),h=this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal"),this.element.className+=" "+h,this._firstDiv=this.host.find("div:first");try{e="listBox"+this.id,o=n(n.find("#"+e)),o.length>0&&o.remove(),n.jqx.aria(this,"aria-owns",e),n.jqx.aria(this,"aria-haspopup",!0),u=n("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'><\/div><\/div>"),u.hide(),u.appendTo(document.body),this.container=u,this.listBoxContainer=n(n.find("#innerListBox"+this.id)),i=this.width,this.dropDownWidth!="auto"&&(i=this.dropDownWidth),i==null&&(i=this.host.width(),i==0&&(i=this.dropDownWidth)),this.dropDownHeight==null&&(this.dropDownHeight=200),t=this,this.container.width(parseInt(i)+25),this.container.height(parseInt(this.dropDownHeight)+25),this.addHandler(this.listBoxContainer,"bindingComplete",function(){t._raiseEvent("6")}),this.listBoxContainer.jqxListBox({_checkForHiddenParent:!1,touchMode:this.touchMode,checkboxes:this.checkboxes,rtl:this.rtl,emptyString:this.emptyString,itemHeight:this.itemHeight,width:i,searchMode:this.searchMode,incrementalSearch:this.incrementalSearch,incrementalSearchDelay:this.incrementalSearchDelay,displayMember:this.displayMember,valueMember:this.valueMember,height:this.dropDownHeight,autoHeight:this.autoDropDownHeight,scrollBarSize:this.scrollBarSize,selectedIndex:this.selectedIndex,source:this.source,theme:this.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=n.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:this.renderer}),this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0}),this.listBox=n.data(this.listBoxContainer[0],"jqxListBox").instance,this.listBox.enableSelection=this.enableSelection,this.listBox.enableHover=this.enableHover,this.listBox.equalItemsWidth=this.equalItemsWidth,this.listBox.selectIndex(this.selectedIndex),this.listBox._arrange(),this.listBoxContainer.addClass(this.toThemeProperty("jqx-popup")),n.jqx.browser.msie&&this.listBoxContainer.addClass(this.toThemeProperty("jqx-noshadow")),this.addHandler(this.listBoxContainer,"unselect",function(n){t._raiseEvent("3",{index:n.args.index,type:n.args.type,item:n.args.item})}),this.addHandler(this.listBoxContainer,"change",function(n){t._raiseEvent("4",{index:n.args.index,type:n.args.type,item:n.args.item})}),this.animationType=="none"?this.container.css("display","none"):this.container.hide()}catch(c){}r=this,this.propertyChangeMap.disabled=function(t,i,u,f){f?(t.host.addClass(r.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(r.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(r.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(r.toThemeProperty("jqx-dropdownlist-content-disabled"))),n.jqx.aria(t,"aria-disabled",t.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("jqx-icon")),this.renderMode==="simple"&&(this.arrow.remove(),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-rc-all"))),this._updateHandlers(),this._setSize(),this._arrange(),this.listBox&&this.renderSelection(),n.jqx.browser.msie&&n.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0&&(s=this.host.parents(".jqx-window").css("z-index"),u.css("z-index",s+10),this.listBoxContainer.css("z-index",s+10))},val:function(n){if(!this.dropdownlistContent)return"";if(this.input&&arguments.length==0)return this.input.val();var t=this.getItemByValue(n);return t!=null&&this.selectItem(t),this.input?this.input.val():void 0},focus:function(){try{var n=this,t=function(){n.host.focus(),n._firstDiv&&n._firstDiv.focus()};t(),setTimeout(function(){t()},10)}catch(i){}},_addInput:function(){var t=this.host.attr("name");t||(t=this.element.id),this.input=n("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:[]},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var i,t,u,r;this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width),this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height),i=!1,this.width!=null&&this.width.toString().indexOf("%")!=-1&&(i=!0,this.host.width(this.width)),this.height!=null&&this.height.toString().indexOf("%")!=-1&&(i=!0,this.host.height(this.height)),t=this,u=function(){if(t._arrange(),t.dropDownWidth=="auto"){var n=t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}},i&&(r=this.host.width(),this.dropDownWidth!="auto"&&(r=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:r}),this.container.width(parseInt(r)+25)),n.jqx.utilities.resize(this.host,function(){u()})},isOpened:function(){var i=this,t=n.data(document.body,"openedJQXListBox"+this.id);return t!=null&&t==i.listBoxContainer?!0:!1},_updateHandlers:function(){var t=this,r=!1,i;if(this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&t.renderMode!=="simple"&&(r=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&t.renderMode!=="simple"&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),r=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(){var n=t.isOpened();n&&t.close()}),i="mousedown",this.touch&&(i=n.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,i,function(){if(!t.disabled){var n=t.container.css("display")=="block";if(!t.isanimating){if(n)return t.hideListBox(),!1;t.showListBox()}}}),t.autoOpen){this.addHandler(this.host,"mouseenter",function(){var n=t.isOpened();!n&&t.autoOpen&&(t.open(),t.host.focus())});n(document).on("mousemove."+t.id,function(n){var s=t.isOpened();if(s&&t.autoOpen){var i=t.host.coord(),r=i.top,u=i.left,f=t.container.coord(),e=f.left,o=f.top;canClose=!0,n.pageY>=r&&n.pageY<=r+t.host.height()&&n.pageX>=u&&n.pageX<u+t.host.width()&&(canClose=!1),n.pageY>=o&&n.pageY<=o+t.container.height()&&n.pageX>=e&&n.pageX<e+t.container.width()&&(canClose=!1),canClose&&t.close()}})}this.touch?this.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(n(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(n){var i=t.container.css("display")=="block";if(t.host.css("display")=="none")return!0;if((n.keyCode=="13"||n.keyCode=="9")&&!t.isanimating)return(i&&(t.renderSelection(),n.keyCode=="13"&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),i&&n.keyCode!="9")?!1:!0;if(n.keyCode==115)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(n.altKey&&t.host.css("display")=="block")if(n.keyCode==38){if(t.isOpened())return t.hideListBox(),!0}else if(n.keyCode==40&&!t.isOpened())return t.showListBox(),!0;return n.keyCode=="27"&&!t.ishiding?(t.hideListBox(),t.tempSelectedIndex!=undefined&&t.selectIndex(t.tempSelectedIndex),!1):t.disabled?void 0:t.listBox._handleKeyDown(n)}),this.addHandler(this.listBoxContainer,"checkChange",function(n){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:n.args.label,value:n.args.value,checked:n.args.checked,item:n.args.item})}),this.addHandler(this.listBoxContainer,"select",function(n){t.disabled||(n.args.type!="keyboard"||t.isOpened()||t.renderSelection(),(n.args.type!="keyboard"||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:n.args.index,type:n.args.type,item:n.args.item,originalEvent:n.args.originalEvent}),n.args.type=="mouse"&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t._firstDiv.focus()))))}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(n){if(!t.disabled){if(t.listBox.itemswrapper&&n.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t._firstDiv.focus()),t.keyboardSelection||(t._oldSelectedInd==undefined&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(){t.renderMode!=="simple"&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){t.renderMode!=="simple"&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(){t.renderMode!=="simple"&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){t.renderMode!=="simple"&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var i=this,t="mousedown";this.touch&&(t=n.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,t),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(n(document),"mousemove."+i.id)},getItem:function(n){return this.listBox.getItem(n)},getItemByValue:function(n){return this.listBox.getItemByValue(n)},selectItem:function(n){this.listBox!=undefined&&(this.listBox.selectItem(n),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(n){this.listBox!=undefined&&(this.listBox.unselectItem(n),this.renderSelection("mouse"))},checkItem:function(n){this.listBox!=undefined&&this.listBox.checkItem(n)},uncheckItem:function(n){this.listBox!=undefined&&this.listBox.uncheckItem(n)},indeteterminateItem:function(n){this.listBox!=undefined&&this.listBox.indeteterminateItem(n)},renderSelection:function(){var i,y,l,t,a,w,o,s,u,h,c,v,e,f,r;if(this.listBox!=null){if(i=this.listBox.visibleItems[this.listBox.selectedIndex],y=this,this.checkboxes&&(l=this.getCheckedItems(),i=l!=null&&l.length>0?l[0]:null),i==null){t=n('<span style="color: inherit; border: none; background-color: transparent;"><\/span>'),t.appendTo(n(document.body)),t.addClass(this.toThemeProperty("jqx-widget")),t.addClass(this.toThemeProperty("jqx-listitem-state-normal")),t.addClass(this.toThemeProperty("jqx-item")),n.jqx.utilities.html(t,this.placeHolder),o=this.dropdownlistContent.css("padding-top"),s=this.dropdownlistContent.css("padding-bottom"),t.css("padding-top",o),t.css("padding-bottom",s),u=t.outerHeight(),t.remove(),t.removeClass(),n.jqx.utilities.html(this.dropdownlistContent,t),f=this.host.height(),this.height!=null&&this.height!=undefined&&(f=parseInt(this.height)),r=parseInt((parseInt(f)-parseInt(u))/2),r>0&&(this.dropdownlistContent.css("margin-top",r+"px"),this.dropdownlistContent.css("margin-bottom",r+"px")),this.selectionRenderer&&(n.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer()),this._updateInputSelection()),this.selectedIndex=this.listBox.selectedIndex,this.width==="auto"&&this._arrange();return}this.selectedIndex=this.listBox.selectedIndex,t=n('<span style="color: inherit; border: none; background-color: transparent;"><\/span>'),t.appendTo(n(document.body)),t.addClass(this.toThemeProperty("jqx-widget")),t.addClass(this.toThemeProperty("jqx-listitem-state-normal")),t.addClass(this.toThemeProperty("jqx-item")),a=!1;try{i.html!=undefined&&i.html!=null&&i.html.toString().length>0?n.jqx.utilities.html(t,i.html):i.label!=undefined&&i.label!=null&&i.label.toString().length>0?n.jqx.utilities.html(t,i.label):i.value!=undefined&&i.value!=null&&i.value.toString().length>0?n.jqx.utilities.html(t,i.value):i.title!=undefined&&i.title!=null&&i.title.toString().length>0?n.jqx.utilities.html(t,i.title):(i.label==""||i.label==null)&&(a=!0,n.jqx.utilities.html(t,"Item"))}catch(p){w=p}if(o=this.dropdownlistContent.css("padding-top"),s=this.dropdownlistContent.css("padding-bottom"),t.css("padding-top",o),t.css("padding-bottom",s),u=t.outerHeight(),u===0&&(u=16),(i.label==""||i.label==null)&&a&&n.jqx.utilities.html(t,""),h=this.width&&this.width.toString().indexOf("%")<=0,t.remove(),t.removeClass(),this.selectionRenderer)n.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(t,i.index,i.label,i.value));else if(this.checkboxes){for(c=this.getCheckedItems(),v="",e=0;e<c.length;e++)v+=e==c.length-1?c[e].label:c[e].label+",";t.text(v),h&&t.css("max-width",this.host.width()-30),t.css("overflow","hidden"),t.css("display","block"),this.rtl||h&&t.css("width",this.host.width()-30),t.css("text-overflow","ellipsis"),this.dropdownlistContent.html(t)}else this.width&&this.width!=="auto"&&(h&&(this.rtl||t.css("max-width",this.host.width()-10)),t.css("overflow","hidden"),t.css("display","block"),this.rtl||h&&t.css("width",this.host.width()-10),t.css("text-overflow","ellipsis")),this.dropdownlistContent.html(t);f=this.host.height(),this.height!=null&&this.height!=undefined&&(f=parseInt(this.height)),r=parseInt((parseInt(f)-parseInt(u))/2),r>0&&(this.dropdownlistContent.css("margin-top",r+"px"),this.dropdownlistContent.css("margin-bottom",r+"px")),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&n.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),this.width==="auto"&&this._arrange()}},_updateInputSelection:function(){var r,n,u,t,i;if(this.input&&(this.selectedIndex==-1?this.input.val(""):(r=this.getSelectedItem(),r!=null?this.input.val(r.value):this.input.val(this.dropdownlistContent.text())),this.checkboxes)){if(n=this.getCheckedItems(),u="",n!=null)for(t=0;t<n.length;t++)(i=n[t].value,i!=undefined)&&(u+=t==n.length-1?i:i+",");this.input.val(u)}},setContent:function(t){n.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),this.source==null&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),n.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(n,t){isNaN(n)||(this.listBox.unselectIndex(n,t),this.renderSelection())},selectIndex:function(n,t,i,r){this.listBox.selectIndex(n,t,i,r,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(n){this.listBox.checkIndex(n)},uncheckIndex:function(n){this.listBox.uncheckIndex(n)},indeterminateIndex:function(n){this.listBox.indeterminateIndex(n)},checkAll:function(){this.listBox.checkAll()},uncheckAll:function(){this.listBox.uncheckAll()},addItem:function(n){return this.listBox.addItem(n)},insertAt:function(n,t){return n==null?!1:this.listBox.insertAt(n,t)},removeAt:function(n){var t=this.listBox.removeAt(n);return this.renderSelection("mouse"),t},removeItem:function(n){var t=this.listBox.removeItem(n);return this.renderSelection("mouse"),t},updateItem:function(n,t){var i=this.listBox.updateItem(n,t);return this.renderSelection("mouse"),i},updateAt:function(n,t){var i=this.listBox.updateAt(n,t);return this.renderSelection("mouse"),i},ensureVisible:function(n){return this.listBox.ensureVisible(n)},disableAt:function(n){return this.listBox.disableAt(n)},enableAt:function(n){return this.listBox.enableAt(n)},disableItem:function(n){return this.listBox.disableItem(n)},enableItem:function(n){return this.listBox.enableItem(n)},_findPos:function(t){while(t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t)))t=t.nextSibling;var i=n(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,r){var u=t.outerWidth(),f=t.outerHeight(),h=n(window).width()+n(window).scrollLeft(),e=n(window).height()+n(window).scrollTop(),o,s;return i.left+u>h&&u>this.host.width()&&(o=this.host.coord().left,s=u-this.host.width(),i.left=o-s+2),i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+f>e&&e>f?Math.abs(f+r+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return n("body").css("border-top-width")!="0px"&&(t=parseInt(n("body").css("border-top-width")),isNaN(t)&&(t=0)),n("body").css("border-left-width")!="0px"&&(i=parseInt(n("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){var o,c,y,p,e,l,a,f,v;n.jqx.aria(this,"aria-expanded",!0),this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&this.width.indexOf("%")!=-1&&this.listBox.host.width()!=this.host.width()&&(o=this.host.width(),this.listBoxContainer.jqxListBox({width:o}),this.container.width(parseInt(o)+25));var i=this,t=this.listBoxContainer,s=this.listBox,w=n(window).scrollTop(),b=n(window).scrollLeft(),r=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",u,h=parseInt(Math.round(this.host.coord(!0).left));(u=h+"px",c=n.jqx.mobile.isSafariMobileBrowser()||n.jqx.mobile.isWindowsPhone(),this.listBox!=null)&&(y=n.jqx.utilities.hasTransform(this.host),this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(y||c!=null&&c)&&(u=n.jqx.mobile.getLeftPos(this.element),r=n.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),n("body").css("border-top-width")!="0px"&&(r=parseInt(r)-this._getBodyOffset().top+"px"),n("body").css("border-left-width")!="0px"&&(u=parseInt(u)-this._getBodyOffset().left+"px")),t.stop(),this.renderMode!=="simple"&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",u),this.container.css("top",r),s._arrange(),p=!0,e=!1,(this.dropDownHorizontalAlignment=="right"||this.rtl)&&(l=this.container.outerWidth(),a=Math.abs(l-this.host.width()),l>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-a+"px"):this.container.css("left",25+parseInt(Math.round(h))+a+"px")),this.enableBrowserBoundsDetection&&(f=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(r)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=f.top?(e=!0,t.css("top",23)):t.css("top",0),this.container.css("top",f.top),parseInt(this.container.css("left"))!=f.left&&this.container.css("left",f.left)),this.animationType=="none"?(this.container.css("display","block"),n.data(document.body,"openedJQXListBoxParent",i),n.data(document.body,"openedJQXListBox"+this.id,t),t.css("margin-top",0),t.css("opacity",1)):(this.container.css("display","block"),i.isanimating=!0,this.animationType=="fade"?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){n.data(document.body,"openedJQXListBoxParent",i),n.data(document.body,"openedJQXListBox"+i.id,t),i.ishiding=!1,i.isanimating=!1})):(t.css("opacity",1),v=t.outerHeight(),e?t.css("margin-top",v):t.css("margin-top",-v),t.animate({"margin-top":0},this.openDelay,function(){n.data(document.body,"openedJQXListBoxParent",i),n.data(document.body,"openedJQXListBox"+i.id,t),i.ishiding=!1,i.isanimating=!1}))),e?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),t.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),t.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),this.renderMode!=="simple"&&(t.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.focus(),setTimeout(function(){i.host.focus()}),s._renderItems(),this._raiseEvent("0",s))},hideListBox:function(){var r,u;n.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,e=this.listBox,f=this.container,i=this;n.data(document.body,"openedJQXListBox"+this.id,null),this.animationType=="none"?this.container.css("display","none"):i.ishiding||(t.stop(),r=t.outerHeight(),t.css("margin-top",0),i.isanimating=!0,u=-r,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(u=r),this.animationType=="fade"?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){f.css("display","none"),i.isanimating=!1,i.ishiding=!1})):t.animate({"margin-top":u},this.closeDelay,function(){f.css("display","none"),i.isanimating=!1,i.ishiding=!1})),this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",e)},closeOpenedListBox:function(t){var i=t.data.me,f=n(t.target),u=t.data.listbox,e,r;return u==null?!0:n(t.target).ischildof(t.data.me.host)?!0:i.isOpened()?(e=i,r=!1,n.each(f.parents(),function(){if(this.className!="undefined"&&this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1)return r=!0,!1;if(this.className.indexOf("jqx-dropdownlist")!=-1)return i.element.id==this.id&&(r=!0),!1}}),u!=null&&!r&&i.isOpened()&&i.hideListBox(),!0):!0},loadFromSelect:function(n){this.listBox.loadFromSelect(n)},refresh:function(n){n!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var n=parseInt(this.host.width()),i=parseInt(this.host.height()),f=this.arrowSize,t=this.arrowSize,r=3,u=n-t-2*r;u>0&&this.width!=="auto"&&this.dropdownlistContent.width(u+"px"),this.width==="auto"&&(n=this.dropdownlistContent.width()+t+2*r,this.host.width(n)),this.dropdownlistContent.height(i),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(t),this.dropdownlistArrow.height(i),this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){n.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(n(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=n.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(n,t){var r,i;return t==undefined&&(t={owner:null}),r=this.events[n],args=t,args.owner=this,i=new jQuery.Event(r),i.owner=this,(n==2||n==3||n==4||n==5)&&(i.args=t),this.host.trigger(i)},propertyChangedHandler:function(t,i,r,u){var f;t.isInitialized!=undefined&&t.isInitialized!=!1&&(i=="autoOpen"&&t._updateHandlers(),i=="emptyString"&&(t.listBox.emptyString=t.emptyString),i=="renderer"&&(t.listBox.renderer=t.renderer),i=="itemHeight"&&(t.listBox.itemHeight=u),i=="rtl"&&(u?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),i=="source"&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),u==null&&t.clear()),(i=="displayMember"||i=="valueMember")&&(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),i=="placeHolder"&&t.renderSelection(),i=="theme"&&u!=null&&(t.listBoxContainer.jqxListBox({theme:u}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),n.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.dropdownlistContent.removeClass(),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content")),t.dropdownlistWrapper.removeClass(),t.dropdownlistWrapper.addClass(t.toThemeProperty("jqx-disableselect")),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-normal")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.arrow.removeClass(),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon"))),i=="autoDropDownHeight"&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),i=="searchMode"&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),i=="incrementalSearch"&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),i=="incrementalSearchDelay"&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),i=="dropDownHeight"&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),(i=="dropDownWidth"||i=="scrollBarSize")&&(f=t.width,t.dropDownWidth!="auto"&&(f=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:f,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(f)+25)),(i=="width"||i=="height")&&u!=r&&(this.refresh(),i=="width"&&t.dropDownWidth=="auto"&&(f=t.host.width(),t.listBoxContainer.jqxListBox({width:f}),t.container.width(parseInt(f)+25))),i=="checkboxes"&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),i=="selectedIndex"&&t.listBox!=null&&(t.listBox.selectIndex(parseInt(u)),t.renderSelection()))}})})(jQuery);
//# sourceMappingURL=jqxdropdownlist.min.js.map
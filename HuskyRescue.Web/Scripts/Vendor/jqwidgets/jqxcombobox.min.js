(function(n){n.jqx.jqxWidget("jqxComboBox","",{}),n.extend(n.jqx._jqxComboBox.prototype,{defineInstance:function(){this.disabled=!1,this.width=200,this.height=25,this.items=[],this.selectedIndex=-1,this.selectedItems=[],this._selectedItems=[],this.source=null,this.scrollBarSize=n.jqx.utilities.scrollBarSize,this.arrowSize=18,this.enableHover=!0,this.enableSelection=!0,this.visualItems=[],this.groups=[],this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=[],this.emptyGroupText="Group",this.emptyString="",this.openDelay==undefined&&(this.openDelay=250),this.closeDelay==undefined&&(this.closeDelay=300),this.animationType="default",this.dropDownWidth="auto",this.dropDownHeight="200px",this.autoDropDownHeight=!1,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.searchMode="startswithignorecase",this.autoComplete=!1,this.remoteAutoComplete=!1,this.remoteAutoCompleteDelay=500,this.minLength=2,this.displayMember="",this.valueMember="",this.keyboardSelection=!0,this.renderer=null,this.autoOpen=!1,this.checkboxes=!1,this.promptText="",this.placeHolder="",this.rtl=!1,this.listBox=null,this.renderSelectedItem=null,this.search=null,this.popupZIndex=1e5,this.searchString=null,this.multiSelect=!1,this.showArrow=!0,this.touchMode="auto",this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(){var t=this;if(this.host.attr("role","combobox"),n.jqx.aria(this,"aria-autocomplete","both"),n.jqx._jqxListBox==null||n.jqx._jqxListBox==undefined)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");n.jqx.aria(this),this.promptText!=""&&(this.placeHolder=this.promptText),this.render()},render:function(){var f,e,o,r,u,t,h,i,c,s;if(this.removeHandlers(),this.isanimating=!1,this.id=n.jqx.utilities.createId(),this.element.innerHTML="",f=n("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/><\/div><\/div>"),this.comboStructure=f,n.jqx._jqxListBox==null||n.jqx._jqxListBox==undefined)throw"jqxComboBox: Missing reference to jqxlistbox.js.";this.touch=n.jqx.mobile.isTouchDevice(),this.touchMode===!0&&(this.touch=!0),this.host.append(f),this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper"),this.dropdownlistArrow=this.host.find("#dropdownlistArrow"),this.dropdownlistContent=this.host.find("#dropdownlistContent"),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-widget-content")),this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id,this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id,this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id,this.dropdownlistContent.append(n('<input autocomplete="off" style="margin: 0; padding: 0; border: 0;" type="textarea"/>')),this.input=this.dropdownlistContent.find("input"),this.input.addClass(this.toThemeProperty("jqx-combobox-input")),this.input.addClass(this.toThemeProperty("jqx-widget-content")),this._addInput(),this.rtl&&(this.input.css({direction:"rtl"}),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-rtl")));try{e="listBox"+this.id,o=n(n.find("#"+e)),o.length>0&&o.remove(),n.jqx.aria(this,"aria-owns",e),n.jqx.aria(this,"aria-haspopup",!0),n.jqx.aria(this,"aria-multiline",!1),r=n("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'><\/div><\/div>"),r.hide(),r.appendTo(document.body),this.container=r,this.listBoxContainer=n(n.find("#innerListBox"+this.id)),u=this.width,this.dropDownWidth!="auto"&&(u=this.dropDownWidth),this.dropDownHeight==null&&(this.dropDownHeight=200),t=this,this.container.width(parseInt(u)+25),this.container.height(parseInt(this.dropDownHeight)+25),this.addHandler(this.listBoxContainer,"bindingComplete",function(){t._raiseEvent("6")}),h=!0,this.listBoxContainer.jqxListBox({_checkForHiddenParent:!1,checkboxes:this.checkboxes,emptyString:this.emptyString,renderer:this.renderer,rtl:this.rtl,itemHeight:this.itemHeight,selectedIndex:this.selectedIndex,incrementalSearch:!1,width:u,scrollBarSize:this.scrollBarSize,autoHeight:this.autoDropDownHeight,height:this.dropDownHeight,displayMember:this.displayMember,valueMember:this.valueMember,source:this.source,theme:this.theme,rendered:function(){if(t.listBox=n.data(t.listBoxContainer[0],"jqxListBox").instance,t.remoteAutoComplete)if(t.autoDropDownHeight?(t.container.height(t.listBox.virtualSize.height+25),t.listBoxContainer.height(t.listBox.virtualSize.height),t.listBox._arrange()):(t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25)),t.searchString!=undefined&&t.searchString.length>=t.minLength){var i=t.listBoxContainer.jqxListBox("items");i?i.length>0?t.isOpened()||t.open():t.close():t.close()}else t.close();else t.renderSelection("mouse"),t.multiSelect&&t.doMultiSelect(!1);t.rendered&&t.rendered()}}),this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0}),this.listBoxContainer.css("border-top-width","1px"),this.listBoxContainer.addClass(this.toThemeProperty("jqx-popup")),n.jqx.browser.msie&&this.listBoxContainer.addClass(this.toThemeProperty("jqx-noshadow")),this.listBox=n.data(this.listBoxContainer[0],"jqxListBox").instance,this.listBox.enableSelection=this.enableSelection,this.listBox.enableHover=this.enableHover,this.listBox.equalItemsWidth=this.equalItemsWidth,this.listBox._arrange(),this.addHandler(this.listBoxContainer,"unselect",function(n){t.multiSelect||t._raiseEvent("3",{index:n.args.index,type:n.args.type,item:n.args.item})}),this.addHandler(this.listBoxContainer,"change",function(n){t.multiSelect||t._raiseEvent("4",{index:n.args.index,type:n.args.type,item:n.args.item})}),this.animationType=="none"?this.container.css("display","none"):this.container.hide(),h=!1}catch(l){}i=this,i.input.attr("disabled",i.disabled),c=n.jqx.browser.msie&&n.jqx.browser.version<8,c||i.input.attr("placeholder",i.placeHolder),this.propertyChangeMap.disabled=function(t,r,u,f){f?(t.host.addClass(i.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(i.toThemeProperty("jqx-combobox-content-disabled"))):(t.host.removeClass(i.toThemeProperty("jqx-combobox-state-disabled")),t.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(i.toThemeProperty("jqx-combobox-content-disabled"))),t.input.attr("disabled",t.disabled),n.jqx.aria(t,"aria-disabled",t.disabled),t.input.attr("disabled",i.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-combobox-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-disabled"))),this.host.addClass(this.toThemeProperty("jqx-combobox-state-normal")),this.host.addClass(this.toThemeProperty("jqx-combobox")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.dropdownlistArrowIcon=n("<div><\/div>"),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon")),this.dropdownlistArrow.append(this.dropdownlistArrowIcon),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-normal")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.rtl?this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-l")):this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._setSize(),this._updateHandlers(),this.addHandler(this.input,"keyup.textchange",function(n){var i=t._search(n);t.cinput&&t.input&&(t.cinput[0].value=t.input[0].value)}),n.jqx.browser.msie&&n.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0&&(s=this.host.parents(".jqx-window").css("z-index"),r.css("z-index",s+10),this.listBoxContainer.css("z-index",s+10)),this.checkboxes?(this.input.attr("readonly",!0),n.jqx.aria(this,"aria-readonly",!0)):n.jqx.aria(this,"aria-readonly",!1),this.remoteAutoComplete||(this.searchString="")},_addInput:function(){var t=this.host.attr("name");t||(t=this.element.id),this.cinput=n("<input type='hidden'/>"),this.host.append(this.cinput),this.cinput.attr("name",t)},_updateInputSelection:function(){var i,n,r,t;if(this.cinput&&(this.selectedIndex==-1?this.cinput.val(""):(i=this.getSelectedItem(),i!=null?this.cinput.val(i.value):this.cinput.val(this.dropdownlistContent.text())),this.checkboxes||this.multiSelect)){if(n=this.multiSelect?this.getSelectedItems():this.getCheckedItems(),r="",n!=null)for(t=0;t<n.length;t++)r+=t==n.length-1?n[t].value:n[t].value+",";this.cinput.val(r)}},_search:function(t){var s,e,v,u,l,y,i,w,h,r,o;if(t.keyCode!=9&&this.searchMode!="none"&&this.searchMode!=null&&this.searchMode!="undefined"){if(t.keyCode==16||t.keyCode==17||t.keyCode==20||this.checkboxes)return!1;if(this.multiSelect){s=n("<span style='visibility: hidden; white-space: nowrap;'>"+this.input.val()+"<\/span>"),s.addClass(this.toThemeProperty("jqx-widget")),n(document.body).append(s),e=s.width()+15,s.remove(),e>this.host.width()&&(e=this.host.width()),e<25&&(e=25),this.input.css("width",e+"px");var c=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",a=n.jqx.mobile.isSafariMobileBrowser()||n.jqx.mobile.isWindowsPhone(),b=n.jqx.utilities.hasTransform(this.host);(b||a!=null&&a)&&(c=n.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),n("body").css("border-top-width")!="0px"&&(c=parseInt(c)-this._getBodyOffset().top+"px")),this.container.css("top",c),v=parseInt(this.host.height()),this.dropdownlistArrow.height(v)}if(!this.isanimating){if(t.altKey&&t.keyCode==38)return this.hideListBox("altKey"),!1;if(t.altKey&&t.keyCode==40)return this.isOpened()||this.showListBox("altKey"),!1}if(t.keyCode==37||t.keyCode==39)return!1;if(!t.altKey&&t.keyCode!=18&&(!(t.keyCode>=33)||!(t.keyCode<=40))&&!t.ctrlKey&&!this.ctrlKey){if(u=this.input.val(),u.length==0&&!this.autoComplete){this.listBox.searchString=this.input.val(),this.hideListBox("search"),this.searchString=this.input.val();return}if(this.remoteAutoComplete){i=this,l=function(){i.listBox.vScrollInstance.value=0},u.length>=i.minLength?t.ctrlKey||t.altKey||(i.searchString!=u&&(y=i.listBoxContainer.jqxListBox("source"),y==null&&i.listBoxContainer.jqxListBox({source:i.source}),this._searchTimer&&clearTimeout(this._searchTimer),t.keyCode!=13&&t.keyCode!=27&&(this._searchTimer=setTimeout(function(){if(l(),i.autoDropDownHeight&&(i.listBox.autoHeight=!0),i.searchString=i.input.val(),i.search!=null)i.search(i.input.val());else throw"'search' function is not defined";},this.remoteAutoCompleteDelay))),i.searchString=u):(this._searchTimer&&clearTimeout(this._searchTimer),l(),i.searchString="",i.listBoxContainer.jqxListBox({source:null}));return}if(i=this,u!==i.searchString){if(!(t.keyCode=="27"||t.keyCode=="13")){var p=this._updateItemsVisibility(u),k=p.matchItems,f=p.index;this.autoComplete||this.removeAutoComplete||(!this.multiSelect||this.multiSelect&&f>=0)&&(this.listBox.selectIndex(f),w=this.listBox.isIndexInView(f),w?this.listBox._renderItems():this.listBox.ensureVisible(f)),this.autoComplete&&k.length===0&&this.hideListBox("search")}if(t.keyCode=="13"){if(h=this.container.css("display")=="block",h&&!this.isanimating){this.hideListBox("keyboard"),this._oldvalue=this.listBox.selectedValue;return}}else if(t.keyCode=="27"){if(h=this.container.css("display")=="block",h&&!this.isanimating)return r.multiSelect?(r.input.val(""),r.listBox.selectedValue=null):(o=this.listBox.getVisibleItem(this._oldvalue),o?(r=this,setTimeout(function(){r.autoComplete&&r._updateItemsVisibility(""),r.listBox.selectIndex(o.index),r.renderSelection("api")},r.closeDelay)):this.clearSelection()),this.hideListBox("keyboard"),this.renderSelection("api"),t.preventDefault(),!1}else this.isOpened()||this.opening||t.ctrlKey||this.listBox.visibleItems&&this.listBox.visibleItems.length>0&&this.input.val()!=this.searchString&&this.searchString!=undefined&&f!=-1&&this.showListBox("search"),this.searchString=this.input.val(),this.searchString==""&&(f=-1),o=this.listBox.getVisibleItem(f),o!=undefined&&this._updateInputSelection()}}}},val:function(n){var t;return this.input?typeof n=="object"||arguments.length==0?(t=this.getSelectedItem(),t)?t.value:this.input.val():(t=this.getItemByValue(n),t!=null?this.selectItem(t):this.input.val(n),this.input.val()):""},focus:function(){var n=this,t=function(){n.input.focus();var t=n.input.val();n._setSelection(0,t.length)};t(),setTimeout(function(){t()},10)},_setSelection:function(n,t){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(n,t);else{var i=this.input[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select()}}catch(r){}},setContent:function(n){this.input.val(n)},_updateItemsVisibility:function(t){var a=this.getItems(),i,c,s,v,e,u,o,l;if(a==undefined)return{index:-1,matchItem:[]};var r=this,f=-1,h=[],y=0;if(n.each(a,function(){var u="",i;if(!this.isGroup){u=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",i=!1;switch(r.searchMode){case"containsignorecase":i=n.jqx.string.containsIgnoreCase(u,t);break;case"contains":i=n.jqx.string.contains(u,t);break;case"equals":i=n.jqx.string.equals(u,t);break;case"equalsignorecase":i=n.jqx.string.equalsIgnoreCase(u,t);break;case"startswith":i=n.jqx.string.startsWith(u,t);break;case"startswithignorecase":i=n.jqx.string.startsWithIgnoreCase(u,t);break;case"endswith":i=n.jqx.string.endsWith(u,t);break;case"endswithignorecase":i=n.jqx.string.endsWithIgnoreCase(u,t)}if(r.autoComplete&&!i&&(this.visible=!1),i&&r.autoComplete&&(h[y++]=this,this.visible=!0,f=this.visibleIndex),t==""&&r.autoComplete&&(this.visible=!0,i=!1),r.multiSelect&&(this.disabled=!1,r.selectedItems.indexOf(this.value)>=0&&(this.disabled=!0,i=!1)),r.multiSelect){if(i&&!r.autoComplete)return f===-1&&(f=this.visibleIndex),!0}else if(i&&!r.autoComplete)return f=this.visibleIndex,!1}}),this.listBox.searchString=t,i=this,c=function(){var n;if(i.multiSelect){var t=0,u=!1,r=null;for(n=0;n<i.listBox.items.length;n++)i.listBox.selectedIndexes[n]=-1,i.listBox.items[n].disabled||u==!1&&(r=i.listBox.items[n],t=r.visibleIndex,u=!0);i.listBox.selectedIndex=-1,i.listBox.selectedIndex=t,i.listBox.selectedIndexes[t]=t,i.listBox.selectedValue=i.listBox.visibleItems.length>0?r?r.value:null:null,i.listBox.ensureVisible(0)}},!this.autoComplete)return c(),{index:f,matchItems:h};if(this.listBox.renderedVisibleItems=[],s=this.listBox.vScrollInstance.value,this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=[],this.listBox._renderItems(),v=this.listBox.selectedValue,e=this.listBox.getItemByValue(v),this.multiSelect)c();else if(e)if(e.visible){for(this.listBox.selectedIndex=e.visibleIndex,u=0;u<this.listBox.items.length;u++)this.listBox.selectedIndexes[u]=-1;this.listBox.selectedIndexes[e.visibleIndex]=e.visibleIndex}else{for(u=0;u<this.listBox.items.length;u++)this.listBox.selectedIndexes[u]=-1;this.listBox.selectedIndex=-1}return this.listBox._renderItems(),o=this.listBox._calculateVirtualSize().height,o<s&&(s=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight?(this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(o+25),this.listBox.invalidate(),this._disableSelection=!1):o<parseInt(this.dropDownHeight)?(l=this.listBox.hScrollBar[0].style.visibility=="hidden"?0:20,this.listBox.height=l+o,this.container.height(o+25+l),this.listBox.invalidate()):(this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate()),this.listBox.vScrollInstance.setPosition(s),{index:f,matchItems:h}},findItems:function(t){var r=this.getItems(),u=this,f=0,i=[];return n.each(r,function(){var e="",r;if(!this.isGroup){e=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",r=!1;switch(u.searchMode){case"containsignorecase":r=n.jqx.string.containsIgnoreCase(e,t);break;case"contains":r=n.jqx.string.contains(e,t);break;case"equals":r=n.jqx.string.equals(e,t);break;case"equalsignorecase":r=n.jqx.string.equalsIgnoreCase(e,t);break;case"startswith":r=n.jqx.string.startsWith(e,t);break;case"startswithignorecase":r=n.jqx.string.startsWithIgnoreCase(e,t);break;case"endswith":r=n.jqx.string.endsWith(e,t);break;case"endswithignorecase":r=n.jqx.string.endsWithIgnoreCase(e,t)}r&&(i[f++]=this)}}),i},_resetautocomplete:function(){n.each(this.listBox.items,function(){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var i,t,r,u;this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width),this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height),i=!1,this.width!=null&&this.width.toString().indexOf("%")!=-1&&(i=!0,this.host.width(this.width)),this.height!=null&&this.height.toString().indexOf("%")!=-1&&(i=!0,this.host.height(this.height)),i&&(t=this,r=this.host.width(),this.dropDownWidth!="auto"&&(r=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:r}),this.container.width(parseInt(r)+25),this._arrange()),u=function(){if(t.multiSelect&&t.host.height(t.height),t._arrange(),t.multiSelect&&t.host.height("auto"),t.dropDownWidth=="auto"){var n=t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}},n.jqx.utilities.resize(this.host,function(){u()})},isOpened:function(){var i=this,t=n.data(document.body,"openedComboJQXListBox"+this.element.id);return this.container.css("display")!="block"?!1:t!=null&&t==i.listBoxContainer?!0:!1},_updateHandlers:function(){var t=this,u=!1,i,r;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(n){if(n.target.href)return!1;t.input.focus(),setTimeout(function(){t.input.focus()},10)}),this.addHandler(this.dropdownlistContent,"focus",function(n){if(n.target.href)return!1;t.input.focus(),setTimeout(function(){t.input.focus()},10)})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(){var n=t.isOpened();n&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(u=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-hover")),t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-combobox-state-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-fill-state-hover")),u=!1)})),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var n=t.isOpened();!n&&t.autoOpen&&(t.open(),t.host.focus())}),this.addHandler(n(document),"mousemove."+t.id,function(n){var s=t.isOpened();if(s&&t.autoOpen){var i=t.host.coord(),r=i.top,u=i.left,f=t.container.coord(),e=f.left,o=f.top;canClose=!0,n.pageY>=r&&n.pageY<=r+t.host.height()+2&&n.pageX>=u&&n.pageX<u+t.host.width()&&(canClose=!1),n.pageY>=o&&n.pageY<=o+t.container.height()-20&&n.pageX>=e&&n.pageX<e+t.container.width()&&(canClose=!1),canClose&&t.close()}})),i="mousedown",this.touch&&(i=n.jqx.mobile.getTouchEventName("touchstart")),r=function(){var i,r;if(!t.disabled&&(i=t.container.css("display")=="block",!t.isanimating)){if(i)return t.hideListBox("api"),n.jqx.mobile.isTouchDevice()||(t.input.focus(),setTimeout(function(){t.input.focus()},10)),!1;if(t.autoDropDownHeight&&(t.container.height(t.listBoxContainer.height()+25),r=t.listBoxContainer.jqxListBox("autoHeight"),r||(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25))),t.showListBox("api"),n.jqx.mobile.isTouchDevice())return!1;t.focus()}},this.addHandler(this.dropdownlistArrow,i,function(n){return r(n),!1}),this.addHandler(this.dropdownlistArrowIcon,i,function(n){return r(n),!1}),this.addHandler(this.host,"focus",function(){t.focus()}),this.addHandler(this.input,"focus",function(n){return t.focused=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-focus")),n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1}),this.addHandler(this.input,"blur",function(){t.focused=!1,t.isOpened()||t.opening||(t.host.removeClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.removeClass(t.toThemeProperty("jqx-combobox-content-focus"))),t._searchTimer&&clearTimeout(t._searchTimer)}),this.addHandler(n(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(n){var f=t.container.css("display")=="block",e,r,i,u;return(t.ctrlKey=n.ctrlKey,t.host.css("display")=="none")?!0:(n.keyCode=="13"||n.keyCode=="9")&&f&&!t.isanimating?(t.listBox.selectedIndex!=-1&&(t.renderSelection("mouse"),e=t.listBox.selectedIndex,r=t.listBox.getVisibleItem(e),r&&(t.listBox.selectedValue=r.value),t._setSelection(t.input.val().length,t.input.val().length),t.hideListBox("keyboard")),n.keyCode=="13"&&(t._oldvalue=t.listBox.selectedValue),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),n.keyCode=="9")?!0:!1:n.keyCode==115?(t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox("keyboard"):t.showListBox("keyboard")),!1):(n.altKey&&t.host.css("display")=="block"&&(t.isanimating||(n.keyCode==38?t.isOpened()&&t.hideListBox("altKey"):n.keyCode==40&&(t.isOpened()||t.showListBox("altKey")))),(n.keyCode=="27"||n.keyCode=="9")&&t.isOpened()&&!t.isanimating)?(n.keyCode=="27"&&(t.multiSelect?(t.listBox.selectedValue=null,t.input.val("")):(r=t.listBox.getVisibleItem(t._oldvalue),r?setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(r.index),t.renderSelection("api")},t.closeDelay):t.clearSelection())),t.hideListBox("keyboard"),n.keyCode=="9")?!0:(t.renderSelection("api"),n.preventDefault(),!1):(i=n.keyCode,f&&!t.disabled&&i!=8)?t.listBox._handleKeyDown(n):!t.disabled&&!f&&(i=n.keyCode,i==33||i==34||i==35||i==36||i==38||i==40)?t.listBox._handleKeyDown(n):i===8&&t.multiSelect&&t.input.val().length===0?(u=t.selectedItems[t.selectedItems.length-1],t.selectedItems.pop(),t._selectedItems.pop(),u&&(t._raiseEvent("3",{index:u.index,type:"keyboard",item:u}),t._raiseEvent("4",{index:u.index,type:"keyboard",item:u})),t.listBox.selectedValue=null,t.doMultiSelect(),!1):void 0}),this.addHandler(this.listBoxContainer,"checkChange",function(n){t.renderSelection("mouse"),t._updateInputSelection(),t._raiseEvent(5,{label:n.args.label,value:n.args.value,checked:n.args.checked,item:n.args.item})}),this.addHandler(this.listBoxContainer,"select",function(n){if(!t.disabled&&(n.args.type!="keyboard"||t.keyboardSelection)&&(t.renderSelection(n.args.type),t.multiSelect||t._raiseEvent("2",{index:n.args.index,type:n.args.type,item:n.args.item}),n.args.type=="mouse"&&(t._oldvalue=t.listBox.selectedValue,!t.checkboxes))){if(t.hideListBox("mouse"),t.touch)return!1;t.input.focus()}}),this.listBox!=null&&this.listBox.content!=null&&this.addHandler(this.listBox.content,"click",function(n){if(!t.disabled){if(t.listBox.itemswrapper&&n.target===t.listBox.itemswrapper[0]||n.target&&n.target.className&&n.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;t.renderSelection("mouse"),t._oldvalue=t.listBox.selectedValue,t.touch||t.ishiding||t.checkboxes||(t.hideListBox("mouse"),t.input.focus()),t.touch===!0&&(t.checkboxes||t.hideListBox("mouse"))}})},removeHandlers:function(){var i=this,t;this.dropdownlistWrapper!=null&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.input!=null&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(n(document),"mousemove."+i.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.dropdownlistArrowIcon&&this.dropdownlistArrow&&(t="mousedown",this.touch&&(t=n.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,t),this.removeHandler(this.dropdownlistArrow,t))},getItem:function(n){return this.listBox.getItem(n)},getItemByValue:function(n){return this.listBox.getItemByValue(n)},getVisibleItem:function(n){return this.listBox.getVisibleItem(n)},renderSelection:function(t){var i,e,h,r,c,f,o,u,s;if(t!=undefined&&t!="none"&&this._disableSelection!==!0&&this.listBox!=null&&!this.multiSelect){if(i=this.listBox.visibleItems[this.listBox.selectedIndex],this.autoComplete&&!this.checkboxes&&this.listBox.selectedValue!==undefined&&(i=this.getItemByValue(this.listBox.selectedValue)),this.checkboxes&&(e=this.getCheckedItems(),i=e!=null&&e.length>0?e[0]:null),i==null){h=n.jqx.browser.msie&&n.jqx.browser.version<8,this.input.val(""),h||this.input.attr("placeholder",this.placeHolder),this._updateInputSelection();return}if(this.selectedIndex=this.listBox.selectedIndex,r=n("<span><\/span>"),i.label!=undefined&&i.label!=null&&i.label.toString().length>0?n.jqx.utilities.html(r,i.label):i.value!=undefined&&i.value!=null&&i.value.toString().length>0?n.jqx.utilities.html(r,i.value):i.title!=undefined&&i.title!=null&&i.title.toString().length>0?n.jqx.utilities.html(r,i.title):n.jqx.utilities.html(r,this.emptyString),c=r.outerHeight(),this.checkboxes){for(f=this.getCheckedItems(),o="",u=0;u<f.length;u++)o+=u==f.length-1?f[u].label:f[u].label+", ";this.input.val(o)}else this.input.val(r.text());r.remove(),this.renderSelectedItem&&(s=this.renderSelectedItem(this.listBox.selectedIndex,i),s!=undefined&&this.input.val(s)),this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&n.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),this.source==null&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.selectedItems=[],this._selectedItems=[],this.doMultiSelect(!1))},unselectIndex:function(n,t){isNaN(n)||(this.listBox.unselectIndex(n,t),this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},selectIndex:function(n,t,i,r){this.listBox.selectIndex(n,t,i,r),this.renderSelection("mouse"),this.selectedIndex=n,this.multiSelect&&this.doMultiSelect()},selectItem:function(n){this.listBox!=undefined&&(this.listBox.selectItem(n),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(n){this.listBox!=undefined&&(this.listBox.unselectItem(n),this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},checkItem:function(n){this.listBox!=undefined&&this.listBox.checkItem(n)},uncheckItem:function(n){this.listBox!=undefined&&this.listBox.uncheckItem(n)},indeterminateItem:function(n){this.listBox!=undefined&&this.listBox.indeterminateItem(n)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getVisibleItem(this.selectedIndex)},getSelectedItems:function(){var t=[],i=this;return n.each(this.selectedItems,function(){var n=i.getItemByValue(this);n?t.push(n):(n=i._selectedItems[this],n&&t.push(n))}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(n){this.listBox.checkIndex(n)},uncheckIndex:function(n){this.listBox.uncheckIndex(n)},indeterminateIndex:function(n){this.listBox.indeterminateIndex(n)},checkAll:function(){this.listBox.checkAll()},uncheckAll:function(){this.listBox.uncheckAll()},insertAt:function(n,t){return n==null?!1:this.listBox.insertAt(n,t)},addItem:function(n){return this.listBox.addItem(n)},removeAt:function(n){var t=this.listBox.removeAt(n);return this.renderSelection("mouse"),t},removeItem:function(n){var t=this.listBox.removeItem(n);return this.renderSelection("mouse"),t},updateItem:function(n,t){var i=this.listBox.updateItem(n,t);return this.renderSelection("mouse"),i},updateAt:function(n,t){var i=this.listBox.updateAt(n,t);return this.renderSelection("mouse"),i},ensureVisible:function(n){return this.listBox.ensureVisible(n)},disableAt:function(n){return this.listBox.disableAt(n)},enableAt:function(n){return this.listBox.enableAt(n)},disableItem:function(n){return this.listBox.disableItem(n)},enableItem:function(n){return this.listBox.enableItem(n)},_findPos:function(t){while(t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t)))t=t.nextSibling;if(t){var i=n(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,r){var u=t.outerWidth(),f=t.outerHeight(),h=n(window).width()+n(window).scrollLeft(),e=n(window).height()+n(window).scrollTop(),o,s;return i.left+u>h&&u>this.host.width()&&(o=this.host.coord().left,s=u-this.host.width(),i.left=o-s+2),i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+f>e&&e>f?Math.abs(f+r+23):0),i},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var t=0,i=0;return n("body").css("border-top-width")!="0px"&&(t=parseInt(n("body").css("border-top-width")),isNaN(t)&&(t=0)),n("body").css("border-left-width")!="0px"&&(i=parseInt(n("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(t){var s,l,p,w,o,a,v,u,y;if(!this.listBox.items||this.listBox.items.length!=0){(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&t!="search"&&this._updateItemsVisibility(""),this.remoteAutoComplete&&this.listBox.clearSelection(),t!="search"&&(this._oldvalue=this.listBox.selectedValue),n.jqx.aria(this,"aria-expanded",!0),this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&this.width.indexOf("%")!=-1&&this.listBox.host.width()!=this.host.width()&&(s=this.host.width(),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25));var r=this,i=this.listBoxContainer,h=this.listBox,b=n(window).scrollTop(),k=n(window).scrollLeft(),f=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",e,c=parseInt(Math.round(this.host.coord(!0).left));e=c+"px",l=n.jqx.mobile.isSafariMobileBrowser()||n.jqx.mobile.isWindowsPhone(),this.ishiding=!1,p=n.jqx.utilities.hasTransform(this.host),(p||l!=null&&l)&&(e=n.jqx.mobile.getLeftPos(this.element),f=n.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),n("body").css("border-top-width")!="0px"&&(f=parseInt(f)-this._getBodyOffset().top+"px"),n("body").css("border-left-width")!="0px"&&(e=parseInt(e)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",e),this.container.css("top",f),h._arrange(),w=!0,o=!1,(this.dropDownHorizontalAlignment=="right"||this.rtl)&&(a=this.container.outerWidth(),v=Math.abs(a-this.host.width()),a>this.host.width()?this.container.css("left",25+parseInt(Math.round(c))-v+"px"):this.container.css("left",25+parseInt(Math.round(c))+v+"px")),this.enableBrowserBoundsDetection&&(u=this.testOffset(i,{left:parseInt(this.container.css("left")),top:parseInt(f)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=u.top?(o=!0,i.css("top",23)):i.css("top",0),this.container.css("top",u.top),this.container.css("top",u.top),parseInt(this.container.css("left"))!=u.left&&this.container.css("left",u.left)),this.animationType=="none"?(this.container.css("display","block"),n.data(document.body,"openedComboJQXListBoxParent",r),n.data(document.body,"openedComboJQXListBox"+r.element.id,i),i.css("margin-top",0),i.css("opacity",1)):(this.container.css("display","block"),y=i.outerHeight(),i.stop(),this.animationType=="fade"?(i.css("margin-top",0),i.css("opacity",0),i.animate({opacity:1},this.openDelay,function(){r.isanimating=!1,r.opening=!1,n.data(document.body,"openedComboJQXListBoxParent",r),n.data(document.body,"openedComboJQXListBox"+r.element.id,i)})):(i.css("opacity",1),o?i.css("margin-top",y):i.css("margin-top",-y),this.isanimating=!0,this.opening=!0,i.animate({"margin-top":0},this.openDelay,function(){r.isanimating=!1,r.opening=!1,n.data(document.body,"openedComboJQXListBoxParent",r),n.data(document.body,"openedComboJQXListBox"+r.element.id,i)}))),h._renderItems(),o?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),i.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),i.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),i.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",h)}},doMultiSelect:function(t){var i,u,s,h,f,e,o,r;if(this.checkboxes&&(this.multiSelect=!1),i=this,!this.multiSelect){r=i.dropdownlistContent.find(".jqx-button"),u="mousedown",this.touch&&(u=n.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(r,u),this.removeHandler(r.find(".jqx-icon-close"),u),r.remove(),this.selectedItems=[],this._selectedItems=[];return}if(!this.validateSelection||(s=this.validateSelection(this.listBox.selectedValue),s)){for(h=this.selectedItems,this.listBox.selectedValue&&(this.selectedItems.indexOf(this.listBox.selectedValue)===-1&&(this.selectedItems.push(this.listBox.selectedValue),f=this.getItemByValue(this.listBox.selectedValue),f&&(this._selectedItems.push(f),this._raiseEvent("2",{index:f.index,item:f}),this._raiseEvent("4",{index:f.index,item:f}))),this.listBox.selectedIndex=0),e=this.listBox.items,o=0;o<e.length;o++)e[o].disabled=!1,this.selectedItems.indexOf(e[o].value)>=0&&(e[o].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var e="",u="mousedown",r=i.dropdownlistContent.find(".jqx-button");this.touch&&(u=n.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(r,u),this.removeHandler(r.find(".jqx-icon-close"),u),r.remove(),i.input.detach(),i.input.css("width","25px"),n.each(this.selectedItems,function(t){var u=i.getItemByValue(this),r,e,o,f;(!u||i.remoteAutoComplete)&&(u=i._selectedItems[t]),r=n('<div style="overflow: hidden; float: left;"><\/div>'),r.addClass(i.toThemeProperty("jqx-button")),r.addClass(i.toThemeProperty("jqx-combobox-multi-item")),r.addClass(i.toThemeProperty("jqx-fill-state-normal")),r.addClass(i.toThemeProperty("jqx-rc-all")),u?(e=u.label,r[0].innerHTML==""&&(r[0].innerHTML='<a data-value="'+u.value+'" style="float: left;" href="#">'+e+"<\/a>"),i.rtl&&(r[0].innerHTML='<a data-value="'+u.value+'" style="float: right;" href="#">'+e+"<\/a>"),o=i.rtl?"left":"right",f='<div style="position: relative; overflow: hidden; float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"><\/div><\/div>',n.jqx.browser.msie&&n.jqx.browser.version<8&&(f='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"><\/div><\/div>'),i.rtl&&(f='<div style="position: relative; overflow: hidden; float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"><\/div><\/div>',n.jqx.browser.msie&&n.jqx.browser.version<8&&(f='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"><\/div><\/div>')),r[0].innerHTML+=f):r[0].innerHTML==""&&(r[0].innerHTML='<a href="#"><\/a>'),i.dropdownlistContent.append(r)}),i.dropdownlistContent.append(i.input),i.input.val(""),t!==!1&&(i.input.focus(),setTimeout(function(){i.input.focus()},10)),r=i.dropdownlistContent.find(".jqx-button"),this.touchMode===!0&&(u="mousedown"),this.addHandler(r,u,function(t){if(t.target.className.indexOf("jqx-icon-close")>=0)return!0;var r=n(t.target).attr("data-value"),u=i.getItemByValue(r);return u&&(i.listBox.selectedValue=null,i.listBox.clearSelection()),i.listBox.scrollTo(0,0),i.open(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}),this.addHandler(r.find(".jqx-icon-close"),u,function(t){var f=n(t.target).parent().parent().find("a").attr("data-value"),r=i.getItemByValue(f),u;r&&(i.listBox.selectedValue=null,u=i.selectedItems.indexOf(f),u>=0&&(i.selectedItems.splice(u,1),i._selectedItems.splice(u,1),i._raiseEvent("3",{index:r.index,type:"mouse",item:r}),i._raiseEvent("4",{index:r.index,type:"mouse",item:r}),i.doMultiSelect()))}),i.dropdownlistArrow.height(this.host.height()),i._updateInputSelection()}},hideListBox:function(t){var i=this.listBoxContainer,o=this.listBox,e=this.container,r,u,f;this.container.css("display")!="none"&&(n.jqx.aria(this,"aria-expanded",!1),(t=="keyboard"||t=="mouse")&&(this.listBox.searchString=""),(t=="keyboard"||t=="mouse"&&this.multiSelect)&&this.doMultiSelect(),r=this,n.data(document.body,"openedComboJQXListBox"+this.element.id,null),this.animationType=="none"?(this.opening=!1,this.container.css("display","none")):this.ishiding||(u=i.outerHeight(),i.css("margin-top",0),i.stop(),this.opening=!1,this.isanimating=!0,f=-u,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(f=u),this.animationType=="fade"?(i.css({opacity:1}),i.animate({opacity:0},this.closeDelay,function(){r.isanimating=!1,e.css("display","none"),r.ishiding=!1})):i.animate({"margin-top":f},this.closeDelay,function(){r.isanimating=!1,e.css("display","none"),r.ishiding=!1})),this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",o))},closeOpenedListBox:function(t){var i=t.data.me,f=n(t.target),u=t.data.listbox,e,r;return u==null?!0:n(t.target).ischildof(t.data.me.host)?void 0:(e=i,r=!1,n.each(f.parents(),function(){if(this.className!="undefined"&&this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1)return r=!0,!1;if(this.className.indexOf("jqx-combobox")!=-1)return i.element.id==this.id&&(r=!0),!1}}),u==null||r||(i.hideListBox("api"),i.input.blur()),!0)},loadFromSelect:function(n){this.listBox.loadFromSelect(n)},refresh:function(){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},_arrange:function(){var s=parseInt(this.host.width()),i=parseInt(this.host.height()),h=this.arrowSize,f=this.arrowSize,e=1,r,u,o,t;this.showArrow||(f=0,h=0,this.dropdownlistArrow.hide(),e=0,this.host.css("cursor","arrow")),r=s-f-1*e,r>0&&this.dropdownlistContent.width(r+"px"),this.rtl&&this.dropdownlistContent.width(-1+r+"px"),this.dropdownlistContent.height(i),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(f+1),this.dropdownlistArrow.height(i),this.dropdownlistArrow.css("left",1+r+"px"),this.input.css("width","100%"),u=this.input.height(),u==0&&(u=parseInt(this.input.css("font-size"))+3),this.input.addClass(this.toThemeProperty("jqx-rc-all")),t=parseInt(i)/2-parseInt(u)/2,t>0&&this.input.css("margin-top",t),this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),n.jqx.browser.msie&&n.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect&&(this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height),i=parseInt(this.host.height()),this.dropdownlistArrow.height(i),o=parseInt(this.host.css("min-height")),t=parseInt(o)/2-parseInt(u)/2,t>0&&this.input.css("margin-top",t))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),n.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(n(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var t=n.data(this.element,"jqxComboBox");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(n,t){var r,i;return t==undefined&&(t={owner:null}),r=this.events[n],args=t,args.owner=this,i=new jQuery.Event(r),i.owner=this,(n==2||n==3||n==4||n==5)&&(i.args=t),this.host.trigger(i)},propertyChangedHandler:function(t,i,r,u){var f;t.isInitialized!=undefined&&t.isInitialized!=!1&&(i==="touchMode"&&(t.listBoxContainer.jqxListBox({touchMode:u}),t.touch=n.jqx.mobile.isTouchDevice(),t.touchMode===!0&&(t.touch=!0),t._updateHandlers()),i=="multiSelect"&&(u?t.doMultiSelect(!1):(t.doMultiSelect(!1),t.dropdownlistWrapper.parent().css("height","100%"),t.dropdownlistContent.css("height","100"),t.dropdownlistWrapper.css("height","100"),t.dropdownlistContent.css("position","relative"),t.host.css("min-height",null),t._setSize(),t._arrange())),i=="showArrow"&&(t._arrange(),t.multiSelect&&t.doMultiSelect(!1)),i=="popupZIndex"&&t.listBoxContainer.css({zIndex:t.popupZIndex}),i=="promptText"&&(t.placeHolder=u),i=="autoOpen"&&t._updateHandlers(),i=="renderer"&&(t.listBox.renderer=t.renderer),i=="itemHeight"&&(t.listBox.itemHeight=u),i=="source"&&(t.input.val(""),t.listBoxContainer.jqxListBox({source:t.source}),t.renderSelection("mouse"),t.source==null&&t.clearSelection(),t.multiSelect&&(t.selectedItems=[],t._selectedItems=[],t.doMultiSelect(!1))),i=="rtl"&&(u?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),(i=="displayMember"||i=="valueMember")&&(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection("mouse")),i=="autoDropDownHeight"&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),i=="dropDownHeight"&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),(i=="dropDownWidth"||i=="scrollBarSize")&&(f=t.width,t.dropDownWidth!="auto"&&(f=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:f,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(f)+25)),i=="autoComplete"&&t._resetautocomplete(),i=="checkboxes"&&(t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),t.checkboxes?(t.input.attr("readonly",!0),n.jqx.aria(t,"aria-readonly",!0)):n.jqx.aria(t,"aria-readonly",!1)),i=="theme"&&u!=null&&(t.listBoxContainer.jqxListBox({theme:u}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),n.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.dropdownlistContent.removeClass(),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-widget-content")),t.input.removeClass(),t.input.addClass(t.toThemeProperty("jqx-combobox-input")),t.input.addClass(this.toThemeProperty("jqx-widget-content")),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-combobox-state-normal")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistArrow.removeClass(),t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-normal")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-normal"))),(i=="width"||i=="height")&&(t._setSize(),i=="width"&&t.dropDownWidth=="auto"&&(f=t.host.width(),t.listBoxContainer.jqxListBox({width:f}),t.container.width(parseInt(f)+25)),t._arrange()),i=="selectedIndex"&&(t.listBox.selectIndex(u),t.renderSelection("mouse")))}})})(jQuery);
//# sourceMappingURL=jqxcombobox.min.js.map
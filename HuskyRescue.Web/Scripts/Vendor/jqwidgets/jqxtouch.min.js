(function(n){var t=0;n.jqx.jqxWidget("jqxTouch","",{}),n.extend(n.jqx._jqxTouch.prototype,{defineInstance:function(){this.swipeMin=50,this.swipeMax=500,this.swipeDelay=1e3,this.tapHoldDelay=750,this.swipeMaxVerticalDisance=100,this.swipeMaxHorizontalDisance=100,this.orientationChangeEnabled=!0,this._eventsMap={mousedown:n.jqx.mobile.getTouchEventName("touchstart"),mouseup:n.jqx.mobile.getTouchEventName("touchend"),mousemove:n.jqx.mobile.getTouchEventName("touchmove")},this._swipeLocked=!1,this._rotationInterval=200,this._events=["tap","taphold","swipe","swipeleft","swiperight","swipetop","swipebottom","orientationchange"],this._instanceId=-1},createInstance:function(){t+=1,this._instanceId=t,this._isTouchDevice=n.jqx.mobile.isTouchDevice(),this._defineRotateHandler()},refresh:function(){this._removeEventListeners(),this._addEventListeners()},_defineRotateHandler:function(){var n=this;this._rotateHandler||(this._rotateHandler=function(){n._checkOrientation()})},_getEvent:function(n){return this._isTouchDevice&&(n=this._eventsMap[n]),n+this._getEventNamespace()},_getEventNamespace:function(){return".swipe"+this._instanceId},_removeEventListeners:function(){clearInterval(this._rotateInterval),this.removeHandler(n(document),this._getEvent("mouseup")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(this.host,this._getEvent("mousemove")),window.removeEventListener&&(window.removeEventListener("resize",this._rotateHandler),window.removeEventListener("orientationchange",this._rotateHandler))},_addEventListeners:function(){var n=this;this.addHandler(this.host,this._getEvent("mouseup"),function(){n._resetSwipe(),n._resetTap()}),this.addHandler(this.host,this._getEvent("mousedown"),function(t){n._initSwipe(t),n._initTap(t)}),this.addHandler(this.host,this._getEvent("mousemove"),function(t){return n._maxSwipeVerticalDistance=Math.max(n._maxSwipeVerticalDistance,Math.abs(n._startY-n._getCoordinates(t).y)),n._maxSwipeHorizontalDistance=Math.max(n._maxSwipeHorizontalDistance,Math.abs(n._startX-n._getCoordinates(t).x)),n._mouseMoved=!0,n._handleSwipeEvents(t)}),this._rotationListeners()},_handleSwipeEvents:function(n){var t=!0;return this._mouseDown&&!this._tapHoldFired&&(t=this._handleVerticalSwipeEvents(n),t=this._handleHorizontalSwipeEvents(n)),this._lastPosition=this._getCoordinates(n),t},_handleVerticalSwipeEvents:function(n){var t,i;return(t=this._getCoordinates(n).y,i=t-this._startY,this._maxSwipeHorizontalDistance<this.swipeMaxHorizontalDisance)?this._swiped(n,i,2):!0},_handleHorizontalSwipeEvents:function(n){var t,i;return(t=this._getCoordinates(n).x,i=t-this._startX,this._maxSwipeVerticalDistance<this.swipeMaxVerticalDisance)?this._swiped(n,i):!0},_swiped:function(n,t,i){return(i=i||0,Math.abs(t)>=this.swipeMin&&!this._swipeEvent&&!this._swipeLocked&&(this._swipeEvent=this._getSwipeEvent(t,i)),Math.abs(t)<=this.swipeMax)?(n.stopImmediatePropagation(),!1):!0},_getSwipeEvent:function(n,t){return n<0?{eventId:3+t,data:{target:this.host}}:{eventId:4+t,data:{target:this.host}}},_resetSwipe:function(){this._swipeEvent&&!this._swipeLocked&&(this._raiseEvent(2,this._swipeEvent.data),this._raiseEvent(this._swipeEvent.eventId,this._swipeEvent.data)),clearTimeout(this._swipeTimeout),this._mouseDown=!1},_resetTap:function(){clearTimeout(this._tapHoldTimeout),this._tapHoldFired||this._mouseMoved||this._raiseEvent(0,{target:this.host})},_initTap:function(){var n=this;this._mouseMoved=!1,this._tapHoldFired=!1,this._tapHoldTimeout=setTimeout(function(){n._mouseMoved||(n._raiseEvent(1,{target:this.host}),n._tapHoldFired=!0)},this.tapHoldDelay)},_initSwipe:function(n){var t=this;this._mouseDown=!0,this._maxSwipeVerticalDistance=0,this._maxSwipeHorizontalDistance=0,this._startX=this._getCoordinates(n).x,this._startY=this._getCoordinates(n).y,this._swipeLocked=!1,this._swipeEvent=null,this._swipeTimeout=setTimeout(function(){t._swipeLocked=!0},this.swipeDelay)},_rotationListeners:function(){var n=this;this._previousOrientation=window.orientation,this._previousWidth=screen.width,this.orientationChangeEnabled&&(window.addEventListener&&(window.addEventListener("resize",this._rotateHandler,!1),window.addEventListener("orientationchange",this._rotateHandler,!1)),this._rotateInterval=setInterval(function(){n._checkOrientation()},this._rotationInterval))},_checkOrientation:function(){var n="vertical";(window.orientation!==this._previousOrientation||this._previousWidth!==screen.width)&&((window.orientation===90||screen.width>screen.height)&&(n="horizontal"),this._raiseEvent(7,{orientation:n})),this._previousOrientation=window.orientation,this._previousWidth=screen.width},_raiseEvent:function(t,i){var r=n.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_getCoordinates:function(t){var i=n.jqx.position(t);return i.x=i.left,i.y=i.top,i},propertyChangedHandler:function(n,t){if(t==="orientationChangeEnabled")this.refresh();else return},isTouchDevice:function(){return this._isTouchDevice}})})(jQuery);
//# sourceMappingURL=jqxtouch.min.js.map
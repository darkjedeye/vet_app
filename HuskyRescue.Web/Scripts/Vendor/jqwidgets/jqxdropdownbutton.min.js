(function(n){n.jqx.jqxWidget("jqxDropDownButton","",{}),n.extend(n.jqx._jqxDropDownButton.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.arrowSize=19,this.enableHover=!0,this.openDelay==undefined&&(this.openDelay=250),this.closeDelay==undefined&&(this.closeDelay=300),this.animationType="default",this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.popupZIndex=2e4,this.autoOpen=!1,this.rtl=!1,this.initContent=null,this.dropDownWidth=null,this.dropDownHeight=null,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["open","close","opening","closing"]},createInstance:function(){var r,o,u,f,t,i,e;this.isanimating=!1,r=n("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' style='background-color: transparent; border: none; float: right; position: relative;'><div><\/div><\/div><\/div><\/div>"),n.jqx.aria(this),this.popupContent=this.host.children(),this.host.attr("role","button"),this.popupContent.length==0?(this.popupContent=n("<div>"+this.host.text()+"<\/div>"),this.popupContent.css("display","block"),this.element.innerHTML=""):this.popupContent.detach(),o=this,this.addHandler(this.host,"loadContent",function(){o._arrange()});try{u="dropDownButtonPopup"+this.element.id,f=n(n.find("#"+u)),f.length>0&&f.remove(),n.jqx.aria(this,"aria-haspopup",!0),n.jqx.aria(this,"aria-owns",u),t=n("<div class='dropDownButton' style='overflow: hidden; left: 0px; top: 0px; position: absolute;' id='dropDownButtonPopup"+this.element.id+"'><\/div>"),t.addClass(this.toThemeProperty("jqx-widget-content")),t.addClass(this.toThemeProperty("jqx-dropdownbutton-popup")),t.addClass(this.toThemeProperty("jqx-popup")),t.addClass(this.toThemeProperty("jqx-rc-all")),t.css("z-index",this.popupZIndex),n.jqx.browser.msie&&t.addClass(this.toThemeProperty("jqx-noshadow")),this.popupContent.appendTo(t),t.appendTo(document.body),this.container=t,this.animationType=="none"?this.container.css("visibility","hidden"):this.container.css("visibility","hidden")}catch(s){}this.touch=n.jqx.mobile.isTouchDevice(),this.dropDownButtonStructure=r,this.host.append(r),this.dropDownButtonWrapper=this.host.find("#dropDownButtonWrapper"),this.dropDownButtonArrow=this.host.find("#dropDownButtonArrow"),this.arrow=n(this.dropDownButtonArrow.children()[0]),this.dropDownButtonContent=this.host.find("#dropDownButtonContent"),this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropDownButtonWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.rtl&&this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-rtl")),i=this,this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownbutton"+this.element.id,function(){var n=i.isOpened();n&&i.close()}),this.addHandler(this.dropDownButtonWrapper,"selectstart",function(){return!1}),this.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+this.element.id,this.dropDownButtonArrow[0].id="dropDownButtonArrow"+this.element.id,this.dropDownButtonContent[0].id="dropDownButtonContent"+this.element.id,i=this,this.propertyChangeMap.disabled=function(t,r,u,f){f?(t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(i.toThemeProperty("jqx-dropdownlist-content-disabled"))),n.jqx.aria(t,"aria-disabled",t.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-normal")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("jqx-icon")),this._setSize(),this.render(),n.jqx.browser.msie&&n.jqx.browser.version<8&&(this.container.css("display","none"),this.host.parents(".jqx-window").length>0&&(e=this.host.parents(".jqx-window").css("z-index"),t.css("z-index",e+10),this.container.css("z-index",e+10)))},setContent:function(n){this.dropDownButtonContent.children().remove(),this.dropDownButtonContent[0].innerHTML="",this.dropDownButtonContent.append(n)},val:function(n){if(arguments.length==0||typeof n=="object")return this.dropDownButtonContent.text(n);this.dropDownButtonContent.html(n)},getContent:function(){return this.dropDownButtonContent.children().length>0?this.dropDownButtonContent.children():this.dropDownButtonContent.text()},_setSize:function(){var t,i;this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width),this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height),t=!1,this.width!=null&&this.width.toString().indexOf("%")!=-1&&(t=!0,this.host.width(this.width)),this.height!=null&&this.height.toString().indexOf("%")!=-1&&(t=!0,this.host.height(this.height)),i=this,t&&this.refresh(!1),n.jqx.utilities.resize(this.host,function(){i._arrange()})},isOpened:function(){var i=this,t=n.data(document.body,"openedJQXButton"+this.element.id);return t!=null&&t==i.popupContent?!0:!1},focus:function(){try{this.host.focus()}catch(n){}},render:function(){this.removeHandlers();var t=this,i=!1;this.touch||this.host.hover(function(){!t.disabled&&t.enableHover&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))},function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),i=!1)}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var n=t.isOpened();!n&&t.autoOpen&&(t.open(),t.host.focus())}),this.addHandler(n(document),"mousemove."+t.element.id,function(n){var s=t.isOpened();if(s&&t.autoOpen){var i=t.host.coord(),r=i.top,u=i.left,f=t.container.coord(),e=f.left,o=f.top;canClose=!0,n.pageY>=r&&n.pageY<=r+t.host.height()&&n.pageX>=u&&n.pageX<u+t.host.width()&&(canClose=!1),n.pageY>=o&&n.pageY<=o+t.container.height()&&n.pageX>=e&&n.pageX<e+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.addHandler(this.dropDownButtonWrapper,"mousedown",function(){if(!t.disabled){var n=t.container.css("visibility")=="visible";if(!t.isanimating){if(n)return t.close(),!1;t.open()}}}),this.touch&&this.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+"."+this.element.id,t.closeOpenedDropDown,{me:this,popup:this.container,id:this.element.id}),this.addHandler(n(document),"mousedown."+this.element.id,t.closeOpenedDropDown,{me:this,popup:this.container,id:this.element.id}),this.addHandler(this.host,"keydown",function(n){var i=t.container.css("visibility")=="visible";if(t.host.css("display")=="none")return!0;if(n.keyCode=="13"&&(t.isanimating||i&&t.close()),n.keyCode==115)return t.isanimating||(t.isOpened()?t.isOpened()&&t.close():t.open()),!1;n.altKey&&t.host.css("display")=="block"&&(n.keyCode==38?t.isOpened()&&t.close():n.keyCode==40&&(t.isOpened()||t.open())),n.keyCode=="27"&&(t.ishiding||(t.close(),t.tempSelectedIndex!=undefined&&t.selectIndex(t.tempSelectedIndex)))}),this.addHandler(this.host.find("div:first"),"focus",function(){t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host.find("div:first"),"blur",function(){t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var t=this;this.removeHandler(this.dropDownButtonWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host.find("div:first"),"focus"),this.removeHandler(this.host.find("div:first"),"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(n(document),"mousemove."+t.element.id)},_findPos:function(t){while(t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t)))t=t.nextSibling;var i=n(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,r){var u=t.outerWidth(),f=t.outerHeight(),s=n(window).width()+n(window).scrollLeft(),h=n(window).height()+n(window).scrollTop(),e,o;return i.left+u>s&&u>this.host.width()&&(e=this.host.coord().left,o=u-this.host.width(),i.left=e-o+2),i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top+f>h&&(i.top-=Math.abs(f+r)),i},_getBodyOffset:function(){var t=0,i=0;return n("body").css("border-top-width")!="0px"&&(t=parseInt(n("body").css("border-top-width")),isNaN(t)&&(t=0)),n("body").css("border-left-width")!="0px"&&(i=parseInt(n("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){var t,a,s,v,h,f,l;n.jqx.aria(this,"aria-expanded",!0),t=this,(this.dropDownWidth==null||this.dropDownWidth=="auto")&&this.width!=null&&this.width.indexOf&&this.width.indexOf("%")!=-1&&(a=this.host.width(),this.container.width(parseInt(a))),t._raiseEvent("2");var i=this.popupContent,y=n(window).scrollTop(),p=n(window).scrollLeft(),r=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",u,o=parseInt(Math.round(this.host.coord(!0).left));u=o+"px",s=n.jqx.mobile.isSafariMobileBrowser()||n.jqx.mobile.isWindowsPhone(),v=n.jqx.utilities.hasTransform(this.host),this.ishiding=!1,this.tempSelectedIndex=this.selectedIndex,(v||s!=null&&s)&&(u=n.jqx.mobile.getLeftPos(this.element),r=n.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),n("body").css("border-top-width")!="0px"&&(r=parseInt(r)-this._getBodyOffset().top+"px"),n("body").css("border-left-width")!="0px"&&(u=parseInt(u)-this._getBodyOffset().left+"px")),i.stop(),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),h=!1,n.jqx.browser.msie&&n.jqx.browser.version<8&&(h=!0),h&&this.container.css("display","block"),this.container.css("left",u),this.container.css("top",r);var c=!1,e=function(){if(this.dropDownHorizontalAlignment=="right"||this.rtl){var n=this.container.width(),t=Math.abs(n-this.host.width());n>this.host.width()?this.container.css("left",parseInt(Math.round(o))-t+"px"):this.container.css("left",parseInt(Math.round(o))+t+"px")}};e.call(this),this.enableBrowserBoundsDetection&&(f=this.testOffset(i,{left:parseInt(this.container.css("left")),top:parseInt(r)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=f.top?(c=!0,this.container.height(i.outerHeight()),i.css("top",23),this.interval&&clearInterval(this.interval),this.interval=setInterval(function(){if(i.outerHeight()!=t.container.height()){var n=t.testOffset(i,{left:parseInt(t.container.css("left")),top:parseInt(r)},parseInt(t.host.outerHeight()));t.container.css("top",n.top),t.container.height(i.outerHeight())}},50)):i.css("top",0),this.container.css("top",f.top),parseInt(this.container.css("left"))!=f.left&&this.container.css("left",f.left)),this.animationType=="none"?(this.container.css("visibility","visible"),n.data(document.body,"openedJQXButtonParent",t),n.data(document.body,"openedJQXButton"+this.element.id,i),i.css("margin-top",0),i.css("opacity",1),this._raiseEvent("0"),e.call(t)):(this.container.css("visibility","visible"),l=i.outerHeight(),t.isanimating=!0,this.animationType=="fade"?(i.css("margin-top",0),i.css("opacity",0),i.animate({opacity:1},this.openDelay,function(){n.data(document.body,"openedJQXButtonParent",t),n.data(document.body,"openedJQXButton"+t.element.id,i),t.ishiding=!1,t.isanimating=!1,t._raiseEvent("0")}),e.call(t)):(i.css("opacity",1),c?i.css("margin-top",l):i.css("margin-top",-l),e.call(t),i.animate({"margin-top":0},this.openDelay,function(){n.data(document.body,"openedJQXButtonParent",t),n.data(document.body,"openedJQXButton"+t.element.id,i),t.ishiding=!1,t.isanimating=!1,t._raiseEvent("0")}))),c?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.container.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),this.host.find("div:first").focus(),setTimeout(function(){t.host.find("div:first").focus()},10),this.container.addClass(this.toThemeProperty("jqx-fill-state-focus"))},close:function(){var r,f,e;n.jqx.aria(this,"aria-expanded",!1);var i=this.popupContent,u=this.container,t=this;(t._raiseEvent("3"),r=!1,n.jqx.browser.msie&&n.jqx.browser.version<8&&(r=!0),this.isOpened())&&(n.data(document.body,"openedJQXButton"+this.element.id,null),this.animationType=="none"?(this.container.css("visibility","hidden"),r&&this.container.css("display","none")):t.ishiding||(t.isanimating=!0,i.stop(),f=i.outerHeight(),i.css("margin-top",0),e=-f,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(e=f),this.animationType=="fade"?(i.css({opacity:1}),i.animate({opacity:0},this.closeDelay,function(){u.css("visibility","hidden"),t.isanimating=!1,t.ishiding=!1,r&&u.css("display","none")})):i.animate({"margin-top":e},this.closeDelay,function(){u.css("visibility","hidden"),t.isanimating=!1,t.ishiding=!1,r&&u.css("display","none")})),this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.container.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1"))},closeOpenedDropDown:function(t){var r=t.data.me,u=n(t.target),f,i;return n(t.target).ischildof(t.data.me.host)?!0:n(t.target).ischildof(t.data.me.popupContent)?!0:(f=r,i=!1,n.each(u.parents(),function(){if(this.className!="undefined"&&this.className.indexOf("dropDownButton")!=-1)return i=!0,!1}),i||r.close(),!0)},refresh:function(){this._arrange()},_arrange:function(){var n=parseInt(this.host.width()),t=parseInt(this.host.height()),f=this.arrowSize,i=this.arrowSize,r=3,u=n-i-2*r;u>0&&this.dropDownButtonContent.width(u+"px"),this.dropDownButtonContent.height(t),this.dropDownButtonContent.css("left",0),this.dropDownButtonContent.css("top",0),this.dropDownButtonArrow.width(i),this.dropDownButtonArrow.height(t),this.rtl&&(this.dropDownButtonArrow.css("float","left"),this.dropDownButtonContent.css("float","right"),this.dropDownButtonContent.css("left",-r)),this.dropDownWidth!=null&&(this.dropDownWidth.toString().indexOf("%")>=0?(n=parseInt(this.dropDownWidth)*this.host.width()/100,this.container.width(n)):this.container.width(this.dropDownWidth)),this.dropDownHeight!=null&&this.container.height(this.dropDownHeight)},destroy:function(){this.removeHandler(this.dropDownButtonWrapper,"selectstart"),this.removeHandler(this.dropDownButtonWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.host.removeClass(),this.removeHandler(n(document),"mousedown."+this.element.id,self.closeOpenedDropDown),this.host.remove(),this.container.remove()},_raiseEvent:function(n,t){var r,i;return t==undefined&&(t={owner:null}),n!=2||this.contentInitialized||this.initContent&&(this.initContent(),this.contentInitialized=!0),r=this.events[n],args=t,args.owner=this,i=new jQuery.Event(r),i.owner=this,(n==2||n==3||n==4)&&(i.args=t),this.host.trigger(i)},propertyChangedHandler:function(t,i,r,u){this.isInitialized!=undefined&&this.isInitialized!=!1&&(i=="rtl"&&(u?(t.dropDownButtonArrow.css("float","left"),t.dropDownButtonContent.css("float","right")):(t.dropDownButtonArrow.css("float","right"),t.dropDownButtonContent.css("float","left"))),i=="autoOpen"&&t.render(),i=="theme"&&u!=null&&n.jqx.utilities.setTheme(r,u,t.host),(i=="width"||i=="height")&&(t._setSize(),t._arrange()))}})})(jQuery);
//# sourceMappingURL=jqxdropdownbutton.min.js.map
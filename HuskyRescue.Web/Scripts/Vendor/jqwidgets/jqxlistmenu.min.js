(function(n){n.jqx.jqxWidget("jqxListMenu","",{});var t=0,i=0;n.extend(n.jqx._jqxListMenu.prototype,{defineInstance:function(){this.filterCallback=function(t,i){return n.jqx.string.containsIgnoreCase(n.trim(t),i)},this.placeHolder="Filter list items...",this.showFilter=!1,this.showHeader=!0,this.showBackButton=!0,this.showNavigationArrows=!0,this.alwaysShowNavigationArrows=!1,this.backLabel="Back",this.width="100%",this.height="auto",this.animationType="slide",this.animationDuration=0,this.headerAnimationDuration=0,this.autoSeparators=!1,this.readOnly=!1,this.roundedCorners=!0,this.disabled=!1,this.enableScrolling=!0,this.touchMode=!1,this._childrenMap={},this._parentMap={},this._lock=!1,this._backButton=null,this._currentPage=null,this._header=null,this._oldHost,this.rtl=!1,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}}},destroy:function(){this.host.remove()},createInstance:function(){n.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),n.jqx.browser.msie&&n.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(t){var u=this.host.find(".jqx-listmenu-auto-separator"),r=this.host.find('[data-role="listmenu"]'),t,i;for(u.remove(),i=0;i<r.length;i+=1)t=n(r[i]),(t.data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(t)},_renderSublists:function(){var r=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]],f,t,o,e,u,i;for(this._refreshList(r[0]);r.length;)for(o=r.pop(),f=this._getChildrenByTagName(o,"li","LI"),e=f.length,i=0;i<e;i+=1)t=f[i],n(t).attr("role","treeitem"),u=this._getChildList(t),this._refreshLi(t,i,e),u&&(r.push(u),this._refreshList(u,t,!0))},_refreshList:function(t,i,r){t=n(t),t.data("role")==="listmenu"&&(t.is(".jqx-listmenu")||(this._renderList(t),this._handleListId(t),this._addListClasses(t)),i&&this._expandHierarchy(t[0],i),r&&this._handleSublist(t[0]))},_renderList:function(t){t=n(t),t.is(".jqx-listmenu")||(t.detach(),t.appendTo(this.host))},_handleListId:function(n){n[0].id||(n[0].id="jqx-listmenu-"+i,i+=1)},_renderListAutoSeparators:function(t){for(var o=t.children("li"),e,i,r={},f,u=0;u<o.length;u+=1)i=n(o[u]),i.data("role")||(n.trim(i.text())[0]!==e&&(e=n.trim(i.text())[0],f=n('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+e+"<\/li>"),f.insertBefore(i),f[0].items=[],r=f[0]),r.items&&(r.items[r.items.length]=i[0]))},_addListClasses:function(n){n.addClass("jqx-listmenu")},_expandHierarchy:function(n,t){if(t&&n){var i=t.id,r=n.id;this._childrenMap[i]=r,this._parentMap[r]=i}},_handleSublist:function(n){n.style.display=this._currentPage&&n===this._currentPage[0]?"block":"none"},_getChildrenByTagName:function(n,t,i){var u=[],r={};for(r[t]=r[i]=!0,n=n.firstChild;n;)r[n.nodeName]&&u.push(n),n=n.nextSibling;return u},_renderFilterBar:function(){this._filterBar||(this._filterBar=n("<div/>"),this._filterInput=n('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var t=!1;n.jqx.browser.msie&&n.jqx.browser.version<8&&(t=!0),t||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=n("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=n("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){if(!this._backButton&&(this._backButton=n('<div><div style="float: left;"><\/div><span style="float: left;">'+this.backLabel+'<\/span><div style="clear:both;"><\/div><\/div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl)){var t=n.jqx.browser.msie&&n.jqx.browser.version<8;t?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15))}this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var t=this.isTouchDevice()&&!this.touchMode,i=n.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,t?i:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var t=this,i=this.isTouchDevice()&&!this.touchMode,r=n.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,i?r:"click",function(){t.back()}),this.addHandler(this._filterInput,"keyup change",function(){t._filter(n(this).val())})},_getChildList:function(n){var t,i,r;if(n)return(t=this._childrenMap[n.id],n.className.indexOf("jqx-listmenu-item")>=0&&t)?document.getElementById(t):(i=this._getChildrenByTagName(n,"ul","UL")[0],r=this._getChildrenByTagName(n,"ol","OL")[0],i||r)},_refreshLi:function(n,t,i){if(n.parentNode&&n.parentNode.getAttribute("data-role")==="listmenu"){if(n.id=="");this._handleLiId(n),this._renderLi(n),this._removeLiEventHandlers(n),this._addLiEventHandlers(n),this._addLiClasses(n,t,i)}},_handleLiId:function(n){n.id||(n.id="jqx-listmenu-item-"+t,t+=1)},_renderLi:function(t){if(!/(separator|header)/.test(n(t).data("role"))&&!(n(t).children(".jqx-listmenu-arrow-right").length>0)&&(n(t).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"><\/span>'),this.showNavigationArrows||this.alwaysShowNavigationArrows)){var i=n("<span/>"),r=n(t).find("ul"),u=n(t).find("ol");(this.alwaysShowNavigationArrows||r.length>0&&/(listmenu)/.test(r.data("role"))||u.length>0&&/(listmenu)/.test(u.data("role")))&&(i.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),i.prependTo(t)):(i.addClass(this.toThemeProperty("jqx-icon-arrow-right")),i.appendTo(t)))}},_removeLiEventHandlers:function(t){var i=this.isTouchDevice(),r=n.jqx.mobile.getTouchEventName("touchstart"),u=n.jqx.mobile.getTouchEventName("touchend"),o=n.jqx.mobile.getTouchEventName("touchmove"),f=(i?r:"mousedown")+".listmenu",e=(i?u:"mouseup")+".listmenu";this.removeHandler(n(t),f),this.removeHandler(n(document),e+"."+t.id)},isTouchDevice:function(){var t=n.jqx.mobile.isTouchDevice();return this.touchMode==!0&&(t=!0),t},_addLiEventHandlers:function(t){t=n(t);var i=this,f=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),e=t.children(".jqx-listmenu-arrow-right"),r=i.isTouchDevice()&&!this.touchMode,h=n.jqx.mobile.getTouchEventName("touchstart"),c=n.jqx.mobile.getTouchEventName("touchstart"),a=n.jqx.mobile.getTouchEventName("touchmove"),l=(r?h:"mousedown")+".listmenu",o=(r?c:"mouseup")+".listmenu",s=null,u="";/(separator|readonly)/.test(t.data("role"))||this.readOnly||(this.addHandler(t,"dragstart",function(){return!1}),this.addHandler(t,l,function(r){i.disabled||(s=r.target,u=n.jqx.position(r),t.find('div[data-role="content"]').length==0&&(t.addClass(i.toThemeProperty("jqx-fill-state-pressed")),e.addClass(f)))}),this.addHandler(t,o,function(f){i.disabled||s!=f.target&&r||(r?n.jqx.position(f).top===u.top&&i.next(t):n.jqx.position(f).top===u.top&&i.next(t))}),this.addHandler(n(document),o+"."+t[0].id,function(){i.disabled||(t.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(f))}))},_addLiClasses:function(t,i,r){t=n(t),t.data("role")==="separator"?this._handleSeparatorStyle(t):t.data("role")==="header"?this._handleHeaderStyle(t):(this.readOnly||t.data("role")==="readonly"?t.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):t.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(t)),i!==0||this.showHeader||this.showFilter||t.addClass(this.toThemeProperty("jqx-rc-t")),i===r-1&&t.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(n){n.addClass(this.toThemeProperty("jqx-listmenu-separator")),n.addClass(this.toThemeProperty("jqx-fill-state-pressed")),n[0].style.listStyle="none"},_handleHeaderStyle:function(n){n.css("display","none")},_handleItemStyle:function(n){n.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&n.addClass(this.toThemeProperty("jqx-rtl")),n.addClass(this.toThemeProperty("jqx-fill-state-normal"))},back:function(){var i=this._currentPage,t;i&&(t=this._parentMap[i[0].id]),this._back=!0,n("#"+t).length>0&&n.jqx.aria(n("#"+t),"aria-expanded",!1),this._changePage(i,n("#"+t).parent(),this.animationDuration,!0),this._back=!1},next:function(t){var i=t.attr("id"),r=this._childrenMap[i],u=n("#"+r),f=n("#"+i).parent();n.jqx.aria(t,"aria-expanded",!0),this._changePage(f,u,this.animationDuration)},changePage:function(t){if(typeof t=="string"&&(t=n(t)),!t[0]||t.attr("data-role")!=="listmenu"||t.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=t[0]&&this._changePage(this._currentPage,t,this.animationDuration)},_changePage:function(t,i,r,u){if(!this._lock){var f="_"+this.animationType+"Change"+(u?"Back":"");i[0]&&(this.showFilter&&(i.find('div[data-role="content"]').length>0?(n.each(i.find("li"),function(){n(this).data("role")==="separator"&&n(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[f](t,i,this.animationDuration,function(){this._lock=!1,this._changeHeader(i),this._currentPage=i}))}},_changeHeader:function(t){var r=n(t).find('li[data-role="header"]').first(),i;r[0]&&(i=this,this._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){i._headerLabel.html(r.html()),i._headerLabel.fadeIn(i.headerAnimationDuration/2)}))},_slideChange:function(t,i,r,u){var f=this,e;this.enableScrolling&&this.panel!=null&&this.panel.jqxPanel("scrollTo",0,0),e=this.rtl,this._initSlide(t,i),e?(t.animate({"margin-left":t.width()+parseInt(t.css("margin-right"),10)||0},r,"easeInOutSine"),i.animate({"margin-left":0},r,"easeInOutSine",function(){f._slideEnd(t,i),u.call(f,n(this))})):(t.animate({"margin-left":-t.width()-parseInt(t.css("margin-right"),10)||0},r,"easeInOutSine"),i.animate({"margin-left":0},r,"easeInOutSine",function(){f._slideEnd(t,i),u.call(f,n(this))}))},_initSlide:function(n,t){var i=this.rtl;n.width(n.width()),t.css({marginTop:-n.outerHeight(!0),marginLeft:i?-n.width()-(parseInt(n.css("margin-right"),10)||0):n.width()+(parseInt(n.css("margin-right"),10)||0),display:"block",height:"auto",width:n.width()})},_slideEnd:function(n,t){this.host.css("height","auto"),n.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),t.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(t,i,r,u){var f=this;this._initSlideBack(t,i),t.animate({"margin-left":this.rtl?-t.width()-parseInt(t.css("margin-right"),10)||0:t.width()+parseInt(t.css("margin-right"),10)||0},r),i.animate({"margin-left":0},r,function(){f._slideEnd(t,i),u.call(f,n(this))})},_initSlideBack:function(n,t){n.css({marginTop:-t.outerHeight(!0),width:n.width()}),t.css({width:n.width(),marginLeft:this.rtl?n.width()+parseInt(n.css("margin-right"),10)||0:-n.width()-parseInt(n.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(n,t,i,r){this._fadeChange(n,t,i,r)},_fadeChange:function(t,i,r,u){var f=this;t.fadeOut(r/2,function(){i.fadeIn(r/2,function(){u.call(f,n(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(t){for(var r=this.host.find(".jqx-listmenu-item"),f,u,i=0;i<r.length;i+=1)f=n.trim(n(r[i]).text()),r[i].style.display=this.filterCallback(f,t)?"block":"none";for(r=this.host.find(".jqx-listmenu-separator"),i=0;i<r.length;i+=1)u=!1,n.each(r[i].items,function(){if(n(this).css("display")!="none")return u=!0,!1}),r[i].style.display=u?"block":"none"},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(n,t,i,r){if(t=="disabled"&&(r?n.disable():n.enable()),t==="backLabel"){n._backButton.html(r);return}if(t==="placeHolder")n._filterInput.attr("placeholder",r);else if(/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(t)){n._render();return}}})})(jQuery);
//# sourceMappingURL=jqxlistmenu.min.js.map
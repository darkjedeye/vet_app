(function(n){n.jqx.jqxWidget("jqxChart","",{}),n.extend(n.jqx._jqxChart.prototype,{defineInstance:function(){this.title="Title",this.description="Description",this.source=[],this.seriesGroups=[],this.categoryAxis={},this.renderEngine=undefined,this.enableAnimations=!0,this.backgroundImage=this.background=undefined,this.padding={left:5,top:5,right:5,bottom:5},this.backgroundColor="#FFFFFF",this.showBorderLine=!0,this.borderLineWidth=1,this.titlePadding={left:2,top:2,right:2,bottom:2},this.showLegend=!0,this.legendLayout=undefined,this.enabled=!0,this.colorScheme="scheme01",this.animationDuration=500,this.showToolTips=!0,this.toolTipShowDelay=this.toolTipDelay=500,this.toolTipHideDelay=4e3,this.toolTipFormatFunction=undefined,this.columnSeriesOverlap=!1,this.rtl=!1,this.legendPosition=null,this.borderLineColor=null,this.borderColor=null,this.greyScale=!1,this.axisPadding=5,this.enableCrosshairs=!1,this.crosshairsColor="#888888",this.crosshairsDashStyle="2,2",this.crosshairsLineWidth=1},createInstance:function(){var t,r,i;if(!n.jqx.dataAdapter)throw"jqxdata.js is not loaded";this._refreshOnDownloadComlete(),t=this;this.host.on("mousemove",function(n){if(t.enabled!=!1){n.preventDefault();var i=n.pageX||n.clientX||n.screenX,r=n.pageY||n.clientY||n.screenY,u=t.host.offset();i-=u.left,r-=u.top;t.onmousemove(i,r)}});this.addHandler(this.host,"mouseleave",function(){t.enabled!=!1&&(t._cancelTooltipTimer(),t._hideToolTip(0))}),r=n.jqx.mobile.isTouchDevice(),this.addHandler(this.host,"click",function(){if(t.enabled!=!1&&(r||(t._cancelTooltipTimer(),t._hideToolTip()),t._pointMarker&&t._pointMarker.element)){var n=t.seriesGroups[t._pointMarker.gidx],i=n.series[t._pointMarker.sidx];t._raiseEvent("click",n,i,t._pointMarker.iidx)}}),this.element.style&&(i=!1,this.element.style.width!=null&&(i|=this.element.style.width.toString().indexOf("%")!=-1),this.element.style.height!=null&&(i|=this.element.style.height.toString().indexOf("%")!=-1),i&&n(window).resize(function(){t.timer&&clearTimeout(t.timer);var i=n.jqx.browser.msie?200:1;t.timer=setTimeout(function(){var n=t.enableAnimations;t.enableAnimations=!1,t.refresh(),t.enableAnimations=n},i)}))},_refreshOnDownloadComlete:function(){var t,i,r;this.source instanceof n.jqx.dataAdapter&&(t=this,i=this.source._options,i!=undefined&&(i==undefined||i.autoBind)||(this.source.autoSync=!1,this.source.dataBind()),this.source.records.length==0?(r=function(){t.ready&&t.ready(),t.refresh()},this.source.unbindDownloadComplete(this.element.id),this.source.bindDownloadComplete(this.element.id,r)):t.ready&&t.ready(),this.source.unbindBindingUpdate(this.element.id),this.source.bindBindingUpdate(this.element.id,function(){t.refresh()}))},propertyChangedHandler:function(n,t){this.isInitialized!=undefined&&this.isInitialized!=!1&&(t=="source"&&this._refreshOnDownloadComlete(),this.refresh())},_internalRefresh:function(){var t,i;if(!n.jqx.isHidden(this.host)){if(this._stopAnimations(),this.host.empty(),this._renderData=[],t=null,document.createElementNS&&(this.renderEngine=="SVG"||this.renderEngine==undefined)&&(t=new n.jqx.svgRenderer,!t.init(this.host))){if(this.renderEngine=="SVG")throw"Your browser does not support SVG";return}if(t==null&&this.renderEngine!="HTML5"){if(t=new n.jqx.vmlRenderer,!t.init(this.host)){if(this.renderEngine=="VML")throw"Your browser does not support VML";return}this._isVML=!0}if(t==null&&(this.renderEngine=="HTML5"||this.renderEngine==undefined)&&(t=new n.jqx.HTML5Renderer,!t.init(this.host)))throw"Your browser does not support HTML5 Canvas";this.renderer=t,i=this.renderer.getRect(),this._render({x:1,y:1,width:i.width,height:i.height}),this.renderer instanceof n.jqx.HTML5Renderer&&this.renderer.refresh()}},saveAsPNG:function(n,t){return this._saveAsImage("png",n,t)},saveAsJPEG:function(n,t){return this._saveAsImage("jpeg",n,t)},_saveAsImage:function(n,t,i){var u,s,h,o,r,f,e;if((t==undefined||t=="")&&(t="chart."+n),(i==undefined||i=="")&&(i="http://www.jqwidgets.com/export_server/export.php"),u=this.renderEngine,s=this.enableAnimations,this.enableAnimations=!1,this.renderEngine="HTML5",this.renderEngine!=u)try{this.refresh()}catch(c){this.renderEngine=u,this.refresh(),this.enableAnimations=s}try{h=this.renderer.getContainer()[0],h&&(o=h.toDataURL("image/"+n),o=o.replace("data:image/"+n+";base64,",""),r=document.createElement("form"),r.method="POST",r.action=i,r.style.display="none",document.body.appendChild(r),f=document.createElement("input"),f.name="fname",f.value=t,f.style.display="none",e=document.createElement("input"),e.name="content",e.value=o,e.style.display="none",r.appendChild(f),r.appendChild(e),r.submit(),document.body.removeChild(r))}catch(c){}return this.renderEngine!=u&&(this.renderEngine=u,this.refresh(),this.enableAnimations=s),!0},refresh:function(){this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","pie","donut","scatter","bubble"],_render:function(t){var b,et,nt,f,s,ht,ct,p,at,tt,v,it,l,k,h,d,e,vt,rt,ni,c,y,pt,wt,i,a,yt,bt,ot,kt;this.renderer.clear(),b=this.backgroundImage,b==undefined||b==""?this.host.css({"background-image":""}):this.host.css({"background-image":b.indexOf("(")!=-1?b:"url('"+b+"')"}),this._buildStats();var g=this.padding||{left:5,top:5,right:5,bottom:5},st=this.renderer.rect(t.x,t.y,t.width-2,t.height-2),dt=this.renderer.beginGroup(),gt=this.renderer.createClipRect(t);this.renderer.setClip(dt,gt),b==undefined||b==""?this.renderer.attr(st,{fill:this.background||this.backgroundColor||"white"}):this.renderer.attr(st,{fill:"transparent"}),this.showBorderLine!=!1&&(et=this.borderLineColor==undefined?this.borderColor:this.borderLineColor,et==undefined&&(et="#888888"),nt=this.borderLineWidth,(isNaN(nt)||nt<0||nt>10)&&(nt=1),this.renderer.attr(st,{"stroke-width":nt,stroke:et})),f={x:g.left,y:g.top,width:t.width-g.left-g.right,height:t.height-g.top-g.bottom},this._paddedRect=f,s=this.titlePadding||{left:2,top:2,right:2,bottom:2},this.title&&this.title.length>0&&(ht=this.toThemeProperty("jqx-chart-title-text",null),p=this.renderer.measureText(this.title,0,{"class":ht}),this.renderer.text(this.title,f.x+s.left,f.y+s.top,f.width-(s.left+s.right),p.height,0,{"class":ht},!0,"center","center"),f.y+=p.height,f.height-=p.height),this.description&&this.description.length>0&&(ct=this.toThemeProperty("jqx-chart-title-description",null),p=this.renderer.measureText(this.description,0,{"class":ct}),this.renderer.text(this.description,f.x+s.left,f.y+s.top,f.width-(s.left+s.right),p.height,0,{"class":ct},!0,"center","center"),f.y+=p.height,f.height-=p.height),(this.title||this.description)&&(f.y+=s.bottom+s.top,f.height-=s.bottom+s.top);var r={x:f.x,y:f.y,width:f.width,height:f.height},lt=this._isPieOnlySeries(),w={};for(i=0;i<this.seriesGroups.length&&!lt;i++)if(this.seriesGroups[i].type!="pie"&&this.seriesGroups[i].type!="donut"){if(c=this.seriesGroups[i].orientation=="horizontal",at=this.seriesGroups[i].valueAxis,!at)throw"seriesGroup["+i+"] is missing "+(c?"categoryAxis":"valueAxis")+" definition";if(tt=this._getCategoryAxis(i),!tt)throw"seriesGroup["+i+"] is missing "+(c?"valueAxis":"categoryAxis")+" definition";v=tt==this.categoryAxis?-1:i,w[v]=0}for(it=this.axisPadding,isNaN(it)&&(it=5),l={left:0,right:0,leftCount:0,rightCount:0},k=[],i=0;i<this.seriesGroups.length;i++){if(this.seriesGroups[i].type=="pie"||this.seriesGroups[i].type=="donut"){k.push(0);continue}var c=this.seriesGroups[i].orientation=="horizontal",v=this._getCategoryAxis(i)==this.categoryAxis?-1:i,o=at.axisSize,y={x:0,y:r.y,width:r.width,height:r.height},u=undefined;o&&o!="auto"||(c?(o=this._renderCategoryAxis(i,y,!0,r).width,(w[v]&1)==1?o=0:w[v]|=1,u=this._getCategoryAxis(i).position):(o=this._renderValueAxis(i,y,!0,r).width,this.seriesGroups[i].valueAxis&&(u=this.seriesGroups[i].valueAxis.position))),u!="left"&&this.rtl==!0&&(u="right"),u!="right"&&(u="left"),l[u+"Count"]>0&&l[u]>0&&o>0&&(l[u]+=it),k.push({width:o,position:u,xRel:l[u]}),l[u]+=o,l[u+"Count"]++}for(h={top:0,bottom:0,topCount:0,bottomCount:0},d=[],i=0;i<this.seriesGroups.length;i++){if(this.seriesGroups[i].type=="pie"||this.seriesGroups[i].type=="donut"){d.push(0);continue}var c=this.seriesGroups[i].orientation=="horizontal",tt=this._getCategoryAxis(i),v=tt==this.categoryAxis?-1:i;u=undefined,e=tt.axisSize,e&&e!="auto"||(c?(e=this._renderValueAxis(i,{x:0,y:0,width:1e7,height:0},!0,r).height,this.seriesGroups[i].valueAxis&&(u=this.seriesGroups[i].valueAxis.position)):(e=this._renderCategoryAxis(i,{x:0,y:0,width:1e7,height:0},!0).height,(w[v]&2)==2?e=0:w[v]|=2,u=this._getCategoryAxis(i).position)),u!="top"&&(u="bottom"),h[u+"Count"]>0&&h[u]>0&&e>0&&(h[u]+=it),d.push({height:e,position:u,yRel:h[u]}),h[u]+=e,h[u+"Count"]++}if(this._plotRect=r,vt=this.showLegend!=!1,rt=!vt||this.legendLayout?{width:0,height:0}:this._renderLegend(f,!0),!(f.height<h.top+h.bottom+rt.height)&&!(f.width<l.left+l.right)){if(r.height-=h.top+h.bottom+rt.height,r.x+=l.left,r.width-=l.left+l.right,r.y+=h.top,!lt)for(ni=this.categoryAxis.tickMarksColor||"#888888",i=0;i<this.seriesGroups.length;i++){var c=this.seriesGroups[i].orientation=="horizontal",v=this._getCategoryAxis(i)==this.categoryAxis?-1:i,y={x:r.x,y:0,width:r.width,height:d[i].height};if(y.y=d[i].position!="top"?r.y+r.height+d[i].yRel:r.y-d[i].yRel-d[i].height,c)this._renderValueAxis(i,y,!1,r);else{if((w[v]&4)==4)continue;this._renderCategoryAxis(i,y,!1,r),w[v]|=4}}if(vt){var ut=r.x+n.jqx._ptrnd((r.width-rt.width)/2),ft=r.y+r.height+h.bottom,o=r.width,e=rt.height;this.legendLayout&&(ut=this.legendLayout.left||ut,ft=this.legendLayout.top||ft,o=this.legendLayout.width||o,e=this.legendLayout.height||e),ut+o>t.x+t.width&&(o=t.x+t.width-ut),ft+e>t.y+t.height&&(e=t.y+t.height-ft),this._renderLegend({x:ut,y:ft,width:o,height:e})}if(this._hasHorizontalLines=!1,!lt)for(i=0;i<this.seriesGroups.length;i++)if(c=this.seriesGroups[i].orientation=="horizontal",y={x:r.x-k[i].xRel-k[i].width,y:r.y,width:k[i].width,height:r.height},k[i].position!="left"&&(y.x=r.x+r.width+k[i].xRel),c){if((w[this._getCategoryAxis(i)]&8)==8)continue;this._renderCategoryAxis(i,y,!1,r),w[this._getCategoryAxis(i)]|=8}else this._renderValueAxis(i,y,!1,r);if(!(r.width<=0)&&!(r.height<=0)){for(this._plotRect={x:r.x,y:r.y,width:r.width,height:r.height},pt=this.renderer.beginGroup(),wt=this.renderer.createClipRect({x:r.x,y:r.y,width:r.width,height:r.height}),this.renderer.setClip(pt,wt),this._createAnimationGroup("series"),i=0;i<this.seriesGroups.length;i++){a=this.seriesGroups[i],yt=!1;for(bt in this._seriesTypes)if(this._seriesTypes[bt]==a.type){yt=!0;break}if(!yt)throw'jqxChart: invalid series type "'+a.type+'"';if(a.bands)for(ot=0;ot<a.bands.length;ot++)this._renderBand(i,ot,r);a.type.indexOf("column")!=-1?this._renderColumnSeries(i,r):a.type.indexOf("pie")!=-1||a.type.indexOf("donut")!=-1?this._renderPieSeries(i,r):a.type.indexOf("line")!=-1||a.type.indexOf("area")!=-1?this._renderLineSeries(i,r):(a.type=="scatter"||a.type=="bubble")&&this._renderScatterSeries(i,r)}this._startAnimation("series"),this.renderer.endGroup(),this.enabled==!1&&(kt=this.renderer.rect(t.x,t.y,t.width,t.height),this.renderer.attr(kt,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})),this.renderer.endGroup()}}},_isPieOnlySeries:function(){if(this.seriesGroups.length==0)return!1;for(var n=0;n<this.seriesGroups.length;n++)if(this.seriesGroups[n].type!="pie"&&this.seriesGroups[n].type!="donut")return!1;return!0},_renderChartLegend:function(t,i,r,u){for(var o={x:i.x+3,y:i.y+3,width:i.width-6,height:i.height-6},a={width:o.width,height:0},f=0,s=0,h=20,p=0,l=10,k=10,v=0,y,w,e,b,d,c=0;c<t.length;c++)y=t[c].css,y||(y=this.toThemeProperty("jqx-chart-legend-text",null)),w=t[c].text,e=this.renderer.measureText(w,0,{"class":y}),e.height>h&&(h=e.height),e.width>v&&(v=e.width),u?(c!=0&&(s+=h),s>o.height&&(s=0,f+=v+k,v=e.width,a.width=f+v)):(f!=0&&(f+=k),f+2*l+e.width>o.width&&e.width<o.width&&(f=0,s+=h,h=20,p=o.width,a.heigh=s+h)),!r&&o.x+f+e.width<i.x+i.width&&o.y+s+e.height<i.y+i.height&&(b=t[c].color,d=this.renderer.rect(o.x+f,o.y+s+l/2,l,l),this.renderer.attr(d,{fill:b,"fill-opacity":t[c].opacity,stroke:b,"stroke-width":1}),this.renderer.text(w,o.x+f+1.5*l,o.y+s,e.width,h,0,{"class":y},!1,"center","center")),u||(f+=e.width+2*l,p<f&&(p=f));if(r)return a.height=n.jqx._ptrnd(s+h),a.width=n.jqx._ptrnd(p),a},_renderLegend:function(n,t){for(var c=[],f,r,u,l,v,a,e,h,y,o,i=0;i<this.seriesGroups.length;i++)if(f=this.seriesGroups[i],f.showLegend!=!1){var s=this._getCategoryAxis(i),p=s.toolTipFormatSettings||s.formatSettings,w=s.toolTipFormatFunction||s.formatFunction;for(r=0;r<f.series.length;r++)if(u=f.series[r],u.showLegend!=!1){if(l=this._getSerieSettings(i,r),f.type=="pie"||f.type=="donut"){for(v=u.colorScheme||f.colorScheme||this.colorScheme,a=this._getDataLen(i),e=0;e<a;e++)h=this._getDataValue(e,u.displayText,i),h=this._formatValue(h,p,w),o=this._getColor(v,r*a+e,i,r),c.push({groupIndex:i,seriesIndex:r,itemIndex:e,text:h,css:u.displayTextClass,color:o,opacity:l.opacity});continue}y=u.displayText||u.dataField||"",o=this._getSeriesColor(i,r),c.push({groupIndex:i,seriesIndex:r,text:y,css:u.displayTextClass,color:o,opacity:l.opacity})}}return this._renderChartLegend(c,n,t,this.legendLayout&&this.legendLayout.flow=="vertical")},_renderCategoryAxis:function(n,t,i,r){var u=this._getCategoryAxis(n),s=this.seriesGroups[n].orientation=="horizontal",e,o,y,c,p,h,w,f,a,v;if(!u||u.visible==!1)return{width:0,height:0};this.rtl&&(u.flip=!0);var h=u.text,g={visible:u.showGridLines!=!1,color:u.gridLinesColor||"#888888",unitInterval:u.gridLinesInterval||u.unitInterval,dashStyle:u.gridLinesDashStyle},nt={visible:u.showTickMarks!=!1,color:u.tickMarksColor||"#888888",unitInterval:u.tickMarksInterval||u.unitInterval,dashStyle:u.tickMarksDashStyle},b=u.textRotationAngle||0,k=t;s&&(k={x:t.x,y:t.y,width:t.height,height:t.width}),e=this._calculateXOffsets(n,k),o=u.unitInterval,isNaN(o)&&(o=1);var tt=u.horizontalTextAlignment,d=this._alignValuesWithTicks(n),it=this.renderer.getRect(),et=it.width-t.x-t.width,ot=this._getDataLen(n),l=[];if(u.type!="date"){for(y=e.customRange!=!1,c=o,f=e.min;f<=e.max;f+=c)if(y||u.dataField==undefined||u.dataField==""?value=f:(p=Math.round(f),value=this._getDataValue(p,u.dataField)),h=this._formatValue(value,u.formatSettings,u.formatFunction,undefined,undefined,p),h==undefined&&(h=y?f.toString():value.toString()),l.push(h),f+c>e.max&&(c=e.max-f,c<=o/2))break}else for(w=this._getDateTimeArray(e.min,e.max,u.baseUnit,d,o),f=0;f<w.length;f+=o)l.push(this._formatValue(w[f],u.formatSettings,u.formatFunction));(u.flip==!0||this.rtl)&&l.reverse(),a=u.descriptionClass,a||(a=this.toThemeProperty("jqx-chart-axis-description",null)),v=u["class"],v||(v=this.toThemeProperty("jqx-chart-axis-text",null)),s&&(b-=90);var rt={text:u.description,style:a,halign:u.horizontalDescriptionAlignment||"center",valign:u.verticalDescriptionAlignment||"center",textRotationAngle:s?-90:0},ut={textRotationAngle:b,style:v,halign:tt,valign:u.verticalTextAlignment||"center",textRotationPoint:u.textRotationPoint||"auto",textOffset:u.textOffset},ft=s&&u.position=="right"||!s&&u.position=="top";return this._renderAxis(s,ft,rt,ut,{x:t.x,y:t.y,width:t.width,height:t.height},r,o,!1,d,l,e,g,nt,i)},_renderAxis:function(t,i,r,u,f,e,o,s,h,c,l,a,v,y){var d=v.visible?4:0,k=2,g={width:0,height:0},w={width:0,height:0},pt,tt,ft,wt,vt,lt,et,nt,ut,b,p,dt,rt;t?g.height=w.height=f.height:g.width=w.width=f.width,!y&&i&&t&&(f.x-=f.width),r.text!=undefined&&r!=""&&(pt=r.textRotationAngle,tt=this.renderer.measureText(r.text,pt,{"class":r.style}),w.width=tt.width,w.height=tt.height,y||this.renderer.text(r.text,f.x+(t?i?-k+2*f.width-w.width:k:0),f.y+(t?0:i?k:f.height-k-w.height),t?w.width:f.width,t?f.height:w.height,pt,{"class":r.style},!0,r.halign,r.valign)),ft=0,wt=h?-l.itemWidth/2:0,h&&!t&&(u.halign="center");var st=f.x,it=f.y,ht=u.textOffset;ht&&(isNaN(ht.x)||(st+=ht.x),isNaN(ht.y)||(it+=ht.y)),t?(st+=k+(w.width>0?w.width+k:0)+(i?f.width-w.width:0),it+=wt):(st+=wt,i?(it+=w.height>0?w.height+3*k:2*k,it+=d-(h?d:d/4)):it+=h?d:d/4);var bt=0,kt=0,ct=l.itemWidth;for(b=0;b<c.length;b++,ft+=ct){var gt=c[b],ni=u.textRotationAngle,tt=this.renderer.measureText(gt,ni,{"class":u.style});if(tt.width>kt&&(kt=tt.width),tt.height>bt&&(bt=tt.height),!y){if(t&&ft>f.height+2||!t&&ft>f.width+2)break;(!s||s&&b%o==0)&&this.renderer.text(gt,t?st:st+ft,t?it+ft:it,t?f.width-2*k-d-(w.width>0?w.width+k:0):ct,t?ct:f.height-2*k-d-(w.height>0?w.height+k:0),ni,{"class":u.style},!1,u.halign,u.valign,u.textRotationPoint)}}if(g.width+=2*k+d+w.width+kt+(t&&w.width>0?k:0),g.height+=2*k+d+w.height+bt+(!t&&w.height>0?k:0),vt={},nt={stroke:a.color,"stroke-width":1,"stroke-dasharray":a.dashStyle||""},y||(rt=n.jqx._ptrnd(f.y+(i?f.height:0)),t?this.renderer.line(n.jqx._ptrnd(f.x+f.width),f.y,n.jqx._ptrnd(f.x+f.width),f.y+f.height,nt):this.renderer.line(n.jqx._ptrnd(f.x),rt,n.jqx._ptrnd(f.x+f.width+1),rt,nt)),lt=.5,!y&&a.visible!=!1){et=a.unitInterval,(isNaN(et)||et<=0)&&(et=o);for(var ot=s?c.length:l.rangeLength,at=s?1:et,yt=s?ct:(t?f.height:f.width)/l.rangeLength,b=0;b<=ot;){if(s&&b%et!=0){b+=at;continue}if(p=0,t){if(p=n.jqx._ptrnd(f.y+b*yt),p>f.y+f.height+lt)break}else if(p=n.jqx._ptrnd(f.x+b*yt),p>f.x+f.width+lt)break;t?this.renderer.line(n.jqx._ptrnd(e.x),p,n.jqx._ptrnd(e.x+e.width),p,nt):this.renderer.line(p,n.jqx._ptrnd(e.y),p,n.jqx._ptrnd(e.y+e.height),nt),vt[p]=!0,b+=at,b>ot&&b!=ot+at&&(b=ot)}}if(nt={stroke:v.color,"stroke-width":1,"stroke-dasharray":v.dashStyle||""},!y&&v.visible){ut=v.unitInterval,(isNaN(ut)||ut<=0)&&(ut=o);var ot=s?c.length:l.rangeLength+ut,at=s?1:ut,yt=s?ct:(t?f.height:f.width)/l.rangeLength;for(b=0;b<=ot;b+=at)if(!s||b%ut/o==0){if(p=n.jqx._ptrnd((t?f.y:f.x)+b*yt),vt[p-1]?p--:vt[p+1]&&p++,t){if(p>f.y+f.height+lt)break}else if(p>f.x+f.width+lt)break;dt=i?d:-d,t?this.renderer.line(f.x+f.width,p,f.x+f.width+dt,p,nt):(rt=n.jqx._ptrnd(f.y+(i?f.height:0)),this.renderer.line(p,rt,p,rt-dt,nt))}}return g.width=n.jqx._rup(g.width),g.height=n.jqx._rup(g.height),g},_renderValueAxis:function(n,t,i,r){var l=this.seriesGroups[n],c=l.orientation=="horizontal",u=l.valueAxis,ut,f,p,ft,w,o,rt,h,d,ot,v,st,y,ht,ct;if(!u)throw"SeriesGroup "+n+" is missing valueAxis definition";if((ut={width:0,height:0},this._isPieOnlySeries())||(f=this._stats.seriesGroups[n],!f||!f.isValid||!1==u.displayValueAxis||!1==u.visible))return i?ut:void 0;p=u.descriptionClass,p||(p=this.toThemeProperty("jqx-chart-axis-description",null)),ft={text:u.description,style:p,halign:u.horizontalDescriptionAlignment||"center",valign:u.verticalDescriptionAlignment||"center",textRotationAngle:c?0:this.rtl?90:-90},w=u.itemsClass,w||(w=this.toThemeProperty("jqx-chart-axis-text",null));var lt={style:w,halign:u.horizontalTextAlignment||"center",valign:u.verticalTextAlignment||"center",textRotationAngle:u.textRotationAngle||0,textRotationPoint:u.textRotationPoint||"auto",textOffset:u.textOffset},g=u.valuesOnTicks!=!1,at=u.dataField,a=f.intervals,nt=f.min,e=f.mu,tt=u.formatSettings,it=l.type.indexOf("stacked")!=-1&&l.type.indexOf("100")!=-1;it&&!tt&&(tt={sufix:"%"}),g||(a=Math.max(a-1,1)),o=u.logarithmicScale==!0,rt=u.logarithmicScaleBase||10,o&&(e=isNaN(u.unitInterval)?1:u.unitInterval);var b=(c?t.width:t.height)/a,et=t.y+t.height-b,k=[],s={};for(s.data=[],s.itemWidth=b,h=0;h<=a;h++)d=0,d=o?it?f.max/Math.pow(rt,a-h):nt*Math.pow(rt,h):g?nt+h*e:nt+(h+.5)*e,ot=u.formatFunction?u.formatFunction(d):this._formatNumber(d,tt),k.push(ot),s.data.push(et+b/2),et-=b;return s.rangeLength=o&&!it?f.intervals:f.intervals*e,l.valueAxis.flip!=!0&&(s.data=s.data.reverse(),k=k.reverse()),v=u.gridLinesInterval||u.unitInterval,(isNaN(v)||o&&v<e)&&(v=e),st={visible:u.showGridLines!=!1,color:u.gridLinesColor||"#888888",unitInterval:v,dashStyle:u.gridLinesDashStyle},y=u.tickMarksInterval||u.unitInterval,(isNaN(y)||o&&y<e)&&(y=e),ht={visible:u.showTickMarks!=!1,color:u.tickMarksColor||"#888888",unitInterval:y,dashStyle:u.tickMarksDashStyle},ct=c&&u.position=="top"||!c&&u.position=="right"||!c&&this.rtl&&u.position!="left",this._renderAxis(!c,ct,ft,lt,t,r,e,o,g,k,s,st,ht,i)},_buildStats:function(){var yt={seriesGroups:[]},c,t,i,p,ft,et,pt,wt,l,s,bt,r,g,tt,it,rt,w,ut;for(this._stats=yt,c=0;c<this.seriesGroups.length;c++){t=this.seriesGroups[c],yt.seriesGroups[c]={},i=yt.seriesGroups[c],i.isValid=!0;var a=t.valueAxis!=undefined,v=!1,h=10;a&&(v=t.valueAxis.logarithmicScale==!0,h=t.valueAxis.logarithmicScaleBase,isNaN(h)&&(h=10));var b=-1!=t.type.indexOf("stacked"),y=b&&-1!=t.type.indexOf("100"),kt=-1!=t.type.indexOf("range");y&&(i.psums=[],i.nsums=[]);var e=NaN,u=NaN,f=NaN,o=NaN,lt=t.baselineValue;isNaN(lt)&&(lt=v&&!y?1:0);var dt=this._getDataLen(c),at=0,vt=NaN;for(p=0;p<dt&&i.isValid;p++){var ot=a?t.valueAxis.minValue:Infinity,st=a?t.valueAxis.maxValue:-Infinity,d=0,ht=0;for(l=0;l<t.series.length;l++){if(ft=undefined,et=undefined,kt)pt=this._getDataValueAsNumber(p,t.series[l].dataFieldFrom,c),wt=this._getDataValueAsNumber(p,t.series[l].dataFieldTo,c),ft=Math.max(pt,wt),et=Math.min(pt,wt);else{if(s=this._getDataValueAsNumber(p,t.series[l].dataField,c),isNaN(s)||v&&s<=0)continue;et=ft=s}(isNaN(st)||ft>st)&&(!a||isNaN(t.valueAxis.maxValue)?!0:ft<=t.valueAxis.maxValue)&&(st=ft),(isNaN(ot)||et<ot)&&(!a||isNaN(t.valueAxis.minValue)?!0:et>=t.valueAxis.minValue)&&(ot=et),s>lt?d+=s:s<lt&&(ht+=s)}if(v&&y)for(l=0;l<t.series.length;l++)(s=this._getDataValueAsNumber(p,t.series[l].dataField,c),isNaN(s)||s<=0)||(g=d==0?0:s/d,(isNaN(vt)||g<vt)&&(vt=g));bt=d-ht,at<bt&&(at=bt),y&&(i.psums[p]=d,i.nsums[p]=ht),(st>u||isNaN(u))&&(u=st),(ot<e||isNaN(e))&&(e=ot),(d>f||isNaN(f))&&(f=d),(ht<o||isNaN(o))&&(o=ht)}y&&(f=f==0?0:Math.max(f,-o),o=o==0?0:Math.min(o,-f)),r=a?t.valueAxis.unitInterval:0,r||(r=b?(f-o)/10:(u-e)/10);var k=NaN,nt=0,ct=0;if(v){if(y){for(k=0,g=1,nt=ct=n.jqx.log(100,h);g>vt;)g/=h,nt--,k++;e=Math.pow(h,nt)}else b&&(u=Math.max(u,f)),ct=n.jqx._rnd(n.jqx.log(u,h),1,!0),u=Math.pow(h,ct),nt=n.jqx._rnd(n.jqx.log(e,h),1,!1),e=Math.pow(h,nt);r=h}(tt=a?t.valueAxis.tickMarksInterval||r:0,it=a?t.valueAxis.gridLinesInterval||r:0,e<o&&(o=e),u>f&&(f=u),rt=v?e:n.jqx._rnd(b?o:e,r,!1),w=v?u:n.jqx._rnd(b?f:u,r,!0),y&&w>100&&(w=100),y&&!v&&(w=w>0?100:0,rt=rt<0?-100:0,r=a?t.valueAxis.unitInterval:10,(isNaN(r)||r<=0||r>=100)&&(r=10),(tt<=0||tt>=100)&&(tt=10),(it<=0||it>=100)&&(it=10)),isNaN(w)||isNaN(rt)||isNaN(r))||(isNaN(k)&&(k=(w-rt)/(r==0?1:r)),v&&!y&&(k=ct-nt,at=Math.pow(h,k)),k<1)||(ut=w-rt,i.rmax=b?f:u,i.rmin=b?o:e,i.min=rt,i.max=w,i.minPow=nt,i.maxPow=ct,i.mu=r,i.maxRange=at,i.intervals=k,i.tickMarksInterval=tt,i.tickMarksIntervals=tt==0?0:ut/tt,i.gridLinesInterval=it,i.gridLinesIntervals=it==0?0:ut/it,ut==0&&(ut=1),i.scale=b?(f-o)/ut:(u-e)/ut)}},_getDataLen:function(t){var i=this.source;return(t!=undefined&&t!=-1&&this.seriesGroups[t].source&&(i=this.seriesGroups[t].source),i instanceof n.jqx.dataAdapter&&(i=i.records),i)?i.length:0},_getDataValue:function(t,i,r){var u=this.source;return(r!=undefined&&r!=-1&&(u=this.seriesGroups[r].source||u),u instanceof n.jqx.dataAdapter&&(u=u.records),!u||t<0||t>u.length-1)?NaN:i&&i!=""?u[t][i]:u[t]},_getDataValueAsNumber:function(n,t,i){var r=this._getDataValue(n,t,i);return this._isDate(r)?r.valueOf():(typeof r!="number"&&(r=parseFloat(r)),typeof r!="number"&&(r=undefined),r)},_renderPieSeries:function(t,i){for(var b=this._getDataLen(t),y=this.seriesGroups[t],u,h,it,rt,k,r,o,c,d,w,vt,ut,ft,l,a;this._renderData.length<t+1;)this._renderData.push(null);for(this._renderData[t]=[],u=0;u<y.series.length;u++){var f=y.series[u],nt=this._getSerieSettings(t,u),bt=f.colorScheme||y.colorScheme||this.colorScheme,ht=f.initialAngle||0,e=ht,s=f.radius||Math.min(i.width,i.height)*.4;isNaN(s)&&(s=1),h=f.innerRadius||0,(isNaN(h)||h>=s)&&(h=0);var p=f.centerOffset||0,ct=n.jqx.getNum([f.offsetX,y.offsetX,i.width/2]),lt=n.jqx.getNum([f.offsetY,y.offsetY,i.height/2]),at=this._getAnimProps(t,u),tt=at.enabled&&b<5e3&&this._isVML!=!0?at.duration:0;for(n.jqx.mobile.isMobileBrowser()&&this.renderer instanceof n.jqx.HTML5Renderer&&(tt=0),this._renderData[t].push([]),it=0,rt=0,r=0;r<b;r++)(o=this._getDataValueAsNumber(r,f.dataField,t),isNaN(o))||(o>0?it+=o:rt+=o);for(k=it-rt,k==0&&(k=1),r=0;r<b;r++)if(o=this._getDataValueAsNumber(r,f.dataField,t),!isNaN(o)){c=Math.round(Math.abs(o)/k*360),r+1==b&&(c=360+ht-e);var l=i.x+ct,a=i.y+lt,pt={x1:l,y1:a,innerRadius:h,outerRadius:s,key:t+"_"+u+"_"+r};this._renderData[t][u].push(pt),d=this.renderer.pieslice(l,a,h,s,e,tt==0?e+c:e,p),w=p,n.isFunction(p)&&(w=p({seriesIndex:u,seriesGroupIndex:t,itemIndex:r})),isNaN(w)&&(w=0),vt={x:l,y:a,innerRadius:h,outerRadius:s,fromAngle:e,toAngle:e+c,centerOffset:w},ut=this,this._enqueueAnimation("series",d,undefined,tt,function(n,t,i){var r=t.fromAngle+i*(t.toAngle-t.fromAngle),u=ut.renderer.pieSlicePath(t.x,t.y,t.innerRadius,t.outerRadius,t.fromAngle,r,t.centerOffset);ut.renderer.attr(n,{d:u})},vt),ft=this._getColors(t,u,r,"radialGradient",s),this.renderer.attr(d,{fill:ft.fillColor,stroke:ft.lineColor,"stroke-width":nt.stroke,"fill-opacity":nt.opacity,"stroke-dasharray":nt.dashStyle});var g=e,et=e+c,ot=Math.abs(g-et),kt=ot>180?1:0;ot>360&&(g=0,et=360);var dt=g*Math.PI/180,gt=et*Math.PI/180,wt=ot/2+g,yt=wt*Math.PI/180,v=this._showLabel(t,u,r,{x:0,y:0,width:0,height:0},"left","top",!0),st=f.labelRadius||s+Math.max(v.width,v.height);st+=p,l=n.jqx._ptrnd(i.x+ct+st*Math.cos(yt)-v.width/2),a=n.jqx._ptrnd(i.y+lt-st*Math.sin(yt)-v.height/2),this._showLabel(t,u,r,{x:l,y:a,width:v.width,height:v.height},"left","top"),this._installHandlers(d,t,u,r),e+=c}}},_getColumnGroupsCount:function(n){var r=0,i,t,u;for(n=n||"vertical",i=this.seriesGroups,t=0;t<i.length;t++)u=i[t].orientation||"vertical",i[t].type.indexOf("column")!=-1&&u==n&&r++;return r},_getColumnGroupIndex:function(n){for(var r=0,f=this.seriesGroups[n].orientation||"vertical",i,u,t=0;t<n;t++)i=this.seriesGroups[t],u=i.orientation||"vertical",i.type.indexOf("column")!=-1&&u==f&&r++;return r},_renderBand:function(n,t,i){var u=this.seriesGroups[n],f,o,s;if(u.bands&&!(u.bands.length<=t)&&(f=i,u.orientation=="horizontal"&&(f={x:i.y,y:i.x,width:i.height,height:i.width}),o=this._calcGroupOffsets(n,f),o&&!(o.length<=n))){var h=u.bands[t],c=o.bands[t],l=c.from,a=c.to,y=Math.abs(l-a),r={x:f.x,y:Math.min(l,a),width:f.width,height:y};u.orientation=="horizontal"&&(s=r.x,r.x=r.y,r.y=s,s=r.width,r.width=r.height,r.height=s);var p=this.renderer.rect(r.x,r.y,r.width,r.height),v=h.color||"#AAAAAA",e=h.opacity;(isNaN(e)||e<0||e>1)&&(e=.5),this.renderer.attr(p,{fill:v,"fill-opacity":e,stroke:v,"stroke-width":0})}},_renderColumnSeries:function(n,t){var i=this.seriesGroups[n],s,p,d,r,w,g,u,f,st,e,a,b,c,nt,it,vt;if(i.series&&i.series.length!=0){var k=i.type.indexOf("stacked")!=-1,wt=k&&i.type.indexOf("100")!=-1,bt=i.type.indexOf("range")!=-1,kt=this._getDataLen(n),l=i.columnsGapPercent;if((isNaN(l)||l<0||l>100)&&(l=25),s=i.seriesGapPercent,(isNaN(s)||s<0||s>100)&&(s=10),p=i.orientation=="horizontal",d=t,p&&(d={x:t.y,y:t.x,width:t.height,height:t.width}),r=this._calcGroupOffsets(n,d),r&&r.xoffsets.length!=0)for(w=this._getColumnGroupsCount(i.orientation),g=this._getColumnGroupIndex(n),this.columnSeriesOverlap==!0&&(w=1,g=0),u=0;u<i.series.length;u++){var rt=i.series[u],ut=rt.columnsMaxWidth||i.columnsMaxWidth,yt=rt.dataField,ft=this._getAnimProps(n,u),et=ft.enabled&&r.xoffsets.length<100?ft.duration:0,pt=this._alignValuesWithTicks(n),ot=[];for(f=r.xoffsets.first;f<=r.xoffsets.last;f++)if(st=this._getDataValueAsNumber(f,yt,n),typeof st=="number"){e=r.xoffsets.data[f],a=r.xoffsets.itemWidth,pt&&(e-=a/2),e+=a*(g/w),a/=w;var ht=e+a,ct=ht-e+1,h=(ht-e+1)/(1+l/100),lt=!k&&i.series.length>1?h*s/100/(i.series.length-1):0,o=h-lt*(i.series.length-1);h<1&&(h=1),b=0,!k&&i.series.length>1&&(o/=i.series.length,b=u),c=e+(ct-h)/2+b*(lt+o),b==i.series.length&&(o=ct-e+h-c),isNaN(ut)||(nt=Math.min(o,ut),c=c+(o-nt)/2,o=nt);var at=r.offsets[u][f].to,tt=r.offsets[u][f].from,dt=r.baseOffset,v=tt-at,y={x:t.x+c,y:Math.min(at,tt),width:o,height:Math.abs(v)};p&&(y={height:o,y:t.y+c},y.x=tt,y.width=Math.abs(v),v>0&&(y.x-=v)),ot.push({itemIndex:f,rect:y,size:v,vertical:!p})}it={groupIndex:n,seriesIndex:u,items:ot},this._animateColumns(it,et==0?1:0),vt=this,this._enqueueAnimation("series",undefined,undefined,et,function(n,t,i){vt._animateColumns(t,i)},it)}}},_calcStackedItemSize:function(n,t,i,r){var u=this._renderData[n],c=Math.abs(u.offsets[t][i].to-u.offsets[t][i].from),e,o,l,a,s,h,f;if(isNaN(c))return 0;for(e=0,o=0,f=0;f<u.offsets.length;f++)(l=Math.abs(u.offsets[f][i].to-u.offsets[f][i].from),isNaN(l))||(u.offsets[f][i].to<u.baseOffset?e+=l:o+=l);for(a=o*r,s=e*r,e=0,o=0,h=0,f=0;f<=t;f++)(h=Math.abs(u.offsets[f][i].to-u.offsets[f][i].from),isNaN(h))||(u.offsets[f][i].to<u.baseOffset?e+=h:o+=h);return(u.offsets[t][i].to>=u.baseOffset&&(e=o,s=a),s<e-c)?0:s>=e?c:s-(e-c)},_animateColumns:function(t,i){for(var o=t.groupIndex,s=t.seriesIndex,c=this.seriesGroups[o],y=c.series[s],h=this._getSerieSettings(o,s),l=h.colors,a=c.type.indexOf("stacked")!=-1,u=t.items,e,f,v,r=0;r<u.length;r++)(e=u[r].rect,f=n.jqx._ptrnd(u[r].size*i),a&&(f=this._calcStackedItemSize(o,s,r,i),u[r].size<0&&(f*=-1)),isNaN(f))||(u[r].element==undefined&&(u[r].element=this.renderer.rect(e.x,e.y,u[r].vertical?e.width:0,u[r].vertical?0:e.height),this.renderer.attr(u[r].element,{fill:l.fillColor,"fill-opacity":h.opacity,stroke:l.lineColor,"stroke-width":h.stroke,"stroke-dasharray":h.dashStyle})),f=Math.abs(f),f==0?this.renderer.attr(u[r].element,{display:"none"}):this.renderer.attr(u[r].element,{display:"block"}),u[r].vertical==!0?u[r].size<0?this.renderer.attr(u[r].element,{height:f}):this.renderer.attr(u[r].element,{y:e.y+e.height-f,height:f}):u[r].size<0?this.renderer.attr(u[r].element,{width:f}):this.renderer.attr(u[r].element,{x:e.x+e.width-f,width:f}),i==1&&(this._installHandlers(u[r].element,o,s,u[r].itemIndex),v=this._showLabel(o,s,u[r].itemIndex,e)))},_renderScatterSeries:function(t,i){var c=this.seriesGroups[t],u,ot,f,h,y,r,e,o,s,ft,a,d,b,et,g;if(c.series&&c.series.length!=0){var k=c.type=="bubble",nt=c.orientation=="horizontal",tt=i;if(nt&&(tt={x:i.y,y:i.x,width:i.height,height:i.width}),u=this._calcGroupOffsets(t,tt),u&&u.xoffsets.length!=0)for(ot=this._alignValuesWithTicks(t),f=0;f<c.series.length;f++){var p=this._getSerieSettings(t,f),it=p.colors,l=c.series[f],st=l.dataField,v=NaN,w=NaN;if(k)for(r=u.xoffsets.first;r<=u.xoffsets.last;r++){if(e=this._getDataValueAsNumber(r,l.radiusDataField,t),typeof e!="number")throw"Invalid radiusDataField value at ["+r+"]";(isNaN(v)||e<v)&&(v=e),(isNaN(w)||e>w)&&(w=e)}if(h=l.minRadius,isNaN(h)&&(h=i.width/50),y=l.maxRadius,isNaN(y)&&(y=i.width/25),h>y)throw"Invalid settings: minRadius must be less than or equal to maxRadius";var ht=l.radius||5,rt=this._getAnimProps(t,f),ut=rt.enabled&&u.xoffsets.length<5e3?rt.duration:0;for(r=u.xoffsets.first;r<=u.xoffsets.last;r++)if((e=this._getDataValueAsNumber(r,st,t),typeof e=="number")&&(o=u.xoffsets.data[r],s=u.offsets[f][r].to,!isNaN(o)&&!isNaN(s))){if(nt?(ft=o,o=s,s=ft+i.y):o+=i.x,o=n.jqx._ptrnd(o),s=n.jqx._ptrnd(s),a=ht,k){if(d=this._getDataValueAsNumber(r,l.radiusDataField,t),typeof d!="number")continue;a=h+(y-h)*(d-v)/Math.max(1,w-v),isNaN(a)&&(a=h)}b=this.renderer.circle(o,s,ut==0?a:0),this.renderer.attr(b,{fill:it.fillColor,"fill-opacity":p.opacity,stroke:it.lineColor,"stroke-width":p.stroke,"stroke-dasharray":p.dashStyle}),et={from:0,to:a,groupIndex:t,seriesIndex:f,itemIndex:r,x:o,y:s},g=this,this._enqueueAnimation("series",b,undefined,ut,function(n,t,i){if(g._animR(n,t,i),i==1){var r=k?t.to:0;g._showLabel(t.groupIndex,t.seriesIndex,t.itemIndex,{x:t.x-r,y:t.y-r,width:2*r,height:2*r})}},et),this._installHandlers(b,t,f,r)}}}},_animR:function(n,t,i){var r=Math.round((t.to-t.from)*i+t.from);this._isVML?this.renderer.updateCircle(n,undefined,undefined,r):this.renderer.attr(n,{r:r})},_showToolTip:function(t,i,r,u,f){var a=this._getCategoryAxis(r),d,ut,v,p,w,b,it,e,l,rt,s,h,k;if(!this._toolTipElement||r!=this._toolTipElement.gidx||u!=this._toolTipElement.sidx||f!=this._toolTipElement.iidx){d=this.enableCrosshairs,this._pointMarker?(t=parseInt(this._pointMarker.x+5),i=parseInt(this._pointMarker.y-5)):d=!1,ut=d&&this.showToolTips==!1,t=n.jqx._ptrnd(t),i=n.jqx._ptrnd(i);var g=this._toolTipElement==undefined,c=this.seriesGroups[r],o=c.series[u];if(c.showToolTips!=!1&&o.showToolTips!=!1){var ht=o.toolTipFormatSettings||c.toolTipFormatSettings,nt=o.toolTipFormatFunction||c.toolTipFormatFunction||this.toolTipFormatFunction,ct=this._getColors(r,u,f),y=this._getDataValue(f,a.dataField,r);if((a.dataField==undefined||a.dataField=="")&&(y=f),a.type=="date"&&(y=this._castAsDate(y)),v="",n.isFunction(nt))p={},c.type.indexOf("range")==-1?p=this._getDataValue(f,o.dataField,r):(p.from=this._getDataValue(f,o.dataFieldFrom,r),p.to=this._getDataValue(f,o.dataFieldTo,r)),v=nt(p,f,o,c,y,a);else{v=this._getFormattedValue(r,u,f,ht,nt);var ft=a.toolTipFormatSettings||a.formatSettings,et=a.toolTipFormatFunction||a.formatFunction,tt=this._formatValue(y,ft,et);c.type!="pie"&&c.type!="donut"?v=(o.displayText||o.dataField||"")+", "+tt+": "+v:(y=this._getDataValue(f,o.displayText||o.dataField,r),tt=this._formatValue(y,ft,et),v=tt+": "+v)}var lt=o.toolTipClass||c.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),ot=o.toolTipBackground||c.toolTipBackground||"#FFFFFF",st=o.toolTipLineColor||c.toolTipLineColor||ct.lineColor;if(this._toolTipElement||(this._toolTipElement={}),this._toolTipElement.sidx=u,this._toolTipElement.gidx=r,this._toolTipElement.iidx=f,rect=this.renderer.getRect(),d&&(w=n.jqx._ptrnd(this._pointMarker.x),b=n.jqx._ptrnd(this._pointMarker.y),this._toolTipElement.vLine&&this._toolTipElement.hLine?(this.renderer.attr(this._toolTipElement.vLine,{x1:w,x2:w}),this.renderer.attr(this._toolTipElement.hLine,{y1:b,y2:b})):(it=this.crosshairsColor||"#888888",this._toolTipElement.vLine=this.renderer.line(w,this._plotRect.y,w,this._plotRect.y+this._plotRect.height,{stroke:it,"stroke-width":this.crosshairsLineWidth||1,"stroke-dasharray":this.crosshairsDashStyle||""}),this._toolTipElement.hLine=this.renderer.line(this._plotRect.x,b,this._plotRect.x+this._plotRect.width,b,{stroke:it,"stroke-width":this.crosshairsLineWidth||1,"stroke-dasharray":this.crosshairsDashStyle||""}))),!ut&&this.showToolTips!=!1){if(e=g?document.createElement("div"):this._toolTipElement.box,l={left:0,top:0},g&&(e.style.position="absolute",e.style.cursor="default",e.style.overflow="hidden",n(e).addClass("jqx-rc-all jqx-button"),n(document.body).append(e)),e.style.backgroundColor=ot,e.style.borderColor=st,this._toolTipElement.box=e,this._toolTipElement.txt=v,rt="<span class='"+lt+"'>"+v+"<span>",s=this._toolTipElement.tmp,g&&(this._toolTipElement.tmp=s=document.createElement("div"),s.style.position="absolute",s.style.cursor="default",s.style.overflow="hidden",s.style.display="none",s.style.zIndex=999999,s.style.backgroundColor=ot,s.style.borderColor=st,n(s).addClass("jqx-rc-all jqx-button"),this.host.append(s)),n(s).html(rt),h={width:n(s).width(),height:n(s).height()},h.width=h.width+5,h.height=h.height+6,t=Math.max(t,rect.x),i=Math.max(i-h.height,rect.y),h.width>rect.width||h.height>rect.height)return;t+l.left+h.width>rect.x+rect.width-5&&(t=rect.x+rect.width-h.width-l.left-5,e.style.left=l.left+t+"px"),i+l.top+h.height>rect.y+rect.height-5&&(i=rect.y+rect.height-h.height-5,e.style.top=l.top+i+"px"),k=this.host.coord(),g&&(n(e).fadeOut(0,0),e.style.left=l.left+t+k.left+"px",e.style.top=l.top+i+k.top+"px"),n(e).html(rt),n(e).clearQueue(),n(e).fadeTo(400,1),n(e).animate({left:l.left+t+k.left,top:l.top+i+k.top,opacity:1},200,"easeInOutCirc")}}}},_hideToolTip:function(t){this._toolTipElement&&(this._toolTipElement.box&&(t==0?n(this._toolTipElement.box).hide():n(this._toolTipElement.box).fadeOut()),this._hideCrosshairs(),this._toolTipElement.gidx=undefined)},_hideCrosshairs:function(){this._toolTipElement&&(this._toolTipElement.vLine&&(this.renderer.removeElement(this._toolTipElement.vLine),this._toolTipElement.vLine=undefined),this._toolTipElement.hLine&&(this.renderer.removeElement(this._toolTipElement.hLine),this._toolTipElement.hLine=undefined))},_showLabel:function(n,t,i,r,u,f,e){var s=this.seriesGroups[n],h=s.series[t],o={width:0,height:0},l,a,c;if(h.showLabels==!1||!h.showLabels&&!s.showLabels||r.width<0||r.height<0)return o;var v=h.labelAngle||h.labelsAngle||s.labelAngle||s.labelsAngle||0,y=h.labelOffset||s.labelOffset||{x:0,y:0},p=h.labelClass||s.labelClass||this.toThemeProperty("jqx-chart-label-text",null);u=u||"center",f=f||"center";var w=this._getFormattedValue(n,t,i),b=r.width,k=r.height;return(o=this.renderer.measureText(w,v,{"class":p}),e)?o:(l=0,u==""||u=="center"?l+=(b-o.width)/2:u=="right"&&(l+=b-o.width),a=0,f==""||f=="center"?a+=(k-o.height)/2:f=="bottom"&&(a+=k-o.height),c=this.renderer.text(w,l+r.x+y.x,a+r.y+y.y,o.width,o.height,v,{},v!=0,"center","center"),this.renderer.attr(c,{"class":p}),this._isVML&&(this.renderer.removeElement(c),this.renderer.getContainer()[0].appendChild(c)),c)},_getAnimProps:function(n,t){var r=this.seriesGroups[n],u=r.series[t],f=this.enableAnimations==!0,i,e,o;return r.enableAnimations&&(f=r.enableAnimations==!0),u.enableAnimations&&(f=u.enableAnimations==!0),i=this.animationDuration,isNaN(i)&&(i=1e3),e=r.animationDuration,isNaN(e)||(i=e),o=u.animationDuration,isNaN(o)||(i=o),i>5e3&&(i=1e3),{enabled:f,duration:i}},_renderLineSeries:function(t,i){var o=this.seriesGroups[t],u,bt,a,v,g,f,k,e,h,c,l,dt,lt,nt,at,tt,vt;if(o.series&&o.series.length!=0){var d=o.type.indexOf("area")!=-1,yt=o.type.indexOf("stacked")!=-1,pt=yt&&o.type.indexOf("100")!=-1,it=o.type.indexOf("spline")!=-1,rt=o.type.indexOf("step")!=-1,ut=o.type.indexOf("range")!=-1;if(!rt||!it){var wt=this._getDataLen(t),gt=i.width/wt,y=o.orientation=="horizontal",ft=this._getCategoryAxis(t).flip==!0,r=i;if(y&&(r={x:i.y,y:i.x,width:i.height,height:i.width}),u=this._calcGroupOffsets(t,r),u&&u.xoffsets.length!=0)for(bt=this._alignValuesWithTicks(t),a=o.series.length-1;a>=0;a--){v=u.xoffsets.first,g=v;do{var p=[],et=[],s=0,ot=NaN,w=NaN,b=NaN;if(!(u.xoffsets.length<1)){var st=this._getAnimProps(t,a),ht=st.enabled&&u.xoffsets.length<1e4&&this._isVML!=!0?st.duration:0,kt=v,ct=!1;for(f=v;f<=u.xoffsets.last;f++)if(v=f,k=u.xoffsets.data[f],k!=undefined){if(e=u.offsets[a][f].to,h=u.offsets[a][f].from,isNaN(e)||isNaN(h)){v++,ct=!0;break}g=f,!d&&pt&&(e<=r.y&&(e=r.y+1),e>=r.y+r.height&&(e=r.y+r.height-1),h<=r.y&&(h=r.y+1),h>=r.y+r.height&&(h=r.y+r.h)),k=Math.max(k,1),s=k,!rt||isNaN(ot)||isNaN(w)||w!=e&&p.push(y?{y:r.x+s,x:n.jqx._ptrnd(w)}:{x:r.x+s,y:n.jqx._ptrnd(w)}),p.push(y?{y:r.x+s,x:n.jqx._ptrnd(e),index:f}:{x:r.x+s,y:n.jqx._ptrnd(e),index:f}),et.push(y?{y:r.x+s,x:n.jqx._ptrnd(h),index:f}:{x:r.x+s,y:n.jqx._ptrnd(h),index:f}),ot=s,w=e,isNaN(b)&&(b=e)}c=r.x+u.xoffsets.data[kt],l=r.x+u.xoffsets.data[g],d&&o.alignEndPointsWithIntervals==!0&&(dt=ft?-1:1,c>r.x&&(c=r.x),l<r.x+r.width&&(l=r.x+r.width),ft&&(lt=c,c=l,l=lt)),l=n.jqx._ptrnd(l),c=n.jqx._ptrnd(c),nt=u.baseOffset,b=n.jqx._ptrnd(b),at=n.jqx._ptrnd(e)||nt,ut&&(p=p.concat(et.reverse())),tt={groupIndex:t,seriesIndex:a,pointsArray:p,left:c,right:l,pyStart:b,pyEnd:at,yBase:nt,isArea:d,isSpline:it,swapXY:y,isRange:ut},this._animatePath(undefined,tt,ht==0?1:0),vt=this,this._enqueueAnimation("series",undefined,undefined,ht,function(n,t,i){vt._animatePath(n,t,i)},tt)}}while(v<u.xoffsets.length-1||ct)}}}},_animatePath:function(n,t,i){var e=this._calculateLine(t.pointsArray,t.yBase,i,t.isArea,t.swapXY),o=t.pointsArray.length,f,r,u;if(t.isArea||(o=Math.round(o*i)),e=e!=""?this._buildLineCmd(e,t.isRange,t.left,t.right,t.pyStart,t.pyEnd,t.yBase,t.isArea,o>3&&t.isSpline,t.swapXY):"M 0 0",f=t.element,f||(r=this._getSerieSettings(t.groupIndex,t.seriesIndex),f=this.renderer.path(e,{"stroke-width":r.stroke,stroke:r.colors.lineColor,"fill-opacity":r.opacity,"stroke-dasharray":r.dashStyle,fill:t.isArea?r.colors.fillColor:"none"}),t.element=f),this.renderer.attr(f,{d:e}),i==1){for(r=this._getSerieSettings(t.groupIndex,t.seriesIndex),u=0;u<t.pointsArray.length;u++)this._showLabel(t.groupIndex,t.seriesIndex,t.pointsArray[u].index,{x:t.pointsArray[u].x,y:t.pointsArray[u].y,width:0,height:0}),this._drawSymbol(this._getSymbol(t.groupIndex,t.seriesIndex),t.pointsArray[u].x,t.pointsArray[u].y,r.colors.fillColor,r.colors.lineColor,1,r.opacity);this._installHandlers(f,t.groupIndex,t.seriesIndex)}},_calculateLine:function(t,i,r,u,f){var h="",c=t.length,e,o,s;for(u||(c=Math.round(c*r)),e=0;e<c;e++)e>0&&(h+=" "),o=t[e].y,s=t[e].x,u&&(f?s=n.jqx._ptrnd((s-i)*r+i):o=n.jqx._ptrnd((o-i)*r+i)),h+=s+","+o,c==1&&(h+=" "+(s+2)+","+(o+2));return h},_buildLineCmd:function(n,t,i,r,u,f,e,o,s,h){var c=n,v,l;if(s&&(c=this._getBezierPoints(n)),v=c.split(" "),l=v[0].replace("C",""),o)if(t)c="M "+l+" L "+l+(s?"":" L "+l+" ")+c+" Z";else{var p=h?u+","+i:i+","+u,w=h?f+","+r:r+","+f,y=h?e+","+i:i+","+e,a=h?e+","+r:r+","+e;c="M "+y+" L "+l+(s?"":" L "+l+" ")+c+(s?" L"+a+" M "+a:" "+a+" "+y)+" Z"}else c=s?"M "+l+" "+c:"M "+l+" L "+l+" "+c;return c},_getSerieSettings:function(n,t){var r=this.seriesGroups[n],e=r.type.indexOf("area")!=-1,o=r.type.indexOf("line")!=-1,s=this._getColors(n,t,undefined,this._getGroupGradientType(n)),f=r.series[t],h=f.dashStyle||r.dashStyle||"",u=f.opacity||r.opacity,i;return(isNaN(u)||u<0||u>1)&&(u=1),i=f.lineWidth,isNaN(i)&&i!="auto"&&(i=r.lineWidth),(i=="auto"||isNaN(i)||i<0||i>15)&&(i=e?2:o?3:1),{colors:s,stroke:i,opacity:u,dashStyle:h}},getItemColor:function(n,t,i){for(var u=-1,f,r=0;r<this.seriesGroups.length;r++)if(this.seriesGroups[r]==n){u=r;break}if(u==-1)return"#000000";for(f=-1,r=0;r<this.seriesGroups[u].series.length;r++)if(this.seriesGroups[u].series[r]==t){f=r;break}return f==-1?"#000000":this._getColors(u,f,i)},_getColors:function(t,i,r,u){var e=this.seriesGroups[t],s,f,y,l,a;e.type!="pie"&&e.type!="donut"&&(r=undefined),s=e.series[i].useGradient||e.useGradient,s==undefined&&(s=!0),isNaN(r)?f=this._getSeriesColor(t,i):(y=this._getDataLen(t),f=this._getColor(e.series[i].colorScheme||e.colorScheme||this.colorScheme,i*y+r,t,i));var o=n.jqx._adjustColor(f,1.1),w=n.jqx._adjustColor(f,.9),b=n.jqx._adjustColor(o,.9),h=f,c=o,v=[[0,1.5],[100,1]],p=[[0,1],[25,1.1],[50,1.5],[100,1]];return s&&(u=="verticalLinearGradient"?(h=this.renderer._toLinearGradient(f,!0,v),c=this.renderer._toLinearGradient(o,!0,v)):u=="horizontalLinearGradient"?(h=this.renderer._toLinearGradient(f,!1,p),c=this.renderer._toLinearGradient(o,!1,p)):u=="radialGradient"&&(l=undefined,a=v,(e.type=="pie"||e.type=="donut")&&r!=undefined&&this._renderData[t]&&this._renderData[t][i]&&(l=this._renderData[t][i][r],a=[[0,1.3],[90,1.2],[100,1]]),h=this.renderer._toRadialGradient(f,a,l),c=this.renderer._toRadialGradient(o,a,l))),{baseColor:f,fillColor:h,lineColor:w,fillSelected:c,lineSelected:b}},_installHandlers:function(n,t,i,r){var u=this,f=this.seriesGroups[t],o=this.seriesGroups[t].series[i],e=f.type.indexOf("line")!=-1||f.type.indexOf("area")!=-1;e||this.renderer.addHandler(n,"mousemove",function(n){n.preventDefault();var f=n.pageX||n.clientX||n.screenX,e=n.pageY||n.clientY||n.screenY,o=u.host.offset();(f-=o.left,e-=o.top,u._mouseX!=f||u._mouseY!=e)&&(u._toolTipElement&&u._toolTipElement.gidx==t&&u._toolTipElement.sidx==i&&u._toolTipElement.iidx==r||u._startTooltipTimer(t,i,r))}),this.renderer.addHandler(n,"mouseover",function(s){(s.preventDefault(),u._select(n,t,i,r),e)||isNaN(r)||u._raiseEvent("mouseover",f,o,r)}),this.renderer.addHandler(n,"mouseout",function(n){(n.preventDefault(),r!=undefined&&u._cancelTooltipTimer(),e)||(u._unselect(),isNaN(r))||u._raiseEvent("mouseout",f,o,r)}),this.renderer.addHandler(n,"click",function(n){(n.preventDefault(),e)||(f.type.indexOf("column")!=-1&&u._unselect(),isNaN(r))||u._raiseEvent("click",f,o,r)})},_getHorizontalOffset:function(n,t,i,r){var h=this._plotRect,v=this._getDataLen(n),u,l,f;if(v==0)return{index:undefined,value:i};if(u=this._calcGroupOffsets(n,this._plotRect),u.xoffsets.length==0)return{index:undefined,value:undefined};var e=i-h.x,c=r-h.y,y=this.seriesGroups[n];y.orientation=="horizontal"&&(l=e,e=c,c=l);var w=this._getCategoryAxis(n).flip==!0,o=undefined,s=undefined;for(f=u.xoffsets.first;f<=u.xoffsets.last;f++){var p=u.xoffsets.data[f],b=u.offsets[t][f].to,a=Math.abs(e-p);(isNaN(o)||o>a)&&(o=a,s=f)}return{index:s,value:u.xoffsets.data[s]}},onmousemove:function(t,i){var h,e,v,u,c,p,d,r;if((this._mouseX!=t||this._mouseY!=i)&&(this._mouseX=t,this._mouseY=i,this._selected)){if(h=this._plotRect,e=this._paddedRect,t<e.x||t>e.x+e.width||i<e.y||i>e.y+e.height){this._unselect();return}var s=this._selected.group,o=this.seriesGroups[s],l=o.series[this._selected.series],w=o.orientation=="horizontal",b=this.seriesGroups[s].type,h=this._plotRect;if(b.indexOf("line")!=-1||b.indexOf("area")!=-1){if(v=this._getHorizontalOffset(s,this._selected.series,t,i),u=v.index,u==undefined)return;this._selected.item!=u&&(this._selected.item&&this._raiseEvent("mouseout",o,l,this._selected.item),this._selected.item=u,this._raiseEvent("mouseover",o,l,u)),c=this._getSymbol(this._selected.group,this._selected.series),c=="none"&&(c="circle");var k=this._calcGroupOffsets(s,h),y=k.offsets[this._selected.series][u].to,a=y;if(o.type.indexOf("range")!=-1&&(a=k.offsets[this._selected.series][u].from),p=w?t:i,i=!isNaN(a)&&Math.abs(p-a)<Math.abs(p-y)?a:y,isNaN(i))return;if(t=v.value,w?(d=t,t=i,i=d+h.y):t+=h.x,i=n.jqx._ptrnd(i),t=n.jqx._ptrnd(t),this._pointMarker&&this.renderer.removeElement(this._pointMarker.element),isNaN(t)||isNaN(i))return;var g=this._getSeriesColor(this._selected.group,this._selected.series),nt=n.jqx._adjustColor(g,.5),f=l.opacity;(isNaN(f)||f<0||f>1)&&(f=o.opacity),(isNaN(f)||f<0||f>1)&&(f=1),r=l.symbolSize,(isNaN(r)||r>10||r<0)&&(r=o.symbolSize),(isNaN(r)||r>10||r<0)&&(r=8),this._pointMarker={type:c,x:t,y:i,gidx:s,sidx:this._selected.series,iidx:u},this._pointMarker.element=this._drawSymbol(c,t,i,g,nt,1,f,r),this._startTooltipTimer(s,this._selected.series,u)}}},_drawSymbol:function(n,t,i,r,u,f,e,o){var c,l=o||6,s=l/2,h;switch(n){case"none":return undefined;case"circle":c=this.renderer.circle(t,i,l/2);break;case"square":l=l-1,s=l/2,c=this.renderer.rect(t-s,i-s,l,l);break;case"diamond":h="M "+(t-s)+","+i+" L "+t+","+(i+s)+" L "+(t+s)+","+i+" L "+t+","+(i-s)+" Z",c=this.renderer.path(h);break;case"triangle_up":h="M "+(t-s)+","+(i+s)+" L "+(t+s)+","+(i+s)+" L "+t+","+(i-s)+" Z",c=this.renderer.path(h);break;case"triangle_down":h="M "+(t-s)+","+(i-s)+" L "+t+","+(i+s)+" L "+(t+s)+","+(i-s)+" Z",c=this.renderer.path(h);break;case"triangle_left":h="M "+(t-s)+","+i+" L "+(t+s)+","+(i+s)+" L "+(t+s)+","+(i-s)+" Z",c=this.renderer.path(h);break;case"triangle_right":h="M "+(t-s)+","+(i-s)+" L "+(t-s)+","+(i+s)+" L "+(t+s)+","+i+" Z",c=this.renderer.path(h);break;default:c=this.renderer.circle(t,i,l)}return this.renderer.attr(c,{fill:r,stroke:u,"stroke-width":f,"fill-opacity":e}),c},_getSymbol:function(n,t){var r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],u=this.seriesGroups[n],f=u.series[t],i=undefined;return(f.symbolType!=undefined&&(i=f.symbolType),i==undefined&&(i=u.symbolType),i=="default")?r[t%r.length]:i!=undefined?i:"none"},_startTooltipTimer:function(n,t,i){this._cancelTooltipTimer();var r=this,f=r.seriesGroups[n],u=this.toolTipShowDelay||this.toolTipDelay;(isNaN(u)||u>1e4||u<0)&&(u=500),(this._toolTipElement||!0==this.enableCrosshairs&&!1==this.showToolTips)&&(u=0),clearTimeout(this._tttimerHide),this._tttimer=setTimeout(function(){r._showToolTip(r._mouseX,r._mouseY-3,n,t,i);var u=r.toolTipHideDelay;isNaN(u)&&(u=4e3),r._tttimerHide=setTimeout(function(){r._hideToolTip()},u)},u)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(n){var t=this.seriesGroups[n];return t.type.indexOf("area")!=-1?t.orientation=="horizontal"?"horizontalLinearGradient":"verticalLinearGradient":t.type.indexOf("column")!=-1?t.orientation=="horizontal"?"verticalLinearGradient":"horizontalLinearGradient":t.type.indexOf("scatter")!=-1||t.type.indexOf("bubble")!=-1||t.type.indexOf("pie")!=-1||t.type.indexOf("donut")!=-1?"radialGradient":undefined},_select:function(n,t,i,r){this._selected&&this._selected.element!=n&&this._unselect(),this._selected={element:n,group:t,series:i,item:r};var f=this.seriesGroups[t],u=this._getColors(t,i,r,this._getGroupGradientType(t));f.type.indexOf("line")!=-1&&f.type.indexOf("area")==-1&&(u.fillSelected="none"),this.renderer.attr(n,{stroke:u.lineSelected,fill:u.fillSelected})},_unselect:function(){if(this._selected){var t=this._selected.group,u=this._selected.series,i=this._selected.item,n=this.seriesGroups[t],f=n.series[u],r=this._getColors(t,u,i,this._getGroupGradientType(t));n.type.indexOf("line")!=-1&&n.type.indexOf("area")==-1&&(r.fillColor="none"),this.renderer.attr(this._selected.element,{stroke:r.lineColor,fill:r.fillColor}),n.type.indexOf("line")==-1&&(n.type.indexOf("area")==-1||isNaN(i))||this._raiseEvent("mouseout",n,f,i),this._selected=undefined}this._pointMarker&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker=undefined,this._hideCrosshairs())},_raiseEvent:function(t,i,r,u){for(var e=r[t]||i[t],f=0;f<this.seriesGroups.length;f++)if(this.seriesGroups[f]==i)break;f!=this.seriesGroups.length&&e&&n.isFunction(e)&&e({event:t,seriesGroup:i,serie:r,elementIndex:u,elementValue:this._getDataValue(u,r.dataField,f)})},_calcGroupOffsets:function(t,i){var s=this.seriesGroups[t],r,bt,kt,ht,ii,h,u,w,o,tt,f,yt,it,d,ct,pt,rt,l,ni,wt;if(s.series&&s.series.length!=0){var ut=s.valueAxis.flip==!0,p=s.valueAxis.logarithmicScale==!0,y=s.valueAxis.logarithmicScaleBase||10;for(this._renderData||(this._renderData=[]);this._renderData.length<t+1;)this._renderData.push(null);if(this._renderData[t]!=null)return this._renderData[t];var v=[],ot=s.type.indexOf("stacked")!=-1,nt=ot&&s.type.indexOf("100")!=-1,g=s.type.indexOf("range")!=-1,ti=this._getDataLen(t),e=s.baselineValue||s.valueAxis.baselineValue||0;if(g&&(e=0),r=this._stats.seriesGroups[t],r&&r.isValid){e>r.max&&(e=r.max),e<r.min&&(e=r.min);var lt=nt||p?r.maxRange:r.max-r.min,st=r.min,at=r.max,a=i.height/(p?r.intervals:lt),c=0;nt?st*at<0?(lt/=2,c=-(lt+e)*a):c=-e*a:c=-(e-st)*a,ut?c=i.y-c:c+=i.y+i.height,bt=[],kt=[],p&&(ht=n.jqx.log(at,y)-n.jqx.log(e,y),ot&&(ht=r.intervals,e=nt?0:st),ii=r.intervals-ht,ut||(c=i.y+ht/r.intervals*i.height)),c=n.jqx._ptrnd(c);var ft=st*at<0?i.height/2:i.height,et=[],vt=[];if(s.bands)for(h=0;h<s.bands.length;h++){var dt=s.bands[h].minValue,gt=s.bands[h].maxValue,b=0,k=0;p?(b=(n.jqx.log(dt,y)-n.jqx.log(e,y))*a,k=(n.jqx.log(gt,y)-n.jqx.log(e,y))*a):(b=(dt-e)*a,k=(gt-e)*a),this._isVML?(b=Math.round(b),k=Math.round(k)):(b=n.jqx._ptrnd(b)-1,k=n.jqx._ptrnd(k)-1),ut?vt.push({from:c+k,to:c+b}):vt.push({from:c-k,to:c-b})}for(h=0;h<s.series.length;h++){!ot&&p&&(et=[]);var ri=s.series[h].dataField,ui=s.series[h].dataFieldFrom,fi=s.series[h].dataFieldTo;for(v.push([]),u=0;u<ti;u++){if(w=NaN,g&&(w=this._getDataValueAsNumber(u,ui,t),isNaN(w)&&(w=e)),o=NaN,o=g?this._getDataValueAsNumber(u,fi,t):this._getDataValueAsNumber(u,ri,t),isNaN(o)||p&&o<=0){v[h].push({from:undefined,to:undefined});continue}if(o>r.rmax&&(o=r.rmax),o<r.rmin&&(o=r.rmin),tt=o>e?bt:kt,f=a*(o-e),g&&(f=a*(o-w)),p){while(et.length<=u)et.push({p:{value:0,height:0},n:{value:0,height:0}});yt=g?w:e,it=o>yt?et[u].p:et[u].n,it.value+=o,nt?(o=it.value/(r.psums[u]+r.nsums[u])*100,f=(n.jqx.log(o,y)-r.minPow)*a):f=(n.jqx.log(it.value,y)-n.jqx.log(yt,y))*a,f-=it.height,it.height+=f}if(d=c,g&&(ct=0,ct=p?(n.jqx.log(w,y)-n.jqx.log(e,y))*a:(w-e)*a,d+=ut?ct:-ct),ot&&(nt&&!p&&(pt=r.psums[u]-r.nsums[u],o>e?(f=r.psums[u]/pt*ft,r.psums[u]!=0&&(f*=o/r.psums[u])):(f=r.nsums[u]/pt*ft,r.nsums[u]!=0&&(f*=o/r.nsums[u]))),isNaN(tt[u])&&(tt[u]=d),d=tt[u]),f=Math.abs(f),h_new=this._isVML?Math.round(f):n.jqx._ptrnd(f)-1,f=Math.abs(f-h_new)>.5?Math.round(f):h_new,h==s.series.length-1&&nt){for(rt=0,l=0;l<h;l++)rt+=Math.abs(v[l][u].to-v[l][u].from);if(rt+=f,rt<ft)if(f>.5)f=n.jqx._ptrnd(f+ft-rt);else for(l=h-1;l>=0;){if(ni=Math.abs(v[l][u].to-v[l][u].from),ni>1){v[l][u].from>v[l][u].to&&(v[l][u].from+=ft-rt);break}l--}}ut&&(f*=-1),wt=o<e,g&&(wt=w>o),wt?(tt[u]+=f,v[h].push({from:d,to:d+f})):(tt[u]-=f,v[h].push({from:d,to:d-f}))}}return this._renderData[t]={baseOffset:c,offsets:v,bands:vt},this._renderData[t].xoffsets=this._calculateXOffsets(t,i),this._renderData[t]}}},_isPointSeriesOnly:function(){for(var n,t=0;t<this.seriesGroups.length;t++)if(n=this.seriesGroups[t],n.type.indexOf("line")==-1&&n.type.indexOf("area")==-1&&n.type.indexOf("scatter")==-1&&n.type.indexOf("bubble")==-1)return!1;return!0},_alignValuesWithTicks:function(n){var u=this._isPointSeriesOnly(),i=this._getCategoryAxis(n),r=i.valuesOnTicks==undefined?u:i.valuesOnTicks!=!1,t;return n==undefined?r:(t=this.seriesGroups[n],t.valuesOnTicks==undefined)?r:t.valuesOnTicks},_getYearsDiff:function(n,t){return t.getFullYear()-n.getFullYear()},_getMonthsDiff:function(n,t){return 12*(t.getFullYear()-n.getFullYear())+t.getMonth()-n.getMonth()},_getDateDiff:function(t,i,r,u){var f=0;r!="year"&&r!="month"&&(f=i.valueOf()-t.valueOf());switch(r){case"year":f=this._getYearsDiff(t,i);break;case"month":f=this._getMonthsDiff(t,i);break;case"day":f/=864e5;break;case"hour":f/=36e5;break;case"minute":f/=6e4;break;case"second":f/=1e3}return r!="year"&&r!="month"&&u!=!1&&(f=n.jqx._rnd(f,1,!0)),f},_getDateTimeArray:function(n,t,i,r,u){var o=[],s=this._getDateDiff(n,t,i),l,h,a,e,f,c;if(r&&(s+=u),i=="year")for(l=n.getFullYear(),f=0;f<s;f++)o.push(new Date(l,0,1,0,0,0,0)),l++;else if(i=="month")for(h=n.getMonth(),a=n.getFullYear(),f=0;f<s;f++)o.push(new Date(a,h,1,0,0,0,0)),h++,h>11&&(a++,h=0);else if(i=="day")for(f=0;f<s;f++)c=new Date(n.valueOf()+f*864e5),o.push(c);else{e=0;switch(i){case"millisecond":e=1;break;case"second":e=1e3;break;case"minute":e=6e4;break;case"hour":e=36e5}for(f=0;f<s;f++)c=new Date(n.valueOf()+f*e),o.push(c)}return o},_getAsDate:function(n,t){return(n=this._castAsDate(n),t=="month")?new Date(n.getFullYear(),n.getMonth(),1):t=="year"?new Date(n.getFullYear(),0,1):t=="day"?new Date(n.getFullYear(),n.getMonth(),n.getDate()):n},_calculateXOffsets:function(t,i){var h=this._getCategoryAxis(t),k=[],nt=this._getDataLen(t),a=h.type=="date",ut=a?this._castAsDate(h.minValue):this._castAsNumber(h.minValue),ft=a?this._castAsDate(h.maxValue):this._castAsNumber(h.maxValue),c=ut,s=ft,p,f,g,u,o,tt,w,y,l,r,b,ot;if(isNaN(c)||isNaN(s))for(l=0;l<nt;l++)(r=this._getDataValue(l,h.dataField,t),r=a?this._castAsDate(r):this._castAsNumber(r),isNaN(r))||((r<c||isNaN(c))&&(c=r),(r>s||isNaN(s))&&(s=r));if(a&&(c=new Date(c),s=new Date(s)),c=ut||c,s=ft||s,a&&!(this._isDate(c)&&this._isDate(s)))throw"Invalid Date values";if(p=h.maxValue!=undefined||h.minValue!=undefined,p&&(isNaN(s)||isNaN(c))){p=!1;throw"Invalid min/max category values";}p||a||(c=0,s=nt-1);var e=h.baseUnit,d=e=="hour"||e=="minute"||e=="second"||e=="millisecond",v=h.unitInterval;(isNaN(v)||v<=0)&&(v=1),d&&(e=="second"?v*=1e3:e=="minute"?v*=6e4:e=="hour"&&(v*=36e5)),f=NaN,g=this._alignValuesWithTicks(t),p?f=g?s-c:s-c+v:(f=nt-1,g||f++),f==0&&(f=v);var et=0,u=s,o=c;if(a){for(u=this._getAsDate(s,e),o=this._getAsDate(c,e),d||g||(e=="month"?u.setMonth(u.getMonth()+1):e=="year"?u.setYear(u.getFullYear()+1):u.setDate(u.getDate()+1)),f=this._getDateDiff(o,u,d?"millisecond":h.baseUnit);u<=s;)if(f=n.jqx._rnd(f,v,!0),h.baseUnit=="month"?(o=new Date(o.getFullYear(),o.getMonth(),1),u=new Date(o),u.setMonth(u.getMonth()+f)):h.baseUnit=="year"?(o=new Date(o.getFullYear(),0,1),u=new Date(o),u.setYear(u.getFullYear()+f)):d?u.setTime(o.getTime()+f):u.setDate(o.getDate()+f),u<s)f++;else break;et=n.jqx._rnd(this._getDateDiff(o,u,"day",!1),1,!1)}var st=Math.max(1,f/v),it=i.width/st,ht=t!=undefined&&this.seriesGroups[t].type.indexOf("column")!=-1,rt=0;for(g||a&&e!="day"||ht||(rt=it/2),tt=e,e=e=="day"||e=="month"||e=="year"?"day":"millisecond",w=-1,y=-1,l=0;l<nt;l++){if(!p&&!a){k.push(n.jqx._ptrnd(rt+(l-o)/f*i.width)),w==-1&&(w=l),(y==-1||y<l)&&(y=l);continue}if(r=this._getDataValue(l,h.dataField,t),r=a?this._castAsDate(r):this._castAsNumber(r),isNaN(r)||r<c||r>s){k.push(-1);continue}b=0,!a||a&&e!="day"?(diffFromMin=r-o,b=(r-o)*i.width/f):(b=this._getDateDiff(o,r,tt,!1)*it/v,tt!="day"&&(ot=this._getDateDiff(this._getAsDate(r,tt),r,e,!1),b+=ot/et*i.width)),b=n.jqx._ptrnd(rt+b),k.push(b),w==-1&&(w=l),(y==-1||y<l)&&(y=l)}return h.flip==!0&&k.reverse(),d&&(f=this._getDateDiff(o,u,h.baseUnit),f=n.jqx._rnd(f,1,!1)),{data:k,first:w,last:y,length:y==-1?0:y-w+1,itemWidth:it,rangeLength:f,min:o,max:u,customRange:p}},_getCategoryAxis:function(n){return n==undefined||this.seriesGroups.length<=n?this.categoryAxis:this.seriesGroups[n].categoryAxis||this.categoryAxis},_isGreyScale:function(n,t){var i=this.seriesGroups[n],r=i.series[t];return r.greyScale==!0?!0:r.greyScale==!1?!1:i.greyScale==!0?!0:i.greyScale==!1?!1:this.greyScale==!0},_getSeriesColor:function(t,i){var r=this._getSeriesColorInternal(t,i);return this._isGreyScale(t,i)&&r.indexOf("#")==0&&(r=n.jqx.toGreyScale(r)),r},_getSeriesColorInternal:function(n,t){var e=this.seriesGroups[n],o=e.series[t],f,s,r,i,u;if(o.color)return o.color;for(f=0,i=0;i<=n;i++)for(s in this.seriesGroups[i].series)if(i==n&&s==t)break;else f++;if(r=this.colorScheme,e.colorScheme&&(r=e.colorScheme,sidex=t),(r==undefined||r=="")&&(r=this.colorSchemes[0].name),r)for(i=0;i<this.colorSchemes.length;i++)if(u=this.colorSchemes[i],u.name==r){while(f>u.colors.length)f-=u.colors.length,++i>=this.colorSchemes.length&&(i=0),u=this.colorSchemes[i];return u.colors[f%u.colors.length]}return"#222222"},_getColor:function(t,i,r,u){var f,e,s,o;for((t==undefined||t=="")&&(t=this.colorSchemes[0].name),f=0;f<this.colorSchemes.length;f++)if(t==this.colorSchemes[f].name)break;for(e=0;e<=i;)if(f==this.colorSchemes.length&&(f=0),s=this.colorSchemes[f].colors.length,e+s<=i)e+=s,f++;else return o=this.colorSchemes[f].colors[i-e],this._isGreyScale(r,u)&&o.indexOf("#")==0&&(o=n.jqx.toGreyScale(o)),o},getColorScheme:function(n){for(var t in this.colorSchemes)if(this.colorSchemes[t].name==n)return this.colorSchemes[t].colors;return undefined},addColorScheme:function(n,t){for(var i in this.colorSchemes)if(this.colorSchemes[i].name==n){this.colorSchemes[i].colors=t;return}this.colorSchemes.push({name:n,colors:t})},removeColorScheme:function(n){for(var t in this.colorSchemes)if(this.colorSchemes[t].name==n){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#4572A7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#2F2933","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]}],_formatValue:function(t,i,r,u,f,e){if(t==undefined||this._isObject(t)&&!r)return"";if(r){if(!n.isFunction(r))return t.toString();try{return r(t,e,f,u)}catch(o){return o.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_getFormattedValue:function(t,i,r,u,f){var s=this.seriesGroups[t],e=s.series[i],c="",h=u,o=f,l,a,v;if(o||(o=e.formatFunction||s.formatFunction),h||(h=e.formatSettings||s.formatSettings),!e.formatFunction&&e.formatSettings&&(o=undefined),s.type.indexOf("range")!=-1){if(l=this._getDataValue(r,e.dataFieldFrom,t),a=this._getDataValue(r,e.dataFieldTo,t),o&&n.isFunction(o))try{return o({from:l,to:a},r,e,s)}catch(y){return y.message}l&&(c=this._formatValue(l,h,o,s,e,r)),a&&(c+=", "+this._formatValue(a,h,o,s,e,r))}else v=this._getDataValue(r,e.dataField,t),v&&(c=this._formatValue(v,h,o,s,e,r));return c||""},_isNumberAsString:function(t){var r,i;if(typeof t!="string")return!1;for(t=n.trim(t),r=0;r<t.length;r++)if((i=t.charAt(r),(!(i>="0")||!(i<="9"))&&i!=","&&i!=".")&&(i!="-"||r!=0)&&(i!="("||r!=0)&&(i!=")"||r!=t.length-1))return!1;return!0},_castAsDate:function(n){if(n instanceof Date&&!isNaN(n))return n;if(typeof n=="string"){var t=new Date(n);if(isNaN(t)&&(t=this._parseISO8601Date(n)),t!=undefined&&!isNaN(t))return t}return undefined},_parseISO8601Date:function(n){var r=n.split(" ");if(r.length<0)return NaN;var i=r[0].split("-"),t=r.length==2?r[1].split(":"):"",f=i[0],e=i.length>1?i[1]-1:0,o=i.length>2?i[2]:1,u=t[1],s=t.length>1?t[1]:0,u=t.length>2?t[2]:0,h=t.length>3?t[3]:0;return new Date(f,e,o,u,s,h)},_castAsNumber:function(n){if(n instanceof Date&&!isNaN(n))return n.valueOf();if(typeof n=="string")if(this._isNumber(n))n=parseFloat(n);else{var t=new Date(n);t!=undefined&&(n=t.valueOf())}return n},_isNumber:function(n){return typeof n=="string"&&this._isNumberAsString(n)&&(n=parseFloat(n)),typeof n=="number"&&isFinite(n)},_isDate:function(n){return n instanceof Date},_isBoolean:function(n){return typeof n=="boolean"},_isObject:function(t){return t&&(typeof t=="object"||n.isFunction(t))||!1},_formatDate:function(n){return n.toString()},_formatNumber:function(n,t){var i,r,c,u,l,f;if(!this._isNumber(n))return n;t=t||{};var e=t.decimalSeparator||".",a=t.thousandsSeparator||"",v=t.prefix||"",y=t.sufix||"",s=t.decimalPlaces||(n*100!=parseInt(n)*100?2:0),h=t.negativeWithBrackets||!1,o=n<0;if(o&&h&&(n*=-1),i=n.toString(),c=Math.pow(10,s),i=(Math.round(n*c)/c).toString(),isNaN(i)&&(i=""),r=i.lastIndexOf("."),s>0)for(r<0?(i+=e,r=i.length-1):e!=="."&&(i=i.replace(".",e));i.length-1-r<s;)i+="0";for(r=i.lastIndexOf(e),r=r>-1?r:i.length,u=i.substring(r),l=0,f=r;f>0;f--,l++)l%3==0&&f!==r&&(!o||f>1||o&&h)&&(u=a+u),u=i.charAt(f-1)+u;return i=u,o&&h&&(i="("+i+")"),v+i+y},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_getBezierPoints:function(t){for(var u=[],h=t.split(" "),o,s,i,r=0;r<h.length;r++)o=h[r].split(","),u.push({x:parseFloat(o[0]),y:parseFloat(o[1])});for(s="",r=0;r<u.length-1;r++){i=[],0==r?(i.push(u[r]),i.push(u[r]),i.push(u[r+1]),i.push(u[r+2])):u.length-2==r?(i.push(u[r-1]),i.push(u[r]),i.push(u[r+1]),i.push(u[r+1])):(i.push(u[r-1]),i.push(u[r]),i.push(u[r+1]),i.push(u[r+2]));var f=[],e=r==0?81:9,c={x:(-i[0].x+e*i[1].x+i[2].x)/e,y:(-i[0].y+e*i[1].y+i[2].y)/e},l={x:(i[1].x+e*i[2].x-i[3].x)/e,y:(i[1].y+e*i[2].y-i[3].y)/e};f.push({x:i[1].x,y:i[1].y}),f.push(c),f.push(l),f.push({x:i[2].x,y:i[2].y}),r==0&&(f[1].x++,f[1].y++),s+="C"+n.jqx._ptrnd(f[1].x)+","+n.jqx._ptrnd(f[1].y)+" "+n.jqx._ptrnd(f[2].x)+","+n.jqx._ptrnd(f[2].y)+" "+n.jqx._ptrnd(f[3].x)+","+n.jqx._ptrnd(f[3].y)+" "}return s},_animTickInt:50,_createAnimationGroup:function(n){this._animGroups||(this._animGroups={}),this._animGroups[n]={animations:[],startTick:NaN}},_startAnimation:function(n){var t=new Date,i=t.getTime();this._animGroups[n].startTick=i,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(n,t,i,r,u,f,e){r<0&&(r=0),e==undefined&&(e="easeInOutSine"),this._animGroups[n].animations.push({key:t,properties:i,duration:r,fn:u,context:f,easing:e})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=undefined,this._animGroups=undefined},_enableAnimTimer:function(){if(!this._animtimer){var n=this;this._animtimer=setTimeout(function(){n._runAnimation()},this._animTickInt)}},_runAnimation:function(){var e,t,c,r,f,l,u,a,i;if(this._animGroups){var p=new Date,v=p.getTime(),y={};for(i in this._animGroups){var o=this._animGroups[i].animations,s=this._animGroups[i].startTick,h=0;for(e=0;e<o.length;e++){if(t=o[e],c=v-s,t.duration>h&&(h=t.duration),r=t.duration>0?c/t.duration:1,f=r,t.easing&&t.duration!=0&&(f=jQuery.easing[t.easing](r,c,0,1,t.duration)),r>1&&(r=1,f=1),t.fn){t.fn(t.key,t.context,f);continue}for(l={},i=0;i<t.properties.length;i++)u=t.properties[i],a=0,a=r==1?u.to:f*(u.to-u.from)+u.from,l[u.key]=a;this.renderer.attr(t.key,l)}s+h>v&&(y[i]={startTick:s,animations:o})}this._animGroups=y,this.renderer instanceof n.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(i in this._animGroups){this._enableAnimTimer();break}}}),n.jqx.toGreyScale=function(t){var i=n.jqx.cssToRgb(t),r;return i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]),r=n.jqx.rgbToHex(i[0],i[1],i[2]),"#"+r[0]+r[1]+r[2]},n.jqx._adjustColor=function(t,i){for(var f=n.jqx.cssToRgb(t),t="#",r,u=0;u<3;u++)r=Math.round(i*f[u]),r>255?r=255:r<=0&&(r=0),r=n.jqx.decToHex(r),r.toString().length==1&&(t+="0"),t+=r;return t.toUpperCase()},n.jqx.decToHex=function(n){return n.toString(16)},n.jqx.hexToDec=function(n){return parseInt(n,16)},n.jqx.rgbToHex=function(t,i,r){return[n.jqx.decToHex(t),n.jqx.decToHex(i),n.jqx.decToHex(r)]},n.jqx.hexToRgb=function(t,i,r){return[n.jqx.hexToDec(t),n.jqx.hexToDec(i),n.jqx.hexToDec(r)]},n.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?n.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},n.jqx.swap=function(n,t){var i=n;n=t,t=i},n.jqx.getNum=function(t){if(n.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},n.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:n.jqx._rnd(t,1,!1);var i=n.jqx._rnd(t,.5,!1);return Math.abs(i-Math.round(i))!=.5?i>t?i-.5:i+.5:i},n.jqx._rup=function(n){var t=Math.round(n);return n>t&&t++,t},n.jqx.log=function(n,t){return Math.log(n)/(t?Math.log(t):1)},n.jqx._rnd=function(n,t,i){if(isNaN(n))return n;var r=n-n%t;return n==r?r:(i?n>r&&(r+=t):r>n&&(r-=t),r)},n.jqx.commonRenderer={pieSlicePath:function(n,t,i,r,u,f,e){var h,c,it,w,s;r||(r=1),h=Math.abs(u-f),c=h>180?1:0,h>=360&&(f=u+359.99);var l=u*Math.PI/180,a=f*Math.PI/180,nt=n,v=n,tt=t,y=t,p=!isNaN(i)&&i>0;p&&(e=0),e+i>0&&(e>0&&(it=h/2+u,w=it*Math.PI/180,n+=e*Math.cos(w),t-=e*Math.sin(w)),p&&(s=i,nt=n+s*Math.cos(l),tt=t-s*Math.sin(l),v=n+s*Math.cos(a),y=t-s*Math.sin(a)));var b=n+r*Math.cos(l),k=n+r*Math.cos(a),d=t-r*Math.sin(l),g=t-r*Math.sin(a),o="";return p?(o="M "+v+","+y,o+=" a"+i+","+i,o+=" 0 "+c+",1 "+(nt-v)+","+(tt-y),o+=" L"+b+","+d,o+=" a"+r+","+r,o+=" 0 "+c+",0 "+(k-b)+","+(g-d)):(o="M "+k+","+g,o+=" a"+r+","+r,o+=" 0 "+c+",1 "+(b-k)+","+(d-g),o+=" L"+n+","+t+" Z"),o}},n.jqx.svgRenderer=function(){},n.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(n){var i,t;n.append("<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop><\/td><\/tr><tr><td id=tdLeft><\/td><td class='chartContainer'><\/td><\/tr><\/table>"),this.host=n,i=n.find(".chartContainer"),i[0].style.width=n.width()+"px",i[0].style.height=n.height()+"px";try{t=document.createElementNS(this._svgns,"svg"),t.setAttribute("id","svgChart"),t.setAttribute("version","1.1"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("overflow","hidden"),i[0].appendChild(t),this.canvas=t}catch(r){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},_runLayoutFix:function(){var n=this;this._fixLayout()},_fixLayout:function(){var r=n(this.canvas).position(),u=parseFloat(r.left)==parseInt(r.left),f=parseFloat(r.top)==parseInt(r.top),i;if(n.jqx.browser.msie){for(var u=!0,f=!0,t=this.host,e=0,o=0;t&&t.position&&t[0].parentNode;)i=t.position(),e+=parseFloat(i.left)-parseInt(i.left),o+=parseFloat(i.top)-parseInt(i.top),t=t.parent();u=parseFloat(e)==parseInt(e),f=parseFloat(o)==parseInt(o)}u||(this.host.find("#tdLeft")[0].style.width="0.5px"),f||(this.host.find("#tdTop")[0].style.height="0.5px")},_layout:function(){var i=n(this.canvas).offset(),t=this.host.find(".chartContainer");this._width=Math.max(n.jqx._rup(this.host.width())-1,0),this._height=Math.max(n.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){while(this.canvas.childElementCount>0)this.canvas.removeChild(this.canvas.firstElementChild);this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(n){if(n!=undefined)try{n.parentNode?n.parentNode.removeChild(n):this.canvas.removeChild(n)}catch(t){}},_openGroups:[],beginGroup:function(){var t=this._activeParent(),n=document.createElementNS(this._svgns,"g");return t.appendChild(n),this._openGroups.push(n),n},endGroup:function(){this._openGroups.length!=0&&this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(n){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:n.x,y:n.y,width:n.width,height:n.height}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},setClip:function(n,t){return this.attr(n,{"clip-path":"url(#"+t.id+")"})},_clipId:0,addHandler:function(n,t,i){n["on"+t]=i},shape:function(n,t){var i=document.createElementNS(this._svgns,n),r;if(!i)return undefined;for(r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i},measureText:function(t,i,r){var f=document.createElementNS(this._svgns,"text"),s,u,e,o;this.attr(f,r),f.appendChild(f.ownerDocument.createTextNode(t)),s=this._activeParent(),s.appendChild(f);try{u=f.getBBox()}catch(a){console&&console.log&&console.log(a)}if(u==undefined||isNaN(u.width)||isNaN(u.height)||Math.abs(u.width)==Infinity||Math.abs(u.height)==Infinity)return{width:0,height:0};if(e=n.jqx._rup(u.width),o=n.jqx._rup(u.height),s.removeChild(f),i==0)return{width:e,height:o};var h=i*Math.PI/180,c=Math.abs(Math.sin(h)),l=Math.abs(Math.cos(h)),v=Math.abs(e*c+o*l),y=Math.abs(e*l+o*c);return{width:n.jqx._rup(y),height:n.jqx._rup(v)}},text:function(t,i,r,u,f,e,o,s,h,c,l){var tt,it,a,y,k,w,b,d,nt;h||(h="center"),c||(c="center"),s&&(tt=this.beginGroup(),it=this.createClipRect({x:n.jqx._rup(i)-1,y:n.jqx._rup(r)-1,width:n.jqx._rup(u)+2,height:n.jqx._rup(f)+2}),this.setClip(tt,it)),a=document.createElementNS(this._svgns,"text"),this.attr(a,o),this.attr(a,{cursor:"default"}),a.appendChild(a.ownerDocument.createTextNode(t)),y=this._activeParent(),y.appendChild(a);try{k=a.getBBox()}catch(st){console&&console.log&&console.log(st)}if(k!=undefined){y.removeChild(a);var p=k.width,v=k.height*.6,rt=u||0,ut=f||0;if(!e||e==0)return h=="center"?i+=(rt-p)/2:h=="right"&&(i+=rt-p),r+=v,c=="center"?r+=(ut-v)/2:c=="bottom"&&(r+=ut-v),u||(u=p),f||(f=v),this.attr(a,{x:n.jqx._rup(i),y:n.jqx._rup(r),width:n.jqx._rup(u),height:n.jqx._rup(f)}),y.appendChild(a),this.endGroup(),a;var ft=e*Math.PI/180,g=Math.sin(ft),ht=Math.cos(ft),et=p*g,ot=p*ht,ct=r,lt=i;return h=="center"||h==""||h=="undefined"?i=i+u/2:h=="right"&&(i=i+u),c=="center"||c==""||c=="undefined"?r+=f/2:c=="bottom"?r+=f-v/2:c=="top"&&(r+=v/2),l=l||"",w="middle",l.indexOf("top")!=-1?w="top":l.indexOf("bottom")!=-1&&(w="bottom"),b="center",l.indexOf("left")!=-1?b="left":l.indexOf("right")!=-1&&(b="right"),b=="center"?(i-=ot/2,r-=et/2):b=="right"&&(i-=ot,r-=et),w=="top"?i-=v*g:w=="middle"&&(i-=v*g/2),i=n.jqx._rup(i),r=n.jqx._rup(r),d=this.shape("g",{transform:"translate("+i+","+r+")"}),nt=this.shape("g",{transform:"rotate("+e+")"}),d.appendChild(nt),nt.appendChild(a),y.appendChild(d),this.endGroup(),d}},line:function(n,t,i,r,u){var f=this.shape("line",{x1:n,y1:t,x2:i,y2:r});return this.attr(f,u),f},path:function(n,t){var i=this.shape("path");return i.setAttribute("d",n),t&&this.attr(i,t),i},rect:function(t,i,r,u,f){t=n.jqx._ptrnd(t),i=n.jqx._ptrnd(i),r=n.jqx._rup(r),u=n.jqx._rup(u);var e=this.shape("rect",{x:t,y:i,width:r,height:u});return f&&this.attr(e,f),e},circle:function(n,t,i){return this.shape("circle",{cx:n,cy:t,r:i})},pieSlicePath:function(t,i,r,u,f,e,o){return n.jqx.commonRenderer.pieSlicePath(t,i,r,u,f,e,o)},pieslice:function(n,t,i,r,u,f,e,o){var h=this.pieSlicePath(n,t,i,r,u,f,e),s=this.shape("path");return s.setAttribute("d",h),o&&this.attr(s,o),s},attr:function(n,t){if(n&&t)for(var i in t)i=="textContent"?n.textContent=t[i]:n.setAttribute(i,t[i])},getAttr:function(n,t){return n.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+(i?"v":"h"),u="url(#"+s+")",f,e,o,h;if(this._gradients[u])return u;f=document.createElementNS(this._svgns,"linearGradient"),this.attr(f,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:s});for(e in r)o=document.createElementNS(this._svgns,"stop"),h="stop-color:"+n.jqx._adjustColor(t,r[e][1]),this.attr(o,{offset:r[e][0]+"%",style:h}),f.appendChild(o);return this._defs.appendChild(f),this._gradients[u]=!0,u},_toRadialGradient:function(t,i,r){var e="grd"+this._id+t.replace("#","")+"r"+(r!=undefined?r.key:""),f="url(#"+e+")",u,o,s,h;if(this._gradients[f])return f;u=document.createElementNS(this._svgns,"radialGradient"),r==undefined?this.attr(u,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:e}):this.attr(u,{cx:r.x1,cy:r.y1,r:r.outerRadius,id:e,gradientUnits:"userSpaceOnUse"});for(o in i)s=document.createElementNS(this._svgns,"stop"),h="stop-color:"+n.jqx._adjustColor(t,i[o][1]),this.attr(s,{offset:i[o][0]+"%",style:h}),u.appendChild(s);return this._defs.appendChild(u),this._gradients[f]=!0,f}},n.jqx.vmlRenderer=function(){},n.jqx.vmlRenderer.prototype={init:function(t){var i,u,r;t.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=t,i=t.find(".chartContainer"),i[0].style.width=t.width()+"px",i[0].style.height=t.height()+"px",u=!0;try{for(r=0;r<document.namespaces.length;r++)if(document.namespaces[r].name=="v"&&document.namespaces[r].urn=="urn:schemas-microsoft-com:vml"){u=!1;break}}catch(f){return!1}return n.jqx.browser.msie&&parseInt(n.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&document.childNodes[0].data.indexOf("DOCTYPE")!=-1?(u&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):u&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=i[0],this._width=Math.max(n.jqx._rup(i.width()),0),this._height=Math.max(n.jqx._rup(i.height()),0),i[0].style.width=this._width+2,i[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){while(this.canvas.childElementCount>0)this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={}},removeElement:function(n){n!=null&&n.parentNode.removeChild(n)},_openGroups:[],beginGroup:function(){var t=this._activeParent(),n=document.createElement("v:group");return n.style.position="absolute",n.coordorigin="0,0",n.coordsize=this._width+","+this._height,n.style.left=0,n.style.top=0,n.style.width=this._width,n.style.height=this._height,t.appendChild(n),this._openGroups.push(n),n},endGroup:function(){this._openGroups.length!=0&&this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(n){var t=document.createElement("div");return t.style.height=n.height+"px",t.style.width=n.width+"px",t.style.position="absolute",t.style.left=n.x+"px",t.style.top=n.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(n,t){t.appendChild(n)},_clipId:0,addHandler:function(t,i,r){if(n(t).on)n(t).on(i,r);else n(t).bind(i,r)},measureText:function(t,i,r){var f=document.createElement("v:textbox"),e=document.createElement("span"),o,c;e.appendChild(document.createTextNode(t)),f.appendChild(e),r["class"]&&(e.className=r["class"]),o=this._activeParent(),o.appendChild(f);var s=n(f),h=n.jqx._rup(s.width()),u=n.jqx._rup(s.height());if(o.removeChild(f),u==0&&n.jqx.browser.msie&&parseInt(n.jqx.browser.version)<9&&(c=s.css("font-size"),c&&(u=parseInt(c),isNaN(u)&&(u=0))),i==0)return{width:h,height:u};var l=i*Math.PI/180,a=Math.abs(Math.sin(l)),v=Math.abs(Math.cos(l)),y=Math.abs(h*a+u*v),p=Math.abs(h*v+u*a);return{width:n.jqx._rup(p),height:n.jqx._rup(y)}},text:function(t,i,r,u,f,e,o,s,h,c){var ut=o.stroke||"black",p,tt,l,k,a,v,y,w,b,it,rt;if(h||(h="center"),c||(c="center"),s=!1,s&&(p=this.beginGroup(),tt=this.createClipRect({x:n.jqx._rup(i),y:n.jqx._rup(r),width:n.jqx._rup(u),height:n.jqx._rup(f)}),this.setClip(p,tt)),l=document.createElement("v:textbox"),l.style.position="absolute",k=document.createElement("span"),k.appendChild(document.createTextNode(t)),o["class"]&&(k.className=o["class"]),l.appendChild(k),a=this._activeParent(),a.appendChild(l),v=n(l).width(),y=n(l).height(),a.removeChild(l),w=u||0,b=f||0,!e||e==0||Math.abs(e)!=90)return(h=="center"?i+=(w-v)/2:h=="right"&&(i+=w-v),c=="center"?r=r+(b-y)/2:c=="bottom"&&(r=r+b-y),u||(u=v),f||(f=y),p||(l.style.left=n.jqx._rup(i),l.style.top=n.jqx._rup(r),l.style.width=n.jqx._rup(u),l.style.height=n.jqx._rup(f)),a.appendChild(l),p)?(this.endGroup(),a):l;var d=e*Math.PI/180,g=Math.abs(v*Math.sin(d)-y*Math.cos(d)),nt=Math.abs(v*Math.cos(d)+y*Math.sin(d));return(h=="center"?i+=(w-nt)/2:h=="right"&&(i+=w-nt),c=="center"?r=r+(b-g)/2:c=="bottom"&&(r=r+b-g),i=n.jqx._rup(i),r=n.jqx._rup(r),it=n.jqx._rup(i+nt),rt=n.jqx._rup(r+g),Math.abs(e)==90)?(a.appendChild(l),l.style.left=n.jqx._rup(i),l.style.top=n.jqx._rup(r),l.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",p)?(this.endGroup(),a):l:l},shape:function(n,t){var i=document.createElement(this._createElementMarkup(n)),r;if(!i)return undefined;for(r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i},line:function(n,t,i,r,u){var e="M "+n+","+t+" L "+i+","+r+" X E",f=this.path(e);return this.attr(f,u),f},_createElementMarkup:function(n){var t="<v:"+n+' style=""><\/v:'+n+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(n,t){var i=document.createElement(this._createElementMarkup("shape")),r;return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left=0,i.style.top=0,r=document.createElement(this._createElementMarkup("path")),r.v=n,i.appendChild(r),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,r,u,f){t=n.jqx._ptrnd(t),i=n.jqx._ptrnd(i),r=n.jqx._rup(r),u=n.jqx._rup(u);var e=this.shape("rect",f);return e.style.position="absolute",e.style.left=t,e.style.top=i,e.style.width=r,e.style.height=u,e.strokeweight=0,e},circle:function(t,i,r){var u=this.shape("oval");return t=n.jqx._ptrnd(t-r),i=n.jqx._ptrnd(i-r),r=n.jqx._rup(r),u.style.position="absolute",u.style.left=t,u.style.top=i,u.style.width=r*2,u.style.height=r*2,u},updateCircle:function(t,i,r,u){i==undefined&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),r==undefined&&(r=parseFloat(t.style.top)+parseFloat(t.style.height)/2),u==undefined&&(u=parseFloat(t.width)/2),i=n.jqx._ptrnd(i-u),r=n.jqx._ptrnd(r-u),u=n.jqx._rup(u),t.style.left=i,t.style.top=r,t.style.width=u*2,t.style.height=u*2},pieSlicePath:function(t,i,r,u,f,e,o){var c,g,d,k,h;u||(u=1),c=Math.abs(f-e),g=c>180?1:0,c>360&&(f=0,e=360);var l=f*Math.PI/180,a=e*Math.PI/180,p=t,nt=t,w=i,tt=i,b=!isNaN(r)&&r>0;b&&(o=0),o>0&&(d=c/2+f,k=d*Math.PI/180,t+=o*Math.cos(k),i-=o*Math.sin(k)),b&&(h=r,p=n.jqx._ptrnd(t+h*Math.cos(l)),w=n.jqx._ptrnd(i-h*Math.sin(l)),nt=n.jqx._ptrnd(t+h*Math.cos(a)),tt=n.jqx._ptrnd(i-h*Math.sin(a)));var ut=n.jqx._ptrnd(t+u*Math.cos(l)),it=n.jqx._ptrnd(t+u*Math.cos(a)),ft=n.jqx._ptrnd(i-u*Math.sin(l)),rt=n.jqx._ptrnd(i-u*Math.sin(a));u=n.jqx._ptrnd(u),r=n.jqx._ptrnd(r),t=n.jqx._ptrnd(t),i=n.jqx._ptrnd(i);var v=Math.round(f*65535),y=Math.round(e-f)*65536,s="";return b?(s="M"+p+" "+w,s+=" AE "+t+" "+i+" "+r+" "+r+" "+v+" "+y,s+=" L "+it+" "+rt,v=Math.round(f-e)*65535,y=Math.round(e)*65536,s+=" AE "+t+" "+i+" "+u+" "+u+" "+y+" "+v,s+=" L "+p+" "+w):s="M"+t+" "+i+(" AE "+t+" "+i+" "+u+" "+u+" "+v+" "+y),s+" X E"},pieslice:function(n,t,i,r,u,f,e,o){var h=this.pieSlicePath(n,t,i,r,u,f,e),s=this.path(h,o);return o&&this.attr(s,o),s},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(n){for(var t in this._keymap)if(this._keymap[t].svg==n)return this._keymap[t].vml;return n},attr:function(n,t){var i,r;if(n&&t)for(i in t)r=this._translateParam(i),r=="fillcolor"&&t[i].indexOf("grd")!=-1?n.type=t[i]:r=="opacity"||r=="fillopacity"?n.fill&&(n.fill.opacity=t[i]):r=="textContent"?n.children[0].innerText=t[i]:r=="dashstyle"?n.dashstyle=t[i].replace(","," "):r.indexOf("style.")==-1?n[r]=t[i]:n.style[r.replace("style.","")]=t[i]},getAttr:function(n,t){var i=this._translateParam(t);return i=="opacity"||i=="fillopacity"?n.fill?n.fill.opacity:1:i.indexOf("style.")==-1?n[i]:n.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(n){return n},_toLinearGradient:function(t,i,r){var h,f,u,e,o,s;if(this._ie8mode)return t;if(h="grd"+t.replace("#","")+(i?"v":"h"),f="#"+h+"",this._gradients[f])return f;u=document.createElement(this._createElementMarkup("fill")),u.type="gradient",u.method="linear",u.angle=i?0:90,e="";for(o in r)o>0&&(e+=", "),e+=r[o][0]+"% "+n.jqx._adjustColor(t,r[o][1]);return u.colors=e,s=document.createElement(this._createElementMarkup("shapetype")),s.appendChild(u),s.id=h,this.canvas.appendChild(s),f}},n.jqx.HTML5Renderer=function(){},n.jqx.ptrnd=function(n){if(Math.abs(Math.round(n)-n)==.5)return n;var t=Math.round(n);return t<n&&(t=t-1),t+.5},n.jqx.HTML5Renderer.prototype={_elements:{},init:function(n){try{this.host=n,this.host.append("<canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/>"),this.canvas=n.find("#__jqxCanvasWrap"),this.canvas[0].width=n.width(),this.canvas[0].height=n.height(),this.ctx=this.canvas[0].getContext("2d")}catch(t){return!1}return!0},getContainer:function(){return this.canvas&&this.canvas.length==1?this.canvas:undefined},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(){},addHandler:function(){},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(n){this._elements[n.id]&&delete this._elements[(n,id)]},_maxId:0,shape:function(n,t){var i={type:n,id:this._maxId++},r;for(r in t)i[r]=t[r];return this._elements[i.id]=i,i},attr:function(n,t){for(var i in t)n[i]=t[i]},rect:function(n,t,i,r,u){if(isNaN(n))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(r))throw'Invalid value for "height"';var f=this.shape("rect",{x:n,y:t,width:i,height:r});return u&&this.attr(f,u),f},path:function(n,t){var i=this.shape("path",t);return this.attr(i,{d:n}),i},line:function(n,t,i,r,u){return this.path("M "+n+","+t+" L "+i+","+r,u)},circle:function(n,t,i,r){var u=this.shape("circle",{x:n,y:t,r:i});return r&&this.attr(u,r),u},pieSlicePath:function(t,i,r,u,f,e,o){return n.jqx.commonRenderer.pieSlicePath(t,i,r,u,f,e,o)},pieslice:function(n,t,i,r,u,f,e,o){var s=this.path(this.pieSlicePath(n,t,i,r,u,f,e),o);return this.attr(s,{x:n,y:t,innerRadius:i,outerRadius:r,angleFrom:u,angleTo:f}),s},_getCSSStyle:function(n){var i=document.styleSheets,t,r;try{for(t=0;t<i.length;t++)for(r=0;i[t].cssRules&&r<i[t].cssRules.length;r++)if(i[t].cssRules[r].selectorText.indexOf(n)!=-1)return i[t].cssRules[r].style}catch(u){}return{}},measureText:function(t,i,r){var s="Arial",h="10pt",c="",u,e,f,o;if(r["class"]&&(u=this._getCSSStyle(r["class"]),u.fontSize&&(h=u.fontSize),u.fontFamily&&(s=u.fontFamily),u.fontWeight&&(c=u.fontWeight)),this.ctx.font=c+" "+h+" "+s,e=this.ctx.measureText(t).width,f=document.createElement("span"),f.font=this.ctx.font,f.textContent=t,document.body.appendChild(f),o=f.offsetHeight*.6,document.body.removeChild(f),i==0)return{width:e,height:o};var l=i*Math.PI/180,a=Math.abs(Math.sin(l)),v=Math.abs(Math.cos(l)),y=Math.abs(e*a+o*v),p=Math.abs(e*v+o*a);return{width:n.jqx._rup(p),height:n.jqx._rup(y)}},text:function(n,t,i,r,u,f,e,o,s,h,c){var l=this.shape("text",{text:n,x:t,y:i,width:r,height:u,angle:f,clip:o,halign:s,valign:h,rotateAround:c}),a,v;return e&&this.attr(l,e),l.fontFamily="Arial",l.fontSize="10pt",l.fontWeight="",l.color="#000000",e["class"]&&(a=this._getCSSStyle(e["class"]),l.fontFamily=a.fontFamily||l.fontFamily,l.fontSize=a.fontSize||l.fontSize,l.fontWeight=a.fontWeight||l.fontWeight,l.color=a.color||l.color),v=this.measureText(n,0,e),l.textWidth=v.width,l.textHeight=v.height,l},_toLinearGradient:function(t,i,r){var f,u,e;if(this._renderers._gradients[t])return t;for(f=[],u=0;u<r.length;u++)f.push({percent:r[u][0]/100,color:n.jqx._adjustColor(t,r[u][1])});return e="gr"+this._gradientId++,this.createGradient(e,i?"vertical":"horizontal",f),e},_toRadialGradient:function(t,i){var u,r,f;if(this._renderers._gradients[t])return t;for(u=[],r=0;r<i.length;r++)u.push({percent:i[r][0]/100,color:n.jqx._adjustColor(t,i[r][1])});return f="gr"+this._gradientId++,this.createGradient(f,"radial",u),f},_gradientId:0,createGradient:function(n,t,i){this._renderers.createGradient(n,t,i)},_renderers:{_gradients:{},createGradient:function(n,t,i){this._gradients[n]={orientation:t,colorStops:i}},setStroke:function(n,t){n.strokeStyle=t.stroke||"transparent",n.lineWidth=t["stroke-width"]||1,n.setLineDash&&(t["stroke-dasharray"]?n.setLineDash(t["stroke-dasharray"].split(",")):n.setLineDash([]))},setFillStyle:function(t,i){var e,r;if(t.fillStyle="transparent",t.globalAlpha=i["fill-opacity"]?i["fill-opacity"]:1,i.fill&&i.fill.indexOf("#")==-1&&this._gradients[i.fill]){var u=this._gradients[i.fill].orientation!="horizontal",l=this._gradients[i.fill].orientation=="radial",o=n.jqx.ptrnd(i.x),s=n.jqx.ptrnd(i.y),h=n.jqx.ptrnd(i.x+(u?0:i.width)),c=n.jqx.ptrnd(i.y+(u?i.height:0)),f;for((i.type=="circle"||i.type=="path")&&l&&(x=n.jqx.ptrnd(i.x),y=n.jqx.ptrnd(i.y),r1=i.innerRadius||0,r2=i.outerRadius||i.r||0,f=t.createRadialGradient(x,y,r1,x,y,r2)),l||((isNaN(o)||isNaN(h)||isNaN(s)||isNaN(c))&&(o=0,s=0,h=u?0:t.canvas.width,c=u?t.canvas.height:0),f=t.createLinearGradient(o,s,h,c)),e=this._gradients[i.fill].colorStops,r=0;r<e.length;r++)f.addColorStop(e[r].percent,e[r].color);t.fillStyle=f}else i.fill&&(t.fillStyle=i.fill)},rect:function(t,i){i.width!=0&&i.height!=0&&(t.fillRect(n.jqx.ptrnd(i.x),n.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(n.jqx.ptrnd(i.x),n.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){i.r!=0&&(t.beginPath(),t.arc(n.jqx.ptrnd(i.x),n.jqx.ptrnd(i.y),i.r,0,Math.PI*2,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(n){var t=this._parseNumber(n),i=this._parseNumber(n);return{x:t,y:i}},_parseNumber:function(n){for(var i=!1,r,t=this._pos;t<n.length;t++){if(n[t]>="0"&&n[t]<="9"||n[t]=="."||n[t]=="-"&&!i){i=!0;continue}if(!i&&(n[t]==" "||n[t]==",")){this._pos++;continue}break}return(r=parseFloat(n.substring(this._pos,t)),isNaN(r))?undefined:(this._pos=t,r)},_pos:0,_cmds:"mlcaz",_lastCmd:"",_isRelativeCmd:function(t){return n.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(n.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(t[i]==" "){this._pos++;continue}if(t[i]>="0"&&t[i]<="9")if(this._pos=i,this._lastCmd=="")break;else return this._lastCmd}return undefined},_toAbsolutePoint:function(n){return{x:this._currentPoint.x+n.x,y:this._currentPoint.y+n.y}},_currentPoint:{x:0,y:0},path:function(n,t){var f=t.d,a,st,e,o,y;for(this._pos=0,this._lastCmd="",a=undefined,this._currentPoint={x:0,y:0},n.beginPath(),st=0;this._pos<f.length;){if(e=this._parseCmd(f),e==undefined)break;if(e=="M"||e=="m"){if(o=this._parsePoint(f),o==undefined)break;n.moveTo(o.x,o.y),this._currentPoint=o,a==undefined&&(a=o);continue}if(e=="L"||e=="l"){if(o=this._parsePoint(f),o==undefined)break;n.lineTo(o.x,o.y),this._currentPoint=o;continue}if(e=="A"||e=="a"){var i=this._parseNumber(f),r=this._parseNumber(f),s=this._parseNumber(f)*(Math.PI/180),ht=this._parseNumber(f),w=this._parseNumber(f),l=this._parsePoint(f);if(this._isRelativeCmd(e)&&(l=this._toAbsolutePoint(l)),i==0||r==0)continue;var v=this._currentPoint,u={x:Math.cos(s)*(v.x-l.x)/2+Math.sin(s)*(v.y-l.y)/2,y:-Math.sin(s)*(v.x-l.x)/2+Math.cos(s)*(v.y-l.y)/2},k=Math.pow(u.x,2)/Math.pow(i,2)+Math.pow(u.y,2)/Math.pow(r,2);k>1&&(i*=Math.sqrt(k),r*=Math.sqrt(k)),y=(ht==w?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(r,2)-Math.pow(i,2)*Math.pow(u.y,2)-Math.pow(r,2)*Math.pow(u.x,2))/(Math.pow(i,2)*Math.pow(u.y,2)+Math.pow(r,2)*Math.pow(u.x,2))),isNaN(y)&&(y=0);var h={x:y*i*u.y/r,y:y*-r*u.x/i},b={x:(v.x+l.x)/2+Math.cos(s)*h.x-Math.sin(s)*h.y,y:(v.y+l.y)/2+Math.sin(s)*h.x+Math.cos(s)*h.y},tt=function(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))},p=function(n,t){return(n[0]*t[0]+n[1]*t[1])/(tt(n)*tt(t))},it=function(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(p(n,t))},rt=it([1,0],[(u.x-h.x)/i,(u.y-h.y)/r]),d=[(u.x-h.x)/i,(u.y-h.y)/r],g=[(-u.x-h.x)/i,(-u.y-h.y)/r],c=it(d,g);p(d,g)<=-1&&(c=Math.PI),p(d,g)>=1&&(c=0),w==0&&c>0&&(c=c-2*Math.PI),w==1&&c<0&&(c=c+2*Math.PI);var p=i>r?i:r,ut=i>r?1:i/r,ft=i>r?r/i:1;n.translate(b.x,b.y),n.rotate(s),n.scale(ut,ft),n.arc(0,0,p,rt,rt+c,1-w),n.scale(1/ut,1/ft),n.rotate(-s),n.translate(-b.x,-b.y);continue}if((e=="Z"||e=="z")&&a!=undefined){n.lineTo(a.x,a.y),this._currentPoint=a;continue}if(e=="C"||e=="c"){var et=this._parsePoint(f),ot=this._parsePoint(f),nt=this._parsePoint(f);n.bezierCurveTo(et.x,et.y,ot.x,ot.y,nt.x,nt.y),this._currentPoint=nt;continue}}n.fill(),n.stroke(),n.closePath()},text:function(t,i){var r=n.jqx.ptrnd(i.x),u=n.jqx.ptrnd(i.y),s=n.jqx.ptrnd(i.width),h=n.jqx.ptrnd(i.height),e=i.halign,f=i.valign,y=i.angle,c=i.rotateAround,p=i.clip,a,v;p==undefined&&(p=!0),t.save(),e||(e="center"),f||(f="center"),p&&(t.rect(r-2,u-2,s+5,h+5),t.clip());var l=i.textWidth,o=i.textHeight,k=s||0,d=h||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,!y||y==0){e=="center"?r+=(k-l)/2:e=="right"&&(r+=k-l),u+=o,f=="center"?u+=(d-o)/2:f=="bottom"&&(u+=d-o),s||(s=l),h||(h=o),t.fillText(i.text,r,u),t.restore();return}var w=y*Math.PI/180,b=Math.sin(w),tt=Math.cos(w),g=l*b,nt=l*tt,it=u,rt=r;e=="center"||e==""||e=="undefined"?r=r+s/2:e=="right"&&(r=r+s),f=="center"||f==""||f=="undefined"?u=u+h/2:f=="bottom"?u+=h-o/2:f=="top"&&(u+=o/2),c=c||"",a="middle",c.indexOf("top")!=-1?a="top":c.indexOf("bottom")!=-1&&(a="bottom"),v="center",c.indexOf("left")!=-1?v="left":c.indexOf("right")!=-1&&(v="right"),v=="center"?(r-=nt/2,u-=g/2):v=="right"&&(r-=nt,u-=g),a=="top"?r-=o*b:a=="middle"&&(r-=o*b/2),r=n.jqx._rup(r),u=n.jqx._rup(u),t.translate(r,u),t.rotate(w),t.fillText(i.text,0,0),t.restore()}},refresh:function(){var t,n;this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(t in this._elements)n=this._elements[t],this._renderers.setFillStyle(this.ctx,n),this._renderers.setStroke(this.ctx,n),this._renderers[this._elements[t].type](this.ctx,n)}}})(jQuery);
//# sourceMappingURL=jqxchart.min.js.map
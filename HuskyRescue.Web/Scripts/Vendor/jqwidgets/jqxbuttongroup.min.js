(function(n){n.jqx.jqxWidget("jqxButtonGroup","",{}),n.extend(n.jqx._jqxButtonGroup.prototype,{defineInstance:function(){this.mode="default",this.roundedCorners=!0,this.disabled=!1,this.enableHover=!1,this.orientation="horizontal",this.width=null,this.height=null,this._eventsMap={mousedown:n.jqx.mobile.getTouchEventName("touchstart"),mouseup:n.jqx.mobile.getTouchEventName("touchend")},this._events=["selected","unselected","buttonclick"],this._buttonId={},this._selected=null,this._pressed=null,this.rtl=!1,this._baseId="group_button",this.aria={"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){this._isTouchDevice=n.jqx.mobile.isTouchDevice();var t=this;n.jqx.aria(this),this.addHandler(this.host,"selectstart",function(n){t.disabled||n.preventDefault()})},refresh:function(){this.width&&(this.width.toString()&&this.width.indexOf("%")>=0?this.element.style.width=this.width:this.host.width(this.width)),this.height&&this.host.height(this.height),this._refreshButtons()},render:function(){this.refresh()},_getEvent:function(n){if(this._isTouchDevice){var t=this._eventsMap[n]||n;return t+("."+this.element.id)}return n+("."+this.element.id)},_refreshButtons:function(){var u,r,t,f,i;this.lastElement&&this.lastElement.remove(),this.lastElement=n("<div style='clear: both;'><\/div>"),u=this.host.children(),r=u.length;switch(this.mode){case"radio":this.host.attr("role","radiogroup");break;case"checkbox":case"default":this.host.attr("role","group")}for(f=new Number(100/r).toFixed(2),i=0;i<r;i+=1)t=n(u[i]),this.width&&(this.orientation==="horizontal"?(t.css("width",f+"%"),t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("white-space","nowrap"),t.css("text-overflow","ellipsis"),t.css("overflow","hidden")):(t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("width","100%"))),this._refreshButton(t,i,r);this.lastElement.appendTo(this.host)},_refreshButton:function(n,t,i){(function(n){n=this._render(n),this._removeStyles(n),this._addStyles(n,t,i),this._performLayout(n),this._removeButtonListeners(n),this._addButtonListeners(n),this._handleButtonId(n,t),this.mode=="radio"?n.attr("role","radio"):n.attr("role","button"),n.attr("disabled",this.disabled),this.disabled?n.addClass(this.toThemeProperty("jqx-fill-state-disabled")):n.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[n])},destroy:function(t){for(var u=this.host.children(),f=u.length,r,i=0;i<f;i+=1)r=n(u[i]),this._removeStyles(r),this._removeButtonListeners(r);t!=!1&&this.host.remove()},_render:function(n){return n[0].tagName.toLowerCase()==="button"?this._renderFromButton(n):this._renderButton(n)},_renderButton:function(n){return n.wrapInner("<div/>"),n},_removeStyles:function(n){this.host.removeClass("jqx-widget"),this.host.removeClass("jqx-rc-all"),n.removeClass(this.toThemeProperty("jqx-fill-state-normal")),n.removeClass(this.toThemeProperty("jqx-group-button-normal")),n.removeClass(this.toThemeProperty("jqx-rc-tl")),n.removeClass(this.toThemeProperty("jqx-rc-bl")),n.removeClass(this.toThemeProperty("jqx-rc-tr")),n.removeClass(this.toThemeProperty("jqx-rc-br")),n.css("margin-left",0)},_addStyles:function(n,t,i){this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-buttongroup")),n.addClass(this.toThemeProperty("jqx-button")),n.addClass(this.toThemeProperty("jqx-group-button-normal")),n.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.roundedCorners&&(t===0?this._addRoundedCorners(n,!0):t===i-1&&this._addRoundedCorners(n,!1)),this.orientation=="horizontal"?n.css("margin-left",-parseInt(n.css("border-left-width"),10)):n.css("margin-top",-parseInt(n.css("border-left-width"),10))},_addRoundedCorners:function(n,t){this.orientation=="horizontal"?t?(n.addClass(this.toThemeProperty("jqx-rc-tl")),n.addClass(this.toThemeProperty("jqx-rc-bl"))):(n.addClass(this.toThemeProperty("jqx-rc-tr")),n.addClass(this.toThemeProperty("jqx-rc-br"))):t?(n.addClass(this.toThemeProperty("jqx-rc-tl")),n.addClass(this.toThemeProperty("jqx-rc-tr"))):(n.addClass(this.toThemeProperty("jqx-rc-bl")),n.addClass(this.toThemeProperty("jqx-rc-br")))},_centerContent:function(n,t){return n.css({"margin-top":(t.height()-n.height())/2,"margin-left":(t.width()-n.width())/2}),n},_renderFromButton:function(t){var r=t.val(),i,u;return r==""&&(r=t.html()),u=t[0].id,t.wrap("<div/>"),i=t.parent(),i.attr("style",t.attr("style")),t.remove(),n.jqx.utilities.html(i,r),i[0].id=u,i},_performLayout:function(t){this.orientation=="horizontal"?this.rtl?t.css("float","right"):t.css("float","left"):t.css("float","none"),this._centerContent(n(t.children()),t)},_mouseEnterHandler:function(t){var i=t.data.self,r=n(t.currentTarget);!i._isDisabled(r)&&i.enableHover&&(r.addClass(i.toThemeProperty("jqx-group-button-hover")),r.addClass(i.toThemeProperty("jqx-fill-state-hover")))},_mouseLeaveHandler:function(t){var i=t.data.self,r=n(t.currentTarget);!i._isDisabled(r)&&i.enableHover&&(r.removeClass(i.toThemeProperty("jqx-group-button-hover")),r.removeClass(i.toThemeProperty("jqx-fill-state-hover")))},_mouseDownHandler:function(t){var i=t.data.self,r=n(t.currentTarget);i._isDisabled(r)||(i._pressed=r,r.addClass(i.toThemeProperty("jqx-group-button-pressed")),r.addClass(i.toThemeProperty("jqx-fill-state-pressed")))},_mouseUpHandler:function(t){var r=t.data.self,i=n(t.currentTarget);r._isDisabled(i)||(r._handleSelection(i),r._pressed=null,i=r._buttonId[i[0].id],r._raiseEvent(2,{index:i.num,button:i.btn}))},_isDisabled:function(n){return!n||!n[0]?!1:this._buttonId[n[0].id].disabled},_documentUpHandler:function(n){var t=n.data.self,i=t._pressed;i&&!t._buttonId[i[0].id].selected&&(i.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(t){var i=this;this.addHandler(t,this._getEvent("mouseenter"),this._mouseEnterHandler,{self:this}),this.addHandler(t,this._getEvent("mouseleave"),this._mouseLeaveHandler,{self:this}),this.addHandler(t,this._getEvent("mousedown"),this._mouseDownHandler,{self:this}),this.addHandler(t,this._getEvent("mouseup"),this._mouseUpHandler,{self:this}),this.addHandler(n(document),this._getEvent("mouseup"),this._documentUpHandler,{self:this})},_removeButtonListeners:function(t){this.removeHandler(t,this._getEvent("mouseenter"),this._mouseEnterHandler),this.removeHandler(t,this._getEvent("mouseleave"),this._mouseLeaveHandler),this.removeHandler(t,this._getEvent("mousedown"),this._mouseDownHandler),this.removeHandler(t,this._getEvent("mouseup"),this._mouseUpHandler),this.removeHandler(n(document),this._getEvent("mouseup"),this._documentUpHandler)},_handleSelection:function(n){this.mode==="radio"?this._handleRadio(n):this.mode==="checkbox"?this._handleCheckbox(n):this._handleDefault(n)},_handleRadio:function(n){var t=this._getSelectedButton(),i;t&&t.btn[0].id!==n[0].id&&this._unselectButton(t.btn,!0);for(i in this._buttonId)this._buttonId[i].selected=!0,this._unselectButton(this._buttonId[i].btn,!1);this._selectButton(n,!0)},_handleCheckbox:function(n){var t=this._buttonId[n[0].id];t.selected?this._unselectButton(t.btn,!0):this._selectButton(n,!0)},_handleDefault:function(n){this._selectButton(n,!1);for(var t in this._buttonId)this._buttonId[t].selected=!0,this._unselectButton(this._buttonId[t].btn,!1)},_getSelectedButton:function(){for(var n in this._buttonId)if(this._buttonId[n].selected)return this._buttonId[n];return null},_getSelectedButtons:function(){var t=[],n;for(n in this._buttonId)this._buttonId[n].selected&&t.push(this._buttonId[n].num);return t},_getButtonByIndex:function(n){var t;for(t in this._buttonId)if(this._buttonId[t].num===n)return this._buttonId[t];return null},_selectButton:function(t,i){var r=this._buttonId[t[0].id];r.selected||(r.btn.addClass(this.toThemeProperty("jqx-group-button-pressed")),r.btn.addClass(this.toThemeProperty("jqx-fill-state-pressed")),r.selected=!0,i&&this._raiseEvent(0,{index:r.num,button:r.btn}),n.jqx.aria(r.btn,"aria-checked",!0))},_unselectButton:function(t,i){var r=this._buttonId[t[0].id];r.selected&&(r.btn.removeClass(this.toThemeProperty("jqx-group-button-pressed")),r.btn.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r.selected=!1,i&&this._raiseEvent(1,{index:r.num,button:r.btn}),n.jqx.aria(r.btn,"aria-checked",!1))},setSelection:function(n){if(this.mode==="checkbox")if(typeof n=="number")this._setSelection(n);else for(var t=0;t<n.length;t+=1)this._setSelection(n[t]);else typeof n=="number"&&this.mode==="radio"&&this._setSelection(n)},_setSelection:function(n){var t=this._getButtonByIndex(n);this._handleSelection(t.btn)},getSelection:function(){return this.mode==="radio"?this._getSelectedButton().num:this.mode==="checkbox"?this._getSelectedButtons():undefined},disable:function(){var t,i;this.disabled=!0;for(i in this._buttonId)t=this._buttonId[i],this.disableAt(t.num);n.jqx.aria(this,"aria-disabled",!0)},enable:function(){var t,i;this.disabled=!1;for(i in this._buttonId)t=this._buttonId[i],this.enableAt(t.num);n.jqx.aria(this,"aria-disabled",!1)},disableAt:function(n){var t=this._getButtonByIndex(n);t.disabled||(t.disabled=!0,t.btn.addClass(this.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(n){var t=this._getButtonByIndex(n);t.disabled&&(t.disabled=!1,t.btn.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(n,t){var i=n[0].id,r={btn:n,num:t,selected:!1};return i||(i=this._baseId+(new Date).getTime()),n[0].id=i,this._buttonId[i]=r,i},_raiseEvent:function(t,i){var r=n.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_unselectAll:function(){for(var n in this._buttonId)this._unselectButton(this._buttonId[n].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(t,i,r,u){if(i=="theme"&&u!=null&&n.jqx.utilities.setTheme(r,u,t.host),i==="mode"){t._unselectAll(),t.refresh();return}i==="disabled"?u?t.disable():t.enable():t.refresh()}})})(jQuery);
//# sourceMappingURL=jqxbuttongroup.min.js.map
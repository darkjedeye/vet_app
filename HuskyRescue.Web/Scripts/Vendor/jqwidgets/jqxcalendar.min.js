(function(n){n.jqx.jqxWidget("jqxCalendar","",{}),n.extend(n.jqx._jqxCalendar.prototype,{defineInstance:function(){this.disabled=!1,this.multipleMonthRows=1,this.multipleMonthColumns=1,this.minDate==undefined&&(this.minDate=n.jqx._jqxDateTimeInput.getDateTime(new Date),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0)),this.maxDate==undefined&&(this.maxDate=n.jqx._jqxDateTimeInput.getDateTime(new Date),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0)),this.min=new Date(1900,0,1),this.max=new Date(2100,0,1),this.navigationDelay=400,this.stepMonths===undefined&&(this.stepMonths=1),this.width=null,this.height=null,this.value===undefined&&(this.value=n.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.firstDayOfWeek=0,this.showWeekNumbers=!1,this.showDayNames=!0,this.enableWeekend=!1,this.enableOtherMonthDays=!0,this.showOtherMonthDays=!0,this.rowHeaderWidth=25,this.columnHeaderHeight=20,this.titleHeight=25,this.dayNameFormat="firstTwoLetters",this.monthNameFormat="default",this.titleFormat=["MMMM yyyy","yyyy","yyyy","yyyy"],this.enableViews=!0,this.readOnly===undefined&&(this.readOnly=!1),this.culture==undefined&&(this.culture="default"),this.enableFastNavigation==undefined&&(this.enableFastNavigation=!0),this.enableHover==undefined&&(this.enableHover=!0),this.enableAutoNavigation==undefined&&(this.enableAutoNavigation=!0),this.enableTooltips===undefined&&(this.enableTooltips=!1),this.backText="Back",this.forwardText="Forward",this.specialDates===undefined&&(this.specialDates=[]),this.keyboardNavigation=!0,this.selectionMode="default",this.todayString="Today",this.clearString="Clear",this.showFooter=!1,this.selection={from:null,to:null},this.canRender=!0,this._checkForHiddenParent=!0,this.height=null,this.rtl=!1,this.view="month",this.localization={backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},this.events=["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]},createInstance:function(){var e,t,u,o;this.setCalendarSize(),this.element.id===""&&(this.element.id=n.jqx.utilities.createId()),this.host.attr("data-role","calendar"),e=this.element.id,t=this,this.propertyChangeMap.width=function(){t.setCalendarSize()},this.propertyChangeMap.height=function(){t.setCalendarSize()},n.global&&n.global.preferCulture(this.culture),this.culture!="default"&&(n.global?(n.global.preferCulture(this.culture),this.localization.calendar=n.global.culture.calendar):Globalize&&(u=Globalize.culture(this.culture),this.localization.calendar=u.calendar),this.firstDayOfWeek=this.localization.calendar.firstDay),this.localization.backString!="Back"&&(this.backText=this.localization.backString),this.localization.forwardString!="Forward"&&(this.forwardText=this.localization.forwardString),this.localization.todayString!="Today"&&(this.todayString=this.localization.todayString),this.localization.clearString!="Clear"&&(this.clearString=this.localization.clearString),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),this.addHandler(this.host,"keydown",function(n){var i=!0;return t.keyboardNavigation&&t._handleKey!=undefined&&(i=t._handleKey(n),i||(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault())),i});var f=!1,i=this,r=!1;t.width!=null&&t.width.toString().indexOf("%")!=-1&&(r=!0),t.height!=null&&t.height.toString().indexOf("%")!=-1&&(r=!0),n.jqx.utilities.resize(this.host,function(){var n=i.host.find("#View"+t.element.id);f?i.refreshTitle(n):(f=!0,i.render()),r&&(t.refreshTimer&&clearTimeout(t.refreshTimer),t.refreshTimer=setTimeout(function(){t.refreshControl()},1))}),o="View",this.propertyChangeMap.disabled=function(n,i,r,u){u?n.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):n.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.refreshControl()}},_addInput:function(){var t=this.host.attr("name");t||(t=this.element.id),this.input=n("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t),this.input.val(this.getDate().toString())},setCalendarSize:function(){this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width),this.width!=null&&this.width.toString().indexOf("%")!=-1&&this.host.css("width",this.width),this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height),this.height!=null&&this.height.toString().indexOf("%")!=-1&&this.host.css("height",this.height)},_getYearAndMonthPart:function(n){return new Date(n.getFullYear(),n.getMonth(),1)},_handleKey:function(t){var r,h,it,w,o,f,u,s;if(this.readOnly)return!0;var c=t.keyCode,rt=this,e=this._getSelectedDate();if(e==undefined||t.altKey)return!0;if(this._animating)return!1;if(this.view!="month"&&c==13&&(u=this._getSelectedCell(),this._setDateAndSwitchViews(u)),this.view=="year"){var v=e.getMonth(),y=this._getYearAndMonthPart(this.getMinDate()),p=this._getYearAndMonthPart(this.getMaxDate());switch(c){case 37:return v==0?(r=new Date(e.getFullYear()-1,11,1),r>=y?(this.selectedDate=r,this.navigateBackward()):this.selectedDate!=y&&(this.selectedDate=y,this.navigateBackward())):(r=new Date(e.getFullYear(),v-1,1),r>=y&&this._selectDate(r,"key")),!1;case 38:return r=new Date(e.getFullYear(),v-4,1),r<y&&(r=y),v-4<0?(this.selectedDate=r,this.navigateBackward()):this._selectDate(r,"key"),!1;case 40:return r=new Date(e.getFullYear(),v+4,1),r>p&&(r=p),v+4>11?(this.selectedDate=r,this.navigateForward()):this._selectDate(r,"key"),!1;case 39:return v==11?(r=new Date(e.getFullYear()+1,0,1),r<=p?(this.selectedDate=r,this.navigateForward()):this.selectedDate!=p&&(this.selectedDate=p,this.navigateForward())):(r=new Date(e.getFullYear(),v+1,1),r<=p&&this._selectDate(r,"key")),!1}return!0}if(this.view=="decade"){var d=this._renderStartDate.getFullYear(),g=this._renderEndDate.getFullYear(),l=e.getFullYear(),b=this.getMinDate().getFullYear(),k=this.getMaxDate().getFullYear();switch(c){case 37:return l-1>=b&&(l<=d?(this.selectedDate=new Date(l-1,e.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(l-1,e.getMonth(),1),"key")),!1;case 38:return h=l-4,l-4<b&&(h=b),h<d?(this.selectedDate=new Date(h,e.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(h,e.getMonth(),1),"key"),!1;case 40:return h=l+4,h>k&&(h=k),h>g?(this.selectedDate=new Date(h,e.getMonth(),1),this.navigateForward()):this._selectDate(new Date(h,e.getMonth(),1),"key"),!1;case 39:return l+1<=k&&(l==g?(this.selectedDate=new Date(l+1,e.getMonth(),1),this.navigateForward()):this._selectDate(new Date(l+1,e.getMonth(),1),"key")),!1}return!0}var i=new n.jqx._jqxDateTimeInput.getDateTime(e),nt=this.getViewStart(),tt=this.getViewEnd(),a=n.data(this.element,"View"+this.element.id);if(a==undefined||a==null)return!0;if(c==36)return i._setDay(1),this._selectDate(i.dateTime,"key"),!1;if(c==35)return it=this.value._daysInMonth(this.value.year,this.value.month),i._setDay(it),this._selectDate(i.dateTime,"key"),!1;if(w=1,t.ctrlKey&&(w=12),c==34)return o=this.navigateForward(w),o&&(i._addMonths(w),this._selectDate(i.dateTime,"key")),!1;if(c==33)return o=this.navigateBackward(w),o&&(i._addMonths(-w),this._selectDate(i.dateTime,"key")),!1;if(c==38){if((i._addDays(-7),i.dateTime<this.getMinDate())||i.dateTime<nt&&(o=this.navigateBackward(),!o))return!1;for(this._selectDate(i.dateTime,"key"),f=0;f<a.cells.length;f++)if(u=a.cells[f],s=u.getDate(),u.isOtherMonth&&u.isSelected&&s<=i.dateTime){this.value.day=s.getDate(),this.navigateBackward(),this._selectDate(i.dateTime,"key");break}return!1}if(c==40){if((i._addDays(7),i.dateTime>this.getMaxDate())||i.dateTime>tt&&(o=this.navigateForward(),!o))return!1;for(this._selectDate(i.dateTime,"key"),f=0;f<a.cells.length;f++)if(u=a.cells[f],s=u.getDate(),u.isOtherMonth&&u.isSelected&&s>=i.dateTime){this.value.day=s.getDate(),this.navigateForward(),this._selectDate(i.dateTime,"key");break}return!1}if(c==37){if((i._addDays(-1),i.dateTime<this.getMinDate())||i.dateTime<nt&&(o=this.navigateBackward(),!o))return!1;for(this._selectDate(i.dateTime,"key"),f=0;f<a.cells.length;f++)if(u=a.cells[f],s=u.getDate(),u.isOtherMonth&&u.isSelected&&s<=i.dateTime){if(i.dateTime<this.getMinDate()||i.dateTime>this.getMaxDate())return!1;this.navigateBackward(),this._selectDate(i.dateTime,"key");break}return!1}if(c==39){if((i._addDays(1),i.dateTime>this.getMaxDate())||i.dateTime>tt&&(o=this.navigateForward(),!o))return!1;for(this._selectDate(i.dateTime,"key"),f=0;f<a.cells.length;f++)if(u=a.cells[f],s=u.getDate(),u.isOtherMonth&&u.isSelected&&s>=i.dateTime){if(i.dateTime<this.getMinDate()||i.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(i.dateTime,"key");break}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var i=this._renderSingleCalendar("View"+this.element.id),t=this;this._checkForHiddenParent&&(this._hiddenParentTimer||n.jqx.isHidden(this.host)&&(this._hiddenParentTimer=setInterval(function(){if(!n.jqx.isHidden(t.host))try{clearInterval(t._hiddenParentTimer),t.updateSize(),t._hiddenParentTimer=0}catch(i){}},10))),this.host.append(i)}},addSpecialDate:function(n,t,i){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){var r=this.specialDates.length;this.specialDates[r]={Date:n,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){this.multipleMonthRows==1&&this.multipleMonthColumns==1&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var n=this.getVisibleDate(),t=this.getFirstDayOfWeek(n);return t.dateTime},getViewEnd:function(){var i=this.getViewStart(),t=new n.jqx._jqxDateTimeInput.getDateTime(i);return t._addDays(41),t.dateTime},refreshSingleCalendar:function(n){var i,r,u;if(this.canRender){var t=this.host.find("#"+n),f=this.getVisibleDate(),e=this.getFirstDayOfWeek(f);this.refreshCalendarCells(t,e,n),this.refreshTitle(t),this.refreshRowHeader(t,n),this.selectedDate!=undefined&&this._selectDate(this.selectedDate),i=this.host.height()-this.titleHeight-this.columnHeaderHeight,this.showDayNames||(i=this.host.height()-this.titleHeight),this.showFooter&&(i-=20),r=t.find("#cellsTable"+n),u=t.find("#calendarRowHeader"+n),r.height(i),u.height(i)}},refreshRowHeader:function(t,i){var u,s,r,h,c;if(this.showWeekNumbers){var v=this.getVisibleDate(),e=this.getFirstDayOfWeek(v),p=e.dayOfWeek,o=this.getWeekOfYear(e),l=this.rowHeader.find("table");for(l.width(this.rowHeaderWidth),u=e,s=[],r=0;r<6;r++){var w=o.toString(),f=new n.jqx._jqxCalendar.cell(u.dateTime),y=r+1+this.element.id,a=n(l[0].rows[r].cells[0]);f.element=a,f.row=r,f.column=0,h=a.find("#headerCellContent"+y),h.addClass(this.toThemeProperty("jqx-calendar-row-cell")),h[0].innerHTML=o,s[r]=f,u=new n.jqx._jqxDateTimeInput.getDateTime(new Date(u._addWeeks(1))),o=this.getWeekOfYear(u)}c=n.data(this.element,t[0].id),c.rowCells=s,this._refreshOtherMonthRows(c,i)}},_refreshOtherMonthRows:function(n,t){var r,u,i,f;if(!this.showOtherMonthDays){for(this._displayLastRow(!0,t),this._displayFirstRow(!0,t),r=!1,u=!1,i=0;i<n.cells.length;i++)f=n.cells[i],f.isVisible&&i<7?r=!0:f.isVisible&&i>=n.cells.length-7&&(u=!0);r||this._displayFirstRow(!1,t),u||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var u=this.host.find("#"+i),e=u.find("#calendarRowHeader"+u[0].id).find("table"),r=null,f;this.showWeekNumbers&&e[0].cells&&(r=n(e[0].rows[5])),f=n(u.find("#cellTable"+u[0].id)[0].rows[5]),t?(this.showWeekNumbers&&r&&r.css("display","table-row"),f.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),f.css("display","none"))},_displayFirstRow:function(t,i){var u=this.host.find("#"+i),e=u.find("#calendarRowHeader"+u[0].id).find("table"),r=null,f;this.showWeekNumbers&&e[0].cells&&(r=n(e[0].rows[0])),f=n(u.find("#cellTable"+u[0].id)[0].rows[0]),t?(this.showWeekNumbers&&r&&r.css("display","table-row"),f.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),f.css("display","none"))},_renderSingleCalendar:function(t,i){var h,l,f,e,a,v,o,s,u,b;if(this.canRender){h=this.host.find("#"+t.toString()),h!=null&&h.remove();var r=n("<div id='"+t.toString()+"'><\/div>"),k=this.getVisibleDate(),c=this.getFirstDayOfWeek(k),p=new n.jqx._jqxDateTimeInput.getDateTime(c.dateTime);p._addMonths(1),l=n.jqx._jqxCalendar.monthView(c,p,null,null,null,r),i==undefined||i==null?(this.host.append(r),this.height==undefined||isNaN(this.height)?this.height!=null&&this.height.toString().indexOf("px")!=-1&&r.height(this.height):r.height(this.height),this.width==undefined||isNaN(this.width)?this.width!=null&&this.width.toString().indexOf("px")!=-1&&r.width(this.width):r.width(this.width),this.width!=null&&this.width.toString().indexOf("%")!=-1&&r.width("100%"),this.height!=null&&this.height.toString().indexOf("%")!=-1&&r.height("100%")):i.append(r),n.data(this.element,t,l),f=this.host.height()-this.titleHeight-this.columnHeaderHeight,this.showDayNames||(f=this.host.height()-this.titleHeight),this.showFooter&&(f-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0),e=this.rowHeaderWidth,a=this.columnHeaderHeight,this.showWeekNumbers||(e=0),this.showDayNames||(a=0),v=n("<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'><\/td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'><\/td><td role='gridcell' NOWRAP id='rightNavigationArrow'><\/td><\/tr><\/table><\/div>"),v.addClass(this.toThemeProperty("jqx-calendar-title-container")),r.append(v);var w=n("<table role='grid' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+a+"'><td role='gridcell' id='selectCell' width='"+e+"'><\/td><td role='gridcell' colspan='2' style='padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'><\/td><\/tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+f+"' width='"+e+"'><\/td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+f+"'><\/td><\/tr><\/table>"),y=n("<div style='margin: 0px; display: none; height:20px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'><\/td><td align='left' colspan='2' id=doneButton><\/td><\/tr><\/table><\/div>");return this.showFooter&&y.css("display","block"),r.append(w),r.append(y),w.addClass(this.toThemeProperty("jqx-calendar-month")),this._footer=y,this.header=r.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=r.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=r.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=r.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=r.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=r.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=r.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=r.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=r.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=r.find("#calendarFooter"),this.footer[0].id="calendarFooter"+t,this.todayButton=r.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=r.find("#doneButton"),this.doneButton[0].id="doneButton"+t,r.find("tr").addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=r,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(r):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter&&(this.footer.height(20),o=n("<a href='#'>"+this.todayString+"<\/a>"),o.appendTo(this.todayButton),s=n("<a href='#'>"+this.clearString+"<\/a>"),s.appendTo(this.doneButton),s.addClass(this.toThemeProperty("jqx-calendar-footer")),o.addClass(this.toThemeProperty("jqx-calendar-footer")),u=this,this.addHandler(o,"click",function(){return u.today?u.today():u.setDate(new Date,"mouse"),!1}),this.addHandler(s,"click",function(){return u.clear?u.clear():u.setDate(null,"mouse"),!1})),this.view!="month"&&this.header.hide(),this.showDayNames&&this.view=="month"&&this.renderColumnHeader(r),this.renderCalendarCells(r,c,t),(i==undefined||i==null)&&this.renderTitle(r),this._refreshOtherMonthRows(l,t),r.find("tbody").css({border:"none",background:"transparent"}),this.selectedDate!=undefined&&this._selectDate(this.selectedDate),b=this,this.addHandler(this.host,"focus",function(){b.focus()}),r}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var r=n("<div role='button' style='float: left;'><\/div>"),u=n("<div role='button' style='float: right;'><\/div>"),f=this.title,e,y,l,p,h,c,o,s,a,v,i;if(f.addClass(this.toThemeProperty("jqx-reset")),f.addClass(this.toThemeProperty("jqx-widget-header")),f.addClass(this.toThemeProperty("jqx-calendar-title-header")),e=f.find("td"),n.jqx.browser.msie&&n.jqx.browser.version<8){if(e.css("background-color")!="transparent"&&(y=f.css("background-color"),e.css("background-color",y)),e.css("background-image")!="transparent"){var w=f.css("background-image"),b=f.css("background-repeat"),g=f.css("background-position");e.css("background-image",w),e.css("background-repeat",b),e.css("background-position","left center scroll")}}else e.css("background-color","transparent");this.disabled&&f.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),r.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),r.addClass(this.toThemeProperty("jqx-icon-arrow-left")),r.appendTo(this.leftButton),l=this.leftButton,u.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),u.addClass(this.toThemeProperty("jqx-icon-arrow-right")),u.appendTo(this.rightButton),p=this.rightButton,this.enableTooltips&&n(l).jqxTooltip&&(n(l).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),n(p).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText})),h=this.titleHeader,c=this._format(this.value.dateTime,this._getTitleFormat(),this.culture),this.view=="decade"?(o=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),s=this._format(this._renderEndDate,this._getTitleFormat(),this.culture),c=o+" - "+s):this.view=="centuries"&&(o=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),s=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture),c=o+" - "+s),a=n("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+c+"<\/div>"),h.append(a),a.addClass(this.toThemeProperty("jqx-calendar-title-content"));var k=parseInt(r.width()),d=t.width()-2*k,nt=h.find(".jqx-calendar-title-content").width(d);n.data(r,"navigateLeft",this),n.data(u,"navigateRight",this),v=n.jqx.mobile.isTouchDevice(),this.disabled||(i=this,this.addHandler(h,"mousedown",function(){var n;if(i.enableViews){if(!i._viewAnimating&&!i._animating){n=i.view;switch(i.view){case"month":i.view="year";break;case"year":i.view="decade"}if(n!=i.view){var t="View"+i.element.id,r=i.host.find("#"+t),u=i.getVisibleDate(),f=i.getFirstDayOfWeek(u);i.renderCalendarCells(r,f,t,!0),i.refreshTitle(r)}}return!1}}),this.addHandler(r,"mousedown",function(t){if(i._animating)return!1;n.data(r,"navigateLeftRepeat",!0);var u=n.data(r,"navigateLeft");return u.enableFastNavigation&&!v&&u.startRepeat(u,r,!0,500),u.navigateBackward(),u._raiseEvent(0,t)}),this.addHandler(r,"mouseup",function(){n.data(r,"navigateLeftRepeat",!1)}),this.addHandler(r,"mouseleave",function(){n.data(r,"navigateLeftRepeat",!1)}),this.addHandler(u,"mousedown",function(t){if(i._animating)return!1;n.data(u,"navigateRightRepeat",!0);var r=n.data(u,"navigateRight");return r.enableFastNavigation&&!v&&r.startRepeat(r,u,!1,500),r.navigateForward(),r._raiseEvent(1,t)}),this.addHandler(u,"mouseup",function(){n.data(u,"navigateRightRepeat",!1)}),this.addHandler(u,"mouseleave",function(){n.data(u,"navigateRightRepeat",!1)}))},refreshTitle:function(){var r=this._format(this.value.dateTime,this._getTitleFormat(),this.culture),t,i,u,f,e;this.view=="decade"?(t=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),i=this._format(this._renderEndDate,this._getTitleFormat(),this.culture),r=t+" - "+i):this.view=="centuries"&&(t=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),i=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture),r=t+" - "+i),u=this.titleHeader,this.titleHeader&&(f=u.find(".jqx-calendar-title-content"),e=n("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+r+"<\/div>"),u.append(e),e.addClass(this.toThemeProperty("jqx-calendar-title-content")),f!=null&&f.remove())},startRepeat:function(t,i,r,u){var f=window.setTimeout(function(){var e=n.data(i,"navigateLeftRepeat");if(r||(e=n.data(i,"navigateRightRepeat")),e)u<25&&(u=25),r?(t.navigateBackward(),t.startRepeat(t,i,!0,u)):(t.navigateForward(),f=t.startRepeat(t,i,!1,u));else{window.clearTimeout(f);return}},u)},navigateForward:function(n){var t,r,i,e,u,f;if((n==undefined||n==null)&&(n=this.stepMonths),t=this.value.year,this.view=="decade"){if(t=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else this.view=="year"?t=this.value.year+1:this.view=="centuries"&&(t=this.value.year+100);if(this.view!="month"){if(r=this.getMaxDate().getFullYear(),(r<t||t>r)&&(t=r),this.value.year==t)return;this.value.year=t,this.value.month=1,this.value.day=1}return i=this.value.day,e=this.value.month,e+n<=12&&(u=this.value._daysInMonth(this.value.year,this.value.month+n),i>u&&(i=u)),f=this.view=="month"?new Date(this.value.year,this.value.month-1+n,i):new Date(this.value.year,this.value.month-1,i),this.navigateTo(f)},navigateBackward:function(n){var t,r,i,e,u,f;if((n==undefined||n==null)&&(n=this.stepMonths),t=this.value.year,this.view=="decade"?t=this._renderStartDate.getFullYear()-12:this.view=="year"?t=this.value.year-1:this.view=="centuries"&&(t=this.value.year-100),this.view!="month"){if(r=this.getMinDate().getFullYear(),t<r&&(t=r),this.view=="decade"&&this._renderStartDate&&this._renderStartDate.getFullYear()==t)return;this.value.year=t,this.value.month=1,this.value.day=1}return i=this.value.day,e=this.value.month,e-n>=1&&(u=this.value._daysInMonth(this.value.year,this.value.month-n),i>u&&(i=u)),f=this.view=="month"?new Date(this.value.year,this.value.month-1-n,i):new Date(this.value.year,this.value.month-1,i),this.navigateTo(f)},refreshCalendarCells:function(t,i,r){var e,o,w,c,h;if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.refreshViews(t,i,r);return}var k=this.table,d=k.find("#cellTable"+r.toString()),f=i,l=[],p=0,a=new n.jqx._jqxDateTimeInput.getDateTime(new Date);for(e=0;e<6;e++)for(o=0;o<7;o++){w=e+1,c=o,this.rtl&&(c=6-c);var b=c+1,v="#cell"+w+b+this.element.id,y=new Date(f.dateTime.getFullYear(),f.dateTime.getMonth(),f.dateTime.getDate()),u=new n.jqx._jqxCalendar.cell(y),s=n(d[0].rows[e].cells[b-1]);s[0].id=v.substring(1),u.element=s,u.row=e,u.column=o,u.isVisible=!0,u.isOtherMonth=!1,u.isToday=!1,u.isWeekend=!1,u.isHighlighted=!1,u.isSelected=!1,f.month!=this.value.month&&(u.isOtherMonth=!0,u.isVisible=this.showOtherMonthDays),(y<this.getMinDate()||y>this.getMaxDate())&&(u.isDisabled=!0),f.month==a.month&&f.day==a.day&&f.year==a.year&&(u.isToday=!0),f.isWeekend()&&(u.isWeekend=!0),n.data(this.element,"cellContent"+v.substring(1),u),n.data(this.element,v.substring(1),u),l[p]=u,p++,n.jqx.utilities.html(s,f.day),this._applyCellStyle(u,s,s),f=new n.jqx._jqxDateTimeInput.getDateTime(new Date(f._addDays(1)))}h=n.data(this.element,t[0].id),h!=undefined&&h!=null&&(h.cells=l),this.renderedCells=l,this._refreshOtherMonthRows(h,r)},_getDecadeAndCenturiesData:function(){var h=[],c=[],l=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear(),o,s,i,r,u,n,e;l<12&&(l=12);var t=this.getMinDate(),a=this.getMaxDate(),f=this.value.dateTime.getFullYear();if(this.view=="decade"){for(f+12>a.getFullYear()&&(f=a.getFullYear()-11),f<t.getFullYear()&&(f=t.getFullYear()),i=0;i<l;i++)if(r=new Date(t.getFullYear()+i,0,1),t.getFullYear()<=f&&f<=r.getFullYear()){for(u=new Date(r.getFullYear(),r.getMonth(),1),n=0;n<12;n++)o=new Date(u.getFullYear()+n,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),s=o.getFullYear(),t.getFullYear()<=s&&s<=a.getFullYear()?(h.push(s),c.push(o),n==0&&(this._renderStartDate=o),this._renderEndDate=o):(h.push(s),c.push(o));break}}else if(this.view=="centuries")for(i=0;i<l;i+=120)if(r=new Date(t.getFullYear()+i+120,0,1),t.getFullYear()<=f&&f<=r.getFullYear()){for(u=new Date(r.getFullYear()-130,r.getMonth(),1),u<t&&(u=t),n=0;n<12;n++)e=new Date(u.getFullYear()+n*10,u.getMonth(),1),u.getFullYear()>=t.getFullYear()&&e.getFullYear()<=a.getFullYear()&&(h.push("<span style='visibility: hidden;'>-<\/span>"+e.getFullYear()+"-"+(e.getFullYear()+9)),c.push(e),n==0&&(this._renderCenturyStartDate=e),this._renderCenturyEndDate=new Date(e.getFullYear()+9,0,1));break}return{years:h,dates:c}},refreshViews:function(t,i,r){for(var ut=this,l=[],d=t.find("#cellTable"+r.toString()),v=this._getDecadeAndCenturiesData(),g=v.years,nt=v.dates,y=0,p=this.getMinDate(),w=this.getMaxDate(),h,tt,e,it,c,k,s,o,a,u=0;u<3;u++)for(h=0;h<4;h++){tt=u+1,e=h,this.rtl&&(e=3-e),it=e+1,o=new Date(this.value.dateTime),o.setMonth(u*4+e);var f=new n.jqx._jqxCalendar.cell(o),rt=d[0].rows["row"+(1+u)+this.element.id],b=n(rt.cells[h]);if(f.isVisible=!0,f.element=b,f.row=u,f.column=h,f.index=l.length,c="",this.view=="year"){k=this.localization.calendar.months.names,s=k[u*4+e];switch(this.monthNameFormat){case"default":s=this.localization.calendar.months.namesAbbr[u*4+e];break;case"shortest":s=this.localization.calendar.months.namesShort[u*4+e];break;case"firstTwoLetters":s=s.substring(0,2);break;case"firstLetter":s=s.substring(0,1)}c=s}else(this.view=="decade"||this.view=="centuries")&&(c=g[u*4+e],undefined==c&&(c="<span style='cursor: default; visibility: hidden;'>2013<\/span>"),f.setDate(nt[u*4+e]));o=f.getDate(),this.view=="year"?(this._getYearAndMonthPart(o)<this._getYearAndMonthPart(p)&&(f.isDisabled=!0),this._getYearAndMonthPart(o)>this._getYearAndMonthPart(w)&&(f.isDisabled=!0)):(o.getFullYear()<p.getFullYear()&&(f.isDisabled=!0),o.getFullYear()>w.getFullYear()&&(f.isDisabled=!0)),n.jqx.utilities.html(b,c),l[y]=f,y++}a=n.data(this.element,t[0].id),a!=undefined&&a!=null&&(a.cells=l),this.renderedCells=l,this._applyCellStyles()},_createViewClone:function(){var t=this.host.find(".jqx-calendar-month"),n=t.clone();return n.css("position","absolute"),n.css("top",t.position().top),n},_addCellsTable:function(n,t){var i=this,f=this.showFooter?20:0,r,e,u;this.view!="month"?t.height(this.host.height()-this.titleHeight):t.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-f),this._viewAnimating=!0,r=this.host.find(".jqx-calendar-month-container"),r.css("position","relative"),e=this.host.find(".jqx-calendar-month"),u=this._createViewClone(),r.append(u),this.view!="month"?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),n.children().remove(),n.append(t),this._animateViews(u,t,function(){i.selectedDate||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(n){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(n,t,i){var r=this;r._viewAnimating=!0,n.fadeOut(this.navigationDelay+100,function(){n.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){try{if(this.renderedCells&&this.renderedCells.length>0){var n=this;n.selectedDate||n.selectionMode=="range"||this.setDate(new Date,"mouse"),this.element.focus()}}catch(t){}},renderViews:function(t,i,r){var e=this,a=[],p=n("<table role='grid' style='width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+r.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><\/table>"),tt=this.host.find(".jqx-calendar-month-container"),f,c,ft,o,u,y,l,nt,h,s,v;tt.css("position","relative");var it=t.find("#cellsTable"+t[0].id),w=this._getDecadeAndCenturiesData(),rt=w.years,ut=w.dates,b=0,k=this.getMinDate(),d=this.getMaxDate(),g=new Date(this.value.dateTime);for(g.setDate(1),f=0;f<3;f++)for(c=0;c<4;c++){ft=f+1,o=c,this.rtl&&(o=3-o);var ot=o+1,et=p[0].rows["row"+(1+f)+this.element.id],s=new Date(g);if(s.setMonth(f*4+o),u=new n.jqx._jqxCalendar.cell(s),y=n(et.cells[c]),u.isVisible=!0,u.element=y,u.row=f,u.column=c,u.index=a.length,l="",this.view=="year"){s.getMonth()==this.getDate().getMonth()&&(u.isSelected=!0),nt=this.localization.calendar.months.names,h=nt[f*4+o];switch(this.monthNameFormat){case"default":h=this.localization.calendar.months.namesAbbr[f*4+o];break;case"shortest":h=this.localization.calendar.months.namesShort[f*4+o];break;case"firstTwoLetters":h=h.substring(0,2);break;case"firstLetter":h=h.substring(0,1)}l=h}else(this.view=="decade"||this.view=="centuries")&&(l=rt[f*4+o],u.setDate(ut[f*4+o]),u.getDate().getFullYear()==this.getDate().getFullYear()&&(u.isSelected=!0),undefined==l&&(l="<span style='cursor: default; visibility: hidden;'>2013<\/span>"));s=u.getDate(),this.view=="year"?(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(k)&&(u.isDisabled=!0),this._getYearAndMonthPart(s)>this._getYearAndMonthPart(d)&&(u.isDisabled=!0)):(s.getFullYear()<k.getFullYear()&&(u.isDisabled=!0),s.getFullYear()>d.getFullYear()&&(u.isDisabled=!0)),n.jqx.utilities.html(y,l),a[b]=u,b++}n.each(a,function(){var n=this.element,t=this;e.disabled||(e.addHandler(n,"mousedown",function(){e._setDateAndSwitchViews(t)}),e.addHandler(n,"mouseover",function(){var n=e.renderedCells[t.index];(e.view=="centuries"||n.element.html().toLowerCase().indexOf("span")==-1)&&(n.isHighlighted=!0,e._applyCellStyle(n,n.element,n.element))}),e.addHandler(n,"mouseout",function(){var n=e.renderedCells[t.index];(e.view=="centuries"||n.element.html().toLowerCase().indexOf("span")==-1)&&(n.isHighlighted=!1,e._applyCellStyle(n,n.element,n.element))}))}),v=n.data(this.element,t[0].id),v!=undefined&&v!=null&&(v.cells=a),this.renderedCells=a,this._addCellsTable(it,p),this._applyCellStyles()},_setDateAndSwitchViews:function(n){var i,r;if(!this._viewAnimating&&!this._animating){var f=this.getDate(),t=this.renderedCells[n.index].getDate(),e=this.value.dateTime.getDate(),u=new Date(t);if(u.setDate(e),u.getMonth()==t.getMonth()&&(t=u),i=this.getMinDate(),r=this.getMaxDate(),this.view=="year"){if(this._getYearAndMonthPart(t)<this._getYearAndMonthPart(i))return;if(this._getYearAndMonthPart(t)>this._getYearAndMonthPart(r))return}else{if(t.getFullYear()<i.getFullYear())return;if(t.getFullYear()>r.getFullYear())return}this._selectDate(t);switch(this.view){case"year":this.view="month";break;case"decade":this.view="year"}this.view=="year"?(this._getYearAndMonthPart(t)<this._getYearAndMonthPart(i)&&(t=i),this._getYearAndMonthPart(t)>this._getYearAndMonthPart(r)&&(t=r)):(t.getFullYear()<i.getFullYear()&&(t=i),t.getFullYear()>r.getFullYear()&&(t=r)),this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1);var o=this.getVisibleDate(),s=this.getFirstDayOfWeek(o),h="View"+this.element.id;this.renderCalendarCells(this.month,s,h,!0),this.refreshTitle(this.month),this._selectDate(f,"view")}},renderCalendarCells:function(t,i,r,u){var l,a,w,v,h,y,ut,p,f,tt,c;if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.renderViews(t,i,r);return}l=n("<table role='grid' style='width: 100%; height: 100%;' cellspacing='2' cellpadding='1' id=cellTable"+r.toString()+"><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><\/table>"),a=this.table,u==undefined&&(w=a.find("#cellTable"+r.toString()),w!=null&&w.remove(),a.append(l));var o=i,it=this.showDayNames?1:0,b=this.showWeekNumbers?1:0,k=[],rt=0,d=(t.width()-this.rowHeaderWidth-2)/7;for(this.showWeekNumbers||(d=(t.width()-2)/7),d=parseInt(d),v=new n.jqx._jqxDateTimeInput.getDateTime(new Date),h=0;h<6;h++){for(y=0;y<7;y++){ut=h+1,p=y,this.rtl&&(p=6-p);var ft=p+1,g="#cell"+ut+ft+this.element.id,nt=new Date(o.dateTime.getFullYear(),o.dateTime.getMonth(),o.dateTime.getDate()),e=new n.jqx._jqxCalendar.cell(nt),s=n(l[0].rows[h].cells[ft-1]);s[0].id=g.substring(1),e.isVisible=!0,e.isDisabled=!1,o.month!=this.value.month&&(e.isOtherMonth=!0,e.isVisible=this.showOtherMonthDays),(nt<this.getMinDate()||nt>this.getMaxDate())&&(e.isDisabled=!0),o.month==v.month&&o.day==v.day&&o.year==v.year&&(e.isToday=!0),o.isWeekend()&&(e.isWeekend=!0),e.element=s,e.row=it,e.column=b,n.jqx.utilities.html(s,o.day),o=new n.jqx._jqxDateTimeInput.getDateTime(new Date(o._addDays(1))),n.data(this.element,"cellContent"+g.substring(1),e),n.data(this.element,""+g.substring(1),e),f=this,this.addHandler(s,"mousedown",function(t){var r,s,u,h;if(!f.readOnly&&!f.disabled){var e=n(t.target),i=n.data(f.element,e[0].id),o=f._raiseEvent(3,t);return i!=null&&i!=undefined&&(r=i.getDate(),f.getMinDate()<=r&&r<=f.getMaxDate()&&(i.isDisabled||(i.isOtherMonth&&f.enableAutoNavigation?(i.row<2?f.navigateBackward():f.navigateForward(),f._selectDate(i.getDate(),"mouse",t.shiftKey)):(s=new Date(f.getDate()),f._selectDate(i.getDate(),"mouse",t.shiftKey),f.value._setYear(r.getFullYear()),f.value._setDay(1),f.value._setMonth(r.getMonth()+1),f.value._setDay(r.getDate()),u=f.host.find(".jqx-calendar-month"),u.stop(),u.css("margin-left","0px"),h=f.getDate(),f._raiseEvent("2"),i.isOtherMonth&&f._raiseEvent("5",{selectionType:"mouse"}))))),o}}),f.disabled||(tt=function(t,i){var u,r,e;f.readOnly||(u=n(t.target),r=n.data(f.element,u[0].id),r!=null&&r!=undefined&&(e=r.getDate(),f.getMinDate()<=e&&e<=f.getMaxDate()&&(r.isHighlighted=i,f._applyCellStyle(r,r.element,u))))},this.addHandler(s,"mouseenter",function(n){return tt(n,!0),!1}),this.addHandler(s,"mouseleave",function(n){return tt(n,!1),!1})),b++,k[rt]=e,rt++}b=0,it++}c=n.data(this.element,t[0].id),c!=undefined&&c!=null&&(c.cells=k),this.renderedCells=k,u!=undefined&&this._addCellsTable(a,l),this._applyCellStyles(),this._refreshOtherMonthRows(c,r)},setMaxDate:function(t){(t==null||typeof t!="string"||(t=new Date(t),t!="Invalid Date"))&&(this.maxDate=n.jqx._jqxDateTimeInput.getDateTime(t),this.render())},getMaxDate:function(){return this.maxDate!=null&&this.maxDate!=undefined?this.maxDate.dateTime:null},setMinDate:function(t){(t==null||typeof t!="string"||(t=new Date(t),t!="Invalid Date"))&&(this.minDate=n.jqx._jqxDateTimeInput.getDateTime(t),this.render())},getMinDate:function(){return this.minDate!=null&&this.minDate!=undefined?this.minDate.dateTime:null},navigateTo:function(t,i){var c,l,h,o,f,s,e,u,r;if(this.view=="month"){if(c=this.getMinDate(),l=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate()),t<this._getYearAndMonthPart(c)||t>this._getYearAndMonthPart(l))return!1}else if(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear())return!1;if(t==null)return!1;if(i==undefined){if(h=this,this._animating)return;this._animating=!0,o=this.host.find(".jqx-calendar-month-container"),this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove()),r=this.host.find(".jqx-calendar-month"),r.stop(),r.css("margin-left","0px"),f=r.clone(),this._viewClone=f,s=new Date(this.value.dateTime),this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),h.refreshControl(),o.css("position","relative"),f.css("position","absolute"),f.css("top",r.position().top),o.append(f),n.jqx.browser.msie&&n.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden")),e=-this.host.width(),t<s&&(this.view=="month"&&t.getMonth()!=s.getMonth()?e=this.host.width():t.getFullYear()!=s.getFullYear()&&(e=this.host.width())),f.animate({marginLeft:parseInt(e)+"px"},this.navigationDelay,function(){f.remove()}),u=r.clone(),this._newViewClone=u,u.css("position","absolute"),u.css("top",r.position().top),o.append(u),u.css("margin-left",-e),r.css("visibility","hidden"),u.animate({marginLeft:"0px"},this.navigationDelay,function(){u.remove(),r.css("visibility","visible"),h._animating=!1})}else this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),r=this.host.find(".jqx-calendar-month"),r.stop(),r.css("margin-left","0px"),this.refreshControl();return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(n){return n!=null&&typeof n=="string"&&(n=new Date(n)),this.canRender==!1&&(this.canRender=!0,this.render()),this.navigateTo(n,"api"),this._selectDate(n),this.selectionMode=="range"&&this._selectDate(n,"mouse"),!0},val:function(n){return arguments.length!=0&&(n==null&&this.setDate(null),n instanceof Date&&this.setDate(n),typeof n=="string"&&this.setDate(n)),this.getDate()},getDate:function(){return this.selectedDate==undefined?new Date:this.selectedDate},getValue:function(){return this.value==undefined?new Date:this.value.dateTime},setRange:function(n,t){this.canRender==!1&&(this.canRender=!0,this.render()),this.navigateTo(n,"api"),this._selectDate(n,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,r){var f,u,e,o,s;if(this.selectionMode!="none"&&((i==null||i==undefined)&&(i="none"),(r==null||r==undefined)&&(r=!1),f=n.data(this.element,"View"+this.element.id),f!=undefined&&f!=null)){if(u=this,this.input&&(t!=null?this.input.val(t.toString()):this.input.val("")),e=this.selectedDate,this.selectedDate=t,this.view!="month"){e!=t&&this._raiseEvent(7),n.each(this.renderedCells,function(){var i=this,f=i.getDate(),r=n(i.element),e=r.find("#cellContent"+r[0].id);if(t==null)i.isSelected=!1,i.isDisabled=!1;else if(i.isSelected=!1,f&&(f.getMonth()==t.getMonth()&&u.view=="year"||u.view=="decade"&&f.getFullYear()==t.getFullYear())){i.isSelected=!0;try{i.element.focus()}catch(o){}}u._applyCellStyle(i,r,r)});return}if(this.view=="month"&&this.selectionMode=="range"&&i=="key"&&(o=this.getVisibleDate(),s=this.getFirstDayOfWeek(o),this.refreshCalendarCells(this.month,s,"View"+this.element.id)),n.each(this.renderedCells,function(f){var e=this,o=e.getDate(),h=n(e.element),v=h,y,p,s;if(h.length==0)return!1;if(t==null)e.isSelected=!1,e.isDisabled=!1,f==0&&(u.selection={from:null,to:null},u._raiseEvent("2"),u._raiseEvent("5",{selectionType:i}));else if(u.selectionMode!="range"||i=="key"){if(o.getDate()==t.getDate()&&o.getMonth()==t.getMonth()&&o.getFullYear()==t.getFullYear()&&e.isSelected){u._applyCellStyle(e,h,v);return}if(e.isSelected&&u._raiseEvent("6",{selectionType:i}),e.isSelected=!1,o.getDate()==t.getDate()&&o.getMonth()==t.getMonth()&&o.getFullYear()==t.getFullYear()){e.isSelected=!0,f==0&&(u.selection={date:t});try{e.element.focus()}catch(w){}e.isOtherMonth||(u.value._setMonth(t.getMonth()+1),u.value._setDay(t.getDate()),u.value._setYear(t.getFullYear()),u._raiseEvent("2"),u._raiseEvent("5",{selectionType:i}))}u.selectionMode=="range"&&(u._clicks=0,u.selection={from:t,to:t})}else if(u.selectionMode=="range"){if(i=="view")return e.isSelected=!1,e.isDisabled=!1,u.getMaxDate()<o&&(e.isDisabled=!0),u.getMinDate()>o&&(e.isDisabled=!0),u._applyCellStyle(e,h,v),!0;if(f==0)if(i!="none")if(u._clicks==undefined&&(u._clicks=0),u._clicks++,r&&u._clicks++,u._clicks==1)u.selection={from:t,to:t};else{var c=u.selection.from,l=c<=t?c:t,a=c<=t?t:c;l&&(y=new Date(l.getFullYear(),l.getMonth(),l.getDate())),a&&(p=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59)),u.selection={from:y,to:p},u._clicks=0}else(u.selection==null||u.selection.from==null)&&(u.selection={from:t,to:t},u._clicks==undefined&&(u._clicks=0),u._clicks++,u._clicks==2&&(u._clicks=0));s=function(n){if(n==null)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},e.isOtherMonth||s(o).toString()!=s(t).toString()||(u.value._setMonth(t.getMonth()+1),u.value._setDay(t.getDate()),u.value._setYear(t.getFullYear()),u._raiseEvent("2"),u._raiseEvent("5",{selectionType:i})),e.isSelected=!1,e.isDisabled=!1,s(o)<s(u.selection.from)&&u._clicks==1&&(e.isDisabled=!0),u.getMaxDate()<o&&(e.isDisabled=!0),u.getMinDate()>o&&(e.isDisabled=!0),s(o)>=s(u.selection.from)&&s(o)<=s(u.selection.to)&&(e.isSelected=!0)}u._applyCellStyle(e,h,v)}),u.selectionMode=="range"&&u._clicks==0){u._raiseEvent(7);return}u.selectionMode!="range"&&e!=t&&u._raiseEvent(7)}},_getSelectedDate:function(){var t=n.data(this.element,"View"+this.element.id),i,r,u;if(t!=undefined&&t!=null){if(this.view!="month")return this.selectedDate;for(i=0;i<t.cells.length;i++)if(r=t.cells[i],u=r.getDate(),r.isSelected)return u;if(this.selectedDate)return this.selectedDate}},_getSelectedCell:function(){var t=n.data(this.element,"View"+this.element.id),i,r,u;if(t!=undefined&&t!=null)for(i=0;i<t.cells.length;i++)if(r=t.cells[i],u=r.getDate(),r.isSelected)return r},_applyCellStyle:function(t,i,r){var u=this,f;(r==null||r!=null&&r.length==0)&&(r=i),r.removeClass(),r[0].className="",r.addClass(this.toThemeProperty("jqx-rc-all")),(this.disabled||t.isDisabled)&&(r.addClass(this.toThemeProperty("jqx-calendar-cell-disabled")),r.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&r.addClass(this.toThemeProperty("jqx-calendar-cell-othermonth")),t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&r.addClass(this.toThemeProperty("jqx-calendar-cell-weekend")),t.isVisible?(r.addClass(this.toThemeProperty("jqx-calendar-cell")),this.view!="month"&&r.length>0&&r.html().toLowerCase().indexOf("span")!=-1&&r.css("cursor","default")):r.addClass(this.toThemeProperty("jqx-calendar-cell-hidden")),r.removeAttr("aria-selected"),t.isSelected&&t.isVisible&&(r.addClass(this.toThemeProperty("jqx-calendar-cell-selected")),r.addClass(this.toThemeProperty("jqx-fill-state-pressed")),r.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",r[0].id)),t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(r.addClass(this.toThemeProperty("jqx-calendar-cell-hover")),r.addClass(this.toThemeProperty("jqx-fill-state-hover")))),r.addClass(this.toThemeProperty("jqx-calendar-cell-"+this.view)),t.isToday&&t.isVisible&&r.addClass(this.toThemeProperty("jqx-calendar-cell-today")),this.specialDates.length>0&&(f=this,n.each(this.specialDates,function(){var i,e;return this.Class!=undefined&&this.Class!=null&&this.Class!=""?r.removeClass(this.Class):r.removeClass(u.toThemeProperty("jqx-calendar-cell-specialDate")),i=t.getDate(),i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()?(t.tooltip==null&&this.Tooltip!=null&&(t.tooltip=this.Tooltip,n(r).jqxTooltip&&(e=this.Class,n(r).jqxTooltip({value:{cell:t,specialDate:this.Date},name:f.element.id,content:this.Tooltip,position:"mouse",theme:f.theme,opening:function(){return r.hasClass(u.toThemeProperty("jqx-calendar-cell-specialDate"))?!0:r.hasClass(e)?!0:!1}}))),r.removeClass(u.toThemeProperty("jqx-calendar-cell-othermonth")),r.removeClass(u.toThemeProperty("jqx-calendar-cell-weekend")),this.Class==undefined||this.Class==""?(r.addClass(u.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(r.addClass(this.Class),!1)):void 0}))},_applyCellStyles:function(){var t=n.data(this.element,"View"+this.element.id),i;if(t!=undefined&&t!=null)for(i=0;i<t.cells.length;i++){var f=t.cells[i],r=n(f.element),u=r.find("#cellContent"+r[0].id);u.length==0&&(u=r),this._applyCellStyle(f,r,u)}},getWeekOfYear:function(n){var t=n.dayOfYear(n.dateTime)-1,i=n.dayOfWeek-t%7,r=(i-this.firstDayOfWeek+14)%7;return Math.ceil((t+r)/7+1)},renderColumnHeader:function(t){var f,r,i,h,p,w;if(this.showDayNames){f=n("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><td role='gridcell'><\/td><\/tr><\/table>"),f.find("table").addClass(this.toThemeProperty("jqx-reset")),f.find("tr").addClass(this.toThemeProperty("jqx-reset")),f.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),f.addClass(this.toThemeProperty("jqx-reset")),f.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(f);var b=this.getVisibleDate(),c=this.getFirstDayOfWeek(b),g=c.dayOfWeek,nt=this.getWeekOfYear(c),e=this.firstDayOfWeek,l=this.localization.calendar.days.names,y=[],a=c,v=(t.width()-this.rowHeaderWidth-2)/7;for(this.showWeekNumbers||(v=(t.width()-2)/7),r=0;r<7;r++){i=l[e],this.rtl&&(i=l[6-e]);switch(this.dayNameFormat){case"default":i=this.localization.calendar.days.namesAbbr[e];break;case"shortest":i=this.localization.calendar.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}var o=new n.jqx._jqxCalendar.cell(a.dateTime),k=r+1,s=k+this.element.id,u=n(f[0].rows[0].cells[r]),d=r;if(this.enableTooltips&&n(u).jqxTooltip&&n(u).jqxTooltip({name:this.element.id,content:l[e],theme:this.theme,position:"mouse"}),e>=6?e=0:e++,r=d,o.element=u,o.row=0,o.column=r+1,h=this._textwidth(i),p="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+s+"'>"+i+"<\/div>",u.append(p),u.find("#columnCell"+s).addClass(this.toThemeProperty("jqx-calendar-column-cell")),u.width(v),this.disabled&&u.find("#columnCell"+s).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),h>0&&v>0)while(h>u.width()){if(i.length==0)break;i=i.substring(0,i.length-1),n.jqx.utilities.html(u.find("#columnCell"+s),i),h=this._textwidth(i)}y[r]=o,a=new n.jqx._jqxDateTimeInput.getDateTime(new Date(a._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width()),w=n.data(this.element,t[0].id),w.columnCells=y}},_format:function(t,i){var r=!1;try{Globalize!=undefined&&(r=!0)}catch(u){}if(n.global)return n.global.culture.calendar=this.localization.calendar,n.global.format(t,i,this.culture);if(r)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(t,i,this.culture)):Globalize.format(t,i,this.culture)}catch(u){return Globalize.format(t,i)}else if(n.jqx.dataFormat)return n.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=n("<span>"+t+"<\/span>"),r;return i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),n(this.host).append(i),r=i.width(),i.remove(),r},_textheight:function(t){var i=n("<span>"+t+"<\/span>"),r;return n(this.host).append(i),r=i.height(),i.remove(),r},_renderRowHeader:function(t){var v=this.getVisibleDate(),e=this.getFirstDayOfWeek(v),p=e.dayOfWeek,h=this.getWeekOfYear(e),i=n("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td><\/td><\/tr><tr><td/><\/tr><tr><td/><\/tr><tr><td/><\/tr><tr><td/><\/tr><tr><td/><\/tr><\/table>"),u,o,r,l,a;for(i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("td").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-calendar-row-header")),i.width(this.rowHeaderWidth),this.rowHeader.append(i),u=e,o=[],r=0;r<6;r++){var y=h.toString(),f=new n.jqx._jqxCalendar.cell(u.dateTime),c=r+1+this.element.id,s=n(i[0].rows[r].cells[0]);f.element=s,f.row=r,f.column=0,l="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+c+"'>"+y+"<\/div>",s.append(l),s.find("#headerCellContent"+c).addClass(this.toThemeProperty("jqx-calendar-row-cell")),o[r]=f,u=new n.jqx._jqxDateTimeInput.getDateTime(new Date(u._addWeeks(1))),h=this.getWeekOfYear(u)}a=n.data(this.element,t[0].id),a.rowCells=o},getFirstDayOfWeek:function(t){var r=t,i;return(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6),i=r.dayOfWeek-this.firstDayOfWeek,i<=0&&(i+=7),n.jqx._jqxDateTimeInput.getDateTime(r._addDays(-i))},getVisibleDate:function(){var t=new n.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime)),i,r;return t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),i=t.day,r=n.jqx._jqxDateTimeInput.getDateTime(t._addDays(-i+1)),r},destroy:function(n){this.host.removeClass(),n!=!1&&this.host.remove()},_raiseEvent:function(n,t){var f,r,i,e,o,u;return t==undefined&&(t={owner:null}),f=this.events[n],r=t?t:{},r.owner=this,i=new jQuery.Event(f),i.owner=this,i.args=r,(n==0||n==1||n==2||n==3||n==4||n==5||n==6||n==7||n==8)&&(i.args.date=i.args.selectedDate=this.getDate(),i.args.range=this.getRange(),e=this.getViewStart(),o=this.getViewEnd(),i.args.view={from:e,to:o}),u=this.host.trigger(i),(n==0||n==1)&&(u=!1),u},propertyMap:function(n){return n=="value"?this.selectionMode!="range"?this.getDate():this.getRange():null},updateSize:function(){var n=this.host.find("#View"+this.element.id),t,i;n.length>0&&(this.setCalendarSize(),this.height==undefined||isNaN(this.height)?this.height!=null&&this.height.toString().indexOf("px")!=-1&&n.height(this.height):n.height(this.height),this.width==undefined||isNaN(this.width)?this.width!=null&&this.width.toString().indexOf("px")!=-1&&n.width(this.width):n.width(this.width),t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id,n.find("#cellsTable"+i).height(t),n.find("#calendarRowHeader"+i).height(t),this.refreshControl())},clear:function(){this.selectionMode=="range"?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){this.selectionMode=="range"?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertyChangedHandler:function(t,i,r,u){if(this.isInitialized!=undefined&&this.isInitialized!=!1&&i!="enableHover"&&i!="keyboardNavigation"){if(i=="localization"&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),i=="culture")try{if(n.global)n.global.preferCulture(t.culture),t.localization.calendar=n.global.culture.calendar;else if(Globalize){var f=Globalize.culture(t.culture);t.localization.calendar=f.calendar}}catch(e){}if(i=="width"||i=="height"){t.updateSize();return}i=="theme"?n.jqx.utilities.setTheme(r,u,this.host):(this.view="month",this.render())}}})})(jQuery),function(n){n.jqx._jqxCalendar.cell=function(t){return{dateTime:new n.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new n.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},n.jqx._jqxCalendar.monthView=function(n,t,i,r,u,f){return{start:n,end:t,cells:i,rowCells:r,columnCells:u,element:f}}}(jQuery);
//# sourceMappingURL=jqxcalendar.min.js.map
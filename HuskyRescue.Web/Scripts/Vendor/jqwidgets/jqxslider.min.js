(function(n){n.jqx.jqxWidget("jqxSlider","",{}),n.extend(n.jqx._jqxSlider.prototype,{defineInstance:function(){this.disabled=!1,this.width=300,this.height=30,this.step=1,this.max=10,this.min=0,this.orientation="horizontal",this.showTicks=!0,this.ticksPosition="both",this.ticksFrequency=2,this.showButtons=!0,this.buttonsPosition="both",this.mode="default",this.showRange=!0,this.rangeSlider=!1,this.value=0,this.values=[0,10],this.tooltip=!0,this.sliderButtonSize=14,this.tickSize=7,this.layout="normal",this.rtl=!1,this._settings={vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},this._touchEvents={mousedown:n.jqx.mobile.getTouchEventName("touchstart"),click:n.jqx.mobile.getTouchEventName("touchstart"),mouseup:n.jqx.mobile.getTouchEventName("touchend"),mousemove:n.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},this._events=["change","slide","slideEnd","slideStart","created"],this._invalidArgumentExceptions={invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},this._lastValue=[],this._track=null,this._leftButton=null,this._rightButton=null,this._slider=null,this._rangeBar=null,this._slideEvent=null,this._capturedElement=null,this._slideStarted=!1,this.aria={"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){this.render()},render:function(){this.element.innerHTML="",this.host.attr("role","slider"),this.host.addClass(this.toThemeProperty("jqx-slider")),this.host.addClass(this.toThemeProperty("jqx-widget")),n.jqx.aria(this),this._isTouchDevice=n.jqx.mobile.isTouchDevice(),this.host.width(this.width),this.host.height(this.height),this._refresh(),this._raiseEvent(4,{value:this.getValue()}),this._addInput();var t=this,i=t.host.attr("tabindex")==null;i&&t.host.attr("tabindex",0),n.jqx.utilities.resize(this.host,function(){t.host.width(t.width),t.host.height(t.height),t._performLayout(),t._initialSettings()})},focus:function(){try{this.host.focus()}catch(n){}},destroy:function(){this.host.remove()},_addInput:function(){var t=this.host.attr("name");t||(t=this.element.id),this.input=n("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t),this.rangeSlider?this.values&&this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.val(this.value.toString())},_getSetting:function(n){return this._settings[this.orientation][n]},_getEvent:function(n){return this._isTouchDevice?this._touchEvents[n]:n},refresh:function(n){n||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._addContentWrapper(),this._addButtons(),this._addRangeBar()},_addTrack:function(){(this._track===null||this._track.length<1)&&(this._track=n('<div class="'+this.toThemeProperty("jqx-slider-track")+'"><\/div>'),this.host.append(this._track)),this._track.attr("style",""),this._track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getSetting("opposite"))),this._track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation)),this._track.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._track.addClass(this.toThemeProperty("jqx-rc-all"))},_addSliders:function(){(this._slider===null||this._slider.length<1)&&(this._slider={},this._slider.left=n('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"><\/div>'),this._track.append(this._slider.left),this._slider.right=n('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"><\/div>'),this._track.append(this._slider.right)),this._slider.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._slider.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._slider.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._slider.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._slider.right.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._slider.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){(this._bottomTicks!==null||this._bottomTicks.length<1||this._topTicks!==null||this._topTicks.length<1)&&this._addTickContainers();var n="visible";this.showTicks||(n="hidden"),this._bottomTicks.css("visibility",n),this._topTicks.css("visibility",n)},_addTickContainers:function(){(typeof this._bottomTicks=="undefined"||this._bottomTicks.length<1)&&(this._bottomTicks=n('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""><\/div>'),this.host.prepend(this._bottomTicks)),(typeof this._topTicks=="undefined"||this._topTicks.length<1)&&(this._topTicks=n('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""><\/div>'),this.host.append(this._topTicks))},_addButtons:function(){(this._leftButton===null||this._leftButton.length<1||this._rightButton===null||this._rightButton.length<1)&&this._createButtons();var n="block";(!this.showButtons||this.rangeSlider)&&(n="none"),this._rightButton.css("display",n),this._leftButton.css("display",n)},_createButtons:function(){if(this._leftButton=n('<div class="jqx-slider-left"><div style="width: 100%; height: 100%;"><\/div><\/div>'),this._rightButton=n('<div class="jqx-slider-right"><div style="width: 100%; height: 100%;"><\/div><\/div>'),this.host.prepend(this._rightButton),this.host.prepend(this._leftButton),!this.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");this._leftButton.jqxRepeatButton({theme:this.theme,delay:50,width:this.sliderButtonSize,height:this.sliderButtonSize}),this._rightButton.jqxRepeatButton({theme:this.theme,delay:50,width:this.sliderButtonSize,height:this.sliderButtonSize})},_addContentWrapper:function(){(this._contentWrapper===undefined||this._contentWrapper.length===0)&&(this.host.wrapInner("<div><\/div>"),this._contentWrapper=this.host.children(0)),this.orientation==="horizontal"?this._contentWrapper.css("float","left"):this._contentWrapper.css("float","none")},_addTicks:function(t){var i,u,r,f;if(this.showTicks){var s=this.max-this.min,h=t[this._getSetting("size")](),e=Math.round(s/this.ticksFrequency),o=h/e;for(t.empty(),i="",u=t[this._getSetting("oSize")](),i+=this._addTick(t,0,this.min,u),r=1;r<e;r++)f=r*o,f=Math.floor(f),i+=this._addTick(t,f,r,u);i+=this._addTick(t,e*o,this.max,u),t.append(n(i))}},_addTick:function(n,t,i,r){var u="",e,f;return u=this.toThemeProperty("jqx-slider-tick"),u+=" "+this.toThemeProperty("jqx-fill-state-pressed"),e=this._getSetting("top"),f="2px",n[0]!==this._topTicks[0]&&(f=r-this.tickSize-2+"px"),this.orientation==="horizontal"?'<div style="'+e+": "+f+"; "+this._getSetting("oSize")+":  "+this.tickSize+"px; float: left; position:absolute; left:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+" "+u+'"><\/div>':'<div style="'+e+": "+f+"; "+this._getSetting("oSize")+":  "+this.tickSize+"px; float: none; position:absolute; top:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+" "+u+'"><\/div>'},_addRangeBar:function(){(this._rangeBar===null||this._rangeBar.length<1)&&(this._rangeBar=n('<div class="'+this.toThemeProperty("jqx-slider-rangebar")+'"><\/div>'),this._rangeBar.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._rangeBar.addClass(this.toThemeProperty("jqx-rc-all")),this._track.append(this._rangeBar)),this.showRange?this._rangeBar.css("display","block"):this._rangeBar.css("display","none")},_getLeftDisplacement:function(){if(!this.showButtons||this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){var n,t;this.host.width(this.width),this.host.height(this.height),n=this.host.height(),this._getSetting("size")=="width"&&(n=this.host.width()),this._performButtonsLayout(),this._performTrackLayout(n-1),this._contentWrapper[this._getSetting("size")](this._track[this._getSetting("size")]()),this._contentWrapper[this._getSetting("oSize")](this[this._getSetting("oSize")]),this._performTicksLayout(),this._performRangeBarLayout(),this.rangeSlider?this._slider.left.css("visibility","visible"):this._slider.left.css("visibility","hidden"),this._refreshRangeBar(),this.orientation=="vertical"&&this.showButtons&&(t=parseInt((this._leftButton.width()-this._track.width())/2),this._track.css("margin-left",-2+t+"px"))},_performTrackLayout:function(n){this._track[this._getSetting("size")](n-(this.showButtons&&!this.rangeSlider?this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0):0)),this._slider.left.css("left",0),this._slider.left.css("top",0),this._slider.right.css("left",0),this._slider.right.css("top",0)},_performTicksLayout:function(){this._performTicksContainerLayout(),this._addTicks(this._topTicks),this._addTicks(this._bottomTicks),this._topTicks.css("visibility","hidden"),this._bottomTicks.css("visibility","hidden"),(this.ticksPosition==="top"||this.ticksPosition==="both")&&this.showTicks&&this._bottomTicks.css("visibility","visible"),(this.ticksPosition==="bottom"||this.ticksPosition==="both")&&this.showTicks&&this._topTicks.css("visibility","visible")},_performTicksContainerLayout:function(){var n=this._getSetting("size"),t=this._getSetting("oSize"),i=this._getSetting("outerOSize"),r,u;this._topTicks[n](this._track[n]()),this._bottomTicks[n](this._track[n]()),r=-2+(this[t]-this._track[i](!0))/2,this._topTicks[t](parseInt(r)),u=-2+(this[t]-this._track[i](!0))/2,this._bottomTicks[t](parseInt(u)),this.orientation==="vertical"?(this._topTicks.css("float","left"),this._track.css("float","left"),this._bottomTicks.css("float","left")):(this._topTicks.css("float","none"),this._track.css("float","none"),this._bottomTicks.css("float","none"))},_performButtonsLayout:function(){this._addButtonsStyles(),this._addButtonsClasses(),this._addButtonsHover(),this._orderButtons(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_addButtonsStyles:function(){this._leftButton.css("background-position","center"),this._rightButton.css("background-position","center"),this.orientation==="vertical"?(this._leftButton.css("float","none"),this._rightButton.css("float","none")):(this._leftButton.css("float","left"),this._rightButton.css("float","left"))},_addButtonsClasses:function(){var n={prev:"left",next:"right"};this.orientation==="vertical"&&(n={prev:"up",next:"down"}),this._leftButton.addClass(this.toThemeProperty("jqx-rc-all")),this._rightButton.addClass(this.toThemeProperty("jqx-rc-all")),this._leftButton.addClass(this.toThemeProperty("jqx-slider-button")),this._rightButton.addClass(this.toThemeProperty("jqx-slider-button")),this._leftArrow=this._leftButton.find("div"),this._rightArrow=this._rightButton.find("div"),this._leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),this._rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),this._leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._leftArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+n.prev)),this._rightArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+n.next))},_addButtonsHover:function(){var t=this,i={prev:"left",next:"right"};this.orientation==="vertical"&&(i={prev:"up",next:"down"}),this.addHandler(n(document),"mouseup.arrow"+this.element.id,function(){t._leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),this.addHandler(this._leftButton,"mousedown",function(){t.disabled||t._leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),this.addHandler(this._leftButton,"mouseup",function(){t.disabled||t._leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),this.addHandler(this._rightButton,"mousedown",function(){t.disabled||t._rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),this.addHandler(this._rightButton,"mouseup",function(){t.disabled||t._rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),this._leftButton.hover(function(){t.disabled||t._leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))},function(){t.disabled||t._leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),this._rightButton.hover(function(){t.disabled||t._rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))},function(){t.disabled||t._rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))})},_layoutButtons:function(){this.orientation==="horizontal"?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var n=2+Math.ceil(this.sliderButtonSize/2);this.buttonsPosition=="left"?(this._leftButton.css("margin-right","0px"),this._rightButton.css("margin-right",n)):this.buttonsPosition=="right"?(this._leftButton.css("margin-left",2+n),this._rightButton.css("margin-right","0px")):(this._leftButton.css("margin-right",n),this._rightButton.css("margin-left",2+n))},_verticalButtonsLayout:function(){var n=2+Math.ceil(this.sliderButtonSize/2),t;this.buttonsPosition=="left"?(this._leftButton.css("margin-bottom","0px"),this._rightButton.css("margin-bottom",n)):this.buttonsPosition=="right"?(this._leftButton.css("margin-top",2+n),this._rightButton.css("margin-bottom","0px")):(this._leftButton.css("margin-bottom",n),this._rightButton.css("margin-top",2+n)),t=this._leftButton.css("margin-left"),this._leftButton.css("margin-left",parseInt(t)-1),this._rightButton.css("margin-left",parseInt(t)-1)},_orderButtons:function(){this._rightButton.detach(),this._leftButton.detach();switch(this.buttonsPosition){case"left":this.host.prepend(this._rightButton),this.host.prepend(this._leftButton);break;case"right":this.host.append(this._leftButton),this.host.append(this._rightButton);break;case"both":this.host.prepend(this._leftButton),this.host.append(this._rightButton)}},_performRangeBarLayout:function(){this._rangeBar[this._getSetting("oSize")](this._track[this._getSetting("oSize")]()),this._rangeBar[this._getSetting("size")](this._track[this._getSetting("size")]()),this._rangeBar.css("position","absolute"),this._rangeBar.css("left",0),this._rangeBar.css("top",0)},_centerElement:function(t){var i=(n(t.parent())[this._getSetting("oSize")]()-t[this._getSetting("outerOSize")]())/2;return t.css("margin-"+[this._getSetting("left")],0),t.css("margin-"+[this._getSetting("top")],i),t},_raiseEvent:function(n,t){var r=this._events[n],i=new jQuery.Event(r);return i.args=t,n===1&&(i.args.cancel=!1,this._slideEvent=i),this._lastValue[n]=t.value,i.owner=this,this.host.trigger(i)},_initialSettings:function(){this.rangeSlider?typeof this.value!="number"?this.setValue(this.value):this.setValue(this.values):(this.value==undefined&&(this.value=0),this.setValue(this.value)),this.disabled&&this.disable()},_addEventHandlers:function(){var t=this,u,r,i;this.addHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag,{self:this}),this.addHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag,{self:this}),this.addHandler(n(document),this._getEvent("mouseup")+"."+this.element.id,function(){t._stopDrag()});try{(document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self&&(u=function(){t._stopDrag()},r=null,window.parent&&document.referrer&&(r=document.referrer),r&&r.indexOf(document.location.host)!=-1&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",u,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",u)))}catch(f){}this.addHandler(n(document),this._getEvent("mousemove")+"."+this.element.id,this._performDrag,{self:this}),i=this,this.addHandler(this._slider.left,"mouseenter",function(){i.disabled||t._slider.left.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.right,"mouseenter",function(){i.disabled||t._slider.right.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.left,"mouseleave",function(){i.disabled||t._slider.left.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.right,"mouseleave",function(){i.disabled||t._slider.right.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.left,"mousedown",function(){i.disabled||t._slider.left.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.right,"mousedown",function(){i.disabled||t._slider.right.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.left,"mouseup",function(){i.disabled||t._slider.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.right,"mouseup",function(){i.disabled||t._slider.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler,{self:this}),this.addHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler,{self:this}),this.addHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler,{self:this}),this.addHandler(this.host,"focus",function(){t._track.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._leftButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._rightButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._slider.right.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._slider.left.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"blur",function(){t._leftButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._rightButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._track.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._slider.right.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._slider.left.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.element.onselectstart=function(){return!1},this._addMouseWheelListeners(),this._addKeyboardListeners()},_addMouseWheelListeners:function(){var n=this;this.addHandler(this.host,"mousewheel",function(t){var i=t.wheelDelta;t.originalEvent&&t.originalEvent.wheelDelta&&(t.wheelDelta=t.originalEvent.wheelDelta),"wheelDelta"in t||(i=t.detail*-40),i>0?n.incrementValue():n.decrementValue(),t.preventDefault()})},_addKeyboardListeners:function(){var n=this;this.addHandler(this.host,"keydown",function(t){switch(t.keyCode){case 40:case 37:return n.layout!="normal"||n.rtl?n.incrementValue():n.decrementValue(),!1;case 38:case 39:return n.layout!="normal"||n.rtl?n.decrementValue():n.incrementValue(),!1;case 36:return n.rangeSlider?n.setValue([n.values[0],n.max]):n.setValue(n.min),!1;case 35:return n.rangeSlider?n.setValue([n.min,n.values[1]]):n.setValue(n.max),!1}})},_trackMouseDownHandler:function(t){var u=n.jqx.mobile.getTouches(t),f=u[0],i=t.data.self,t=i._isTouchDevice?f:t,s=i._track.coord()[i._getSetting("left")],r=t[i._getSetting("page")]-i._slider.left[i._getSetting("size")]()/2,e=i._getClosest(r),h=parseInt(i._track[i._getSetting("size")]()),o=i._getValueByPosition(r);i._setValue(o,e),i.input&&n.jqx.aria(i,"aria-valuenow",i.input.val())},_getClosest:function(n){return this.rangeSlider?(n=n-this._track.coord()[this._getSetting("left")]-this._slider.left[this._getSetting("size")]()/2,Math.abs(parseInt(this._slider.left.css(this._getSetting("left")),10)-n)<Math.abs(parseInt(this._slider.right.css(this._getSetting("left")),10)-n)?this._slider.left:this._slider.right):this._slider.right},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag),this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag),this.removeHandler(n(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag),this.removeHandler(n(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag),this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler),this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler),this.removeHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler),this.element.onselectstart=null,this.removeHandler(this.host,this._getEvent("mousewheel")),this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonClick:function(){this.orientation!="horizontal"||this.rtl?this.decrementValue():this.incrementValue()},_leftButtonClick:function(){this.orientation!="horizontal"||this.rtl?this.incrementValue():this.decrementValue()},_rightButtonHandler:function(n){var t=n.data.self;return t.layout=="normal"?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(n){var t=n.data.self;return t.layout=="normal"?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(t){var u=n.jqx.mobile.getTouches(t),f=u[0],i=t.data.self,r;return i._capturedElement=n(t.target),i._startX=n(t.target).coord().left,i._startY=n(t.target).coord().top,r=n.jqx.position(t),i._mouseStartX=r.left,i._mouseStartY=r.top,i.focus(),!1},_stopDrag:function(){var t=this;if(t._slideStarted&&t._raiseEvent(2,{value:t.getValue()}),!t._slideStarted||t._capturedElement==null){t._capturedElement=null;return}this.input&&n.jqx.aria(this,"aria-valuenow",this.input.val()),t._slider.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._slider.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._slideStarted=!1,t._capturedElement=null},_performDrag:function(t){var i=t.data.self,f,e,r,u;if(i._capturedElement!==null){if(f=n.jqx.mobile.getTouches(t),e=f[0],t.which===0&&n.jqx.browser.msie&&n.jqx.browser.version<9)return i._stopDrag(),!1;if(r=n.jqx.position(t),u=i.orientation=="horizontal"?r.left:r.top,i._isDragged(u),i._slideStarted||i._isTouchDevice)return i._dragHandler(u)}},_isDragged:function(n){Math.abs(n-this[this._getSetting("mouse")])>2&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):this._capturedElement===null&&(this._slideStarted=!1)},_dragHandler:function(n){var r;if(n=n-this[this._getSetting("mouse")]+this[this._getSetting("start")],r=this._getValueByPosition(n),this.rangeSlider){var u=this._slider.right,i=this._slider.left,t=this._getSetting("left");this._capturedElement[0]===i[0]?parseFloat(n)>u.coord()[t]&&(n=u.coord()[t]):parseFloat(n)<i.coord()[t]&&(n=i.coord()[t])}return this._setValue(r,this._capturedElement,n),!1},_getValueByPosition:function(n){return this.mode==="default"?this._getFloatingValueByPosition(n):this._getFixedValueByPosition(n)},_getFloatingValueByPosition:function(n){var i=n-this._track.coord()[this._getSetting("left")]+this._slider.left.width()/2,r=i/this._track[this._getSetting("size")](),t=(this.max-this.min)*r+this.min;return this.layout=="normal"?this.orientation!=="horizontal"||this.rtl?this.max+this.min-t:t:this.orientation!=="horizontal"||this.rtl?t:this.max+this.min-t},_getFixedValueByPosition:function(n){for(var u=this.step,f=(this.max-this.min)/u,e=this._track[this._getSetting("size")]()/f,r=this._track.coord()[this._getSetting("left")]-this._slider.left[this._getSetting("size")]()/2,t={number:-1,distance:Number.MAX_VALUE},i=this.min;i<=this.max+this.step;i+=this.step)Math.abs(t.distance-n)>Math.abs(r-n)&&(t.distance=r,t.number=i),r+=e;return this.layout=="normal"?this.orientation!=="horizontal"||this.rtl?this.max+this.min-t.number:t.number:this.orientation!=="horizontal"||this.rtl?t.number:this.max+this.min-t.number},_setValue:function(n,t,i){if(!this._slideEvent||!this._slideEvent.args.cancel){if(n=this._handleValue(n,t),this._setSliderPosition(n,t,i),this._fixZIndexes(),this._valueChanged(1))var r=this._raiseEvent(1,{value:this.getValue()});this._valueChanged(0)&&this._raiseEvent(0,{value:this.getValue()}),this.tooltip&&t.attr("title",n),this.input&&(this.rangeSlider?this.values&&this.value.rangeEnd!=undefined&&this.value.rangeStart!=undefined&&this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.val(this.value.toString()))}},_valueChanged:function(n){var t=this.getValue();return!this.rangeSlider&&this._lastValue[n]!==t||this.rangeSlider&&(typeof this._lastValue[n]!="object"||Math.round(this._lastValue[n].rangeEnd)!==Math.round(t.rangeEnd)||Math.round(this._lastValue[n].rangeStart)!==Math.round(t.rangeStart))},_handleValue:function(n,t){return n=this._validateValue(n,t),t[0]===this._slider.left[0]&&(this.values[0]=n),t[0]===this._slider.right[0]&&(this.values[1]=n),this.value=this.rangeSlider?{rangeStart:this.values[0],rangeEnd:this.values[1]}:n,n},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.css("z-index",20),this._slider.right.css("z-index",15)):(this._slider.left.css("z-index",15),this._slider.right.css("z-index",20))},_refreshRangeBar:function(){var n=this._getSetting("left"),i=this._getSetting("size"),r=this.rtl&&this.orientation=="horizontal",t;this.layout=="normal"?(t=this._slider.left.position()[n],(this.orientation==="vertical"||r)&&(t=this._slider.right.position()[n])):(t=this._slider.right.position()[n],(this.orientation==="vertical"||r)&&(t=this._slider.left.position()[n])),this._rangeBar.css(n,t+this._slider.left[i]()/2),this._rangeBar[i](Math.abs(this._slider.right.position()[n]-this._slider.left.position()[n]))},_validateValue:function(n,t){return n>this.max&&(n=this.max),n<this.min&&(n=this.min),this.rangeSlider&&(t[0]===this._slider.left[0]?n>=this.values[1]&&(n=this.values[1]):n<=this.values[0]&&(n=this.values[0])),n},_setSliderPosition:function(n,t,i){var f=this._track[this._getSetting("size")](),u,r;i&&(i-=this._track.coord()[this._getSetting("left")]),this.layout=="normal"?(r=(n-this.min)/(this.max-this.min),(this.orientation!="horizontal"||this.orientation=="horizontal"&&this.rtl)&&(r=1-(n-this.min)/(this.max-this.min))):(r=1-(n-this.min)/(this.max-this.min),(this.orientation!="horizontal"||this.orientation=="horizontal"&&this.rtl)&&(r=(n-this.min)/(this.max-this.min))),u=f*r-this._slider.left[this._getSetting("size")]()/2,t.css(this._getSetting("left"),u),this._refreshRangeBar()},_validateDropPosition:function(n,t){var r=this._track[this._getSetting("size")](),i=t[this._getSetting("size")]();return n<-i/2&&(n=-i/2),n>r-i/2&&(n=r-i/2),Math.floor(n)},propertyChangedHandler:function(t,i,r,u){switch(i){case"theme":n.jqx.utilities.setTheme(r,u,t.host),t._leftButton.jqxRepeatButton({theme:u}),t._rightButton.jqxRepeatButton({theme:u});break;case"disabled":u?(t.disabled=!0,t.disable()):(t.disabled=!1,t.enable());break;case"width":case"height":t._performLayout(),t._initialSettings();break;case"min":case"max":t.rangeSlider||t._setValue(u,t._slider.left),t._initialSettings();break;case"showTicks":case"ticksPosition":case"ticksFrequency":case"tickSize":t._performLayout(),t._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":t._render(),t._performLayout(),t._initialSettings();break;case"buttonsPosition":t._refresh();break;case"rangeSlider":t.value=u?{rangeEnd:t.value,rangeStart:t.value}:t.value.rangeEnd,t._render(),t._performLayout(),t._initialSettings();break;case"value":t.rangeSlider||(t.value=parseFloat(u)),t.setValue(u);break;case"values":t.setValue(u);break;case"tooltip":u||(t._slider.left.removeAttr("title"),t._slider.right.removeAttr("title"));break;default:t._refresh()}},incrementValue:function(t){(t==undefined||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right):this.values[1]>=this.min&&this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right),this.input&&n.jqx.aria(this,"aria-valuenow",this.input.val())},decrementValue:function(t){(t==undefined||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[0]>this.min&&this._setValue(this.values[0]-t,this._slider.left):this.values[1]<=this.max&&this.values[1]>this.min&&this._setValue(this.values[1]-t,this._slider.right),this.input&&n.jqx.aria(this,"aria-valuenow",this.input.val())},val:function(n){if(arguments.length==0||typeof n=="object")return this.getValue();this.setValue(n)},setValue:function(t){if(this.rangeSlider){var i,r;arguments.length<2?t instanceof Array?(i=t[0],r=t[1]):typeof t=="object"&&typeof t.rangeStart!="undefined"&&typeof t.rangeEnd!="undefined"&&(i=t.rangeStart,r=t.rangeEnd):(i=arguments[0],r=arguments[1]),this._setValue(r,this._slider.right),this._setValue(i,this._slider.left)}else this._setValue(this.min,this._slider.left),this._setValue(t,this._slider.right);this.input&&n.jqx.aria(this,"aria-valuenow",this.input.val())},getValue:function(){return this.value},_enable:function(n){n?(this._addEventHandlers(),this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(this._removeEventHandlers(),this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._leftButton.jqxRepeatButton({disabled:this.disabled}),this._rightButton.jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),n.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),n.jqx.aria(this,"aria-disabled",!1)}})})(jQuery);
//# sourceMappingURL=jqxslider.min.js.map
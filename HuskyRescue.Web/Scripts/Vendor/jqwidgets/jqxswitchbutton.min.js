(function(n){n.jqx.jqxWidget("jqxSwitchButton","",{}),n.extend(n.jqx._jqxSwitchButton.prototype,{defineInstance:function(){this.disabled=!1,this.checked=!1,this.onLabel="On",this.offLabel="Off",this.toggleMode="default",this.animationDuration=250,this.width=90,this.height=30,this.animationEnabled=!0,this.thumbSize="40%",this.orientation="horizontal",this.switchRatio="50%",this.metroMode=!1,this._isMouseDown=!1,this.rtl=!1,this._dimensions={horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},this._touchEvents={mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},this._borders={},this._isTouchDevice=!1,this._distanceRequired=3,this._isDistanceTraveled=!1,this._thumb,this._onLabel,this._offLabel,this._wrapper,this._animationActive=!1,this.aria={"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},this._events=["checked","unchecked","change"]},createInstance:function(){if(this.element.nodeName&&(this.element.nodeName=="INPUT"||this.element.nodeName=="BUTTON"))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),n.jqx.aria(this),this.render();var t=this;n.jqx.utilities.resize(this.host,function(){t.render()})},render:function(){var t,i;this.innerHTML="",this.theme&&this.theme!=""&&(this.theme.indexOf("metro")!=-1||this.theme.indexOf("windowsphone")!=-1||this.theme.indexOf("office")!=-1)&&(this.thumbSize=="40%"&&(this.thumbSize=12),this.metroMode=!0),t=n.data(document.body,"jqx-switchbutton")||1,this._idHandler(t),n.data(document.body,"jqx-draggables",++t),this._isTouchDevice=n.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandles(),this._addEventHandles(),this._disableSelection(),i=this,this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(n){this._onLabel.html('<div style="display: inline-block;">'+n+"<\/div>"),this._centerLabels()},setOffLabel:function(n){this._offLabel.html('<div style="display: inline-block;">'+n+"<\/div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(n){return arguments.length==0||n!=null&&typeof n=="object"?this.checked:(typeof n=="string"?(n=="true"&&this.check(),n=="false"&&this.uncheck(),n==""&&this.indeterminate()):(n==!0&&this.check(),n==!1&&this.uncheck(),n==null&&this.indeterminate()),this.checked)},uncheck:function(){var t=this;this._switchButton(!1),n.jqx.aria(this,"aria-checked",this.checked)},check:function(){var t=this;this._switchButton(!0),n.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(n){if(!this.element.id){var t="jqx-switchbutton-"+n;this.element.id=t}},_dir:function(n){return this._dimensions[this.orientation][n]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t];return n.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=n("<div/>"),this._onLabel=n("<div/>"),this._offLabel=n("<div/>"),this._wrapper=n("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var n=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),n.addClass(this.toThemeProperty("jqx-fill-state-normal")),n.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var i=this.host,r=this._dir("opSize"),f=this._dir("size"),u=this._wrapper,e;if(i.css({width:this.width,height:this.height}),u.css(r,i[r]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],u.css(f,i[f]()+this._offLabel[this._dir("oSize")]()+e),u.css(r,i[r]()),this.metroMode||this.theme&&this.theme!=""&&(this.theme.indexOf("metro")!=-1||this.theme.indexOf("office")!=-1)){var o=this._thumb,n=this._onLabel,t=this._offLabel;n.css("position","relative"),n.css("top","1px"),n.css("margin-left","1px"),t.css("position","relative"),t.css("top","1px"),t.css("left","-2px"),t.css("margin-right","1px"),t.height(n.height()-2),t.width(n.width()-3),n.height(n.height()-2),n.width(n.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](i[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var n=this.thumbSize,t=this.host,i=this;n.toString().indexOf("%")>=0&&(n=t[this._dir("size")]()*parseInt(n,10)/100),this._thumb[this._dir("size")](n),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var n=this._borders[this._dir("opposite")];this.orientation==="horizontal"?(this._thumb.css("margin-top",-n/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-n/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var i=this.host,f=this._thumb,n=this._dir("opSize"),t=this._dir("size"),e=this._dir("oSize"),r=i[t]()-f[e](),u=this._borders[this._dir("opposite")]/2;this._onLabel[t](r+u),this._offLabel[t](r+u),this.rtl&&this._onLabel[t](r+2*u),this._onLabel[n](i[n]()),this._offLabel[n](i[n]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if(this.orientation==="horizontal"){var n="left";this.rtl&&(n="right"),this._onLabel.css("float",n),this._thumb.css("float",n),this._offLabel.css("float",n)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var n=this._onLabel.children("div"),r=this._offLabel.children("div"),u=n.parent(),f=u.height(),t=n.outerHeight(),e=this._borders[this.orientation]/2||0,i;t==0&&(t=14),i=Math.floor((f-t)/2)+e,n.css("margin-top",i),r.css("margin-top",i)},_removeEventHandles:function(){var t="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+t+this.element.id,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(n(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(n(document),this._getEvent("mousemove")+t,this._mouseMove)},_addEventHandles:function(){var t="."+this.element.id,i=this;this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(n(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(n(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,n.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,n.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(n){var t=n.data.self;t.toggleMode!=="click"&&t.toggleMode!=="default"||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(n){var t=n.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(n),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||t.toggleMode!=="slide"&&t.toggleMode!=="default"||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(n){var t=n.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,r=parseInt(i.css("margin-"+t._dir("pos")),10)||0,u=t._dropHandler(r);u?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(n){var t=n.data.self,u=t._getMouseCoordinates(n);if(t._isMouseDown&&t._distanceTraveled(u)){var i=t._dir("pos"),f=t._wrapper,e=t._buttonStartPosition[i],r=e+u[i]-t._mouseStartPosition[i],r=t._validatePosition(r);return t._dragged=!0,f.css("margin-"+t._dir("pos"),r),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(n){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(n.left-t.left)>=i||Math.abs(n.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(n){var r=this._borders[this._dir("opposite")],t=0,i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-r;return t<n?t:i>n?i:n},_dropHandler:function(n){var t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),i=Math.abs(+t),r=Math.abs(n-this._buttonStartPosition[this._dir("pos")]),u=i*(this.switchRatio/100);return r>=u?!0:!1},_switchButton:function(n,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),n?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var o=this._wrapper,r=this,f={},e=this._borders[this._dir("opposite")],u=0;typeof t=="undefined"&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?n?(u=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+e,this.metroMode&&(u+=5)):this.metroMode&&(u-=3):n||(u=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+e),f["margin-"+this._dir("pos")]=-u,n?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),o.animate(f,t,function(){i||r._handleEvent(n),n?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),r.checked=n})},_handleEvent:function(n){n!==this.checked&&this._raiseEvent(2,{check:n}),n?this._raiseEvent(0):this._raiseEvent(1)},_disableSelection:function(){var t=this.host,i=t.find("*");n.each(i,function(t,i){i.onselectstart=function(){return!1},n(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(n){return this._isTouchDevice?{left:n.originalEvent.touches[0].pageX,top:n.originalEvent.touches[0].pageY}:{left:n.pageX,top:n.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var r=n.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_themeChanger:function(t,i,r){var u;if(t){typeof r=="undefined"&&(r=this.host);var f=r[0].className.split(" "),e=[],o=[],s=r.children();for(u=0;u<f.length;u+=1)f[u].indexOf(t)>=0&&(e.push(f[u]),o.push(f[u].replace(t,i)));for(this._removeOldClasses(e,r),this._addNewClasses(o,r),u=0;u<s.length;u+=1)this._themeChanger(t,i,n(s[u]))}},_removeOldClasses:function(n,t){for(var i=0;i<n.length;i+=1)t.removeClass(n[i])},_addNewClasses:function(n,t){for(var i=0;i<n.length;i+=1)t.addClass(n[i])},propertyChangedHandler:function(t,i,r,u){switch(i){case"disabled":u?this.disable():this.enable();break;case"switchRatio":this.switchRatio=parseInt(this.switchRatio,10);break;case"checked":u?this.check():this.uncheck();break;case"onLabel":this.setOnLabel(u);break;case"offLabel":this.setOffLabel(u);break;case"theme":n.jqx.utilities.setTheme(r,u,t.host);break;case"width":case"height":case"thumbSize":case"orientation":this._performLayout(),this._wrapper.css("left",0),this._wrapper.css("top",0),this._switchButton(this.checked,0,!0)}}})})(jQuery);
//# sourceMappingURL=jqxswitchbutton.min.js.map
$(document).ready(function(){var n=function(){var n={datatype:"json",datafields:[{name:"Id",type:"string"},{name:"Name",type:"string"},{name:"Description",type:"string"},{name:"BannerImageLink",type:"string"}],url:"/Store/GetProductCategories",deleterow:function(n,t){var i=JSON.stringify({id:$("#grid").jqxGrid("getcellvalue",n,"Id")});$.ajax({dataType:"json",contentType:"application/json; charset=utf-8",cache:!1,url:"/Store/DeleteProductCategory",data:i,type:"POST",success:function(n){n.Success?t(!0):t(!1)},error:function(n){alert(n.statusText);t(!1)}})}};return new $.jqx.dataAdapter(n)};$("#grid").jqxGrid({autoheight:!0,autorowheight:!0,editable:!0,filterable:!0,pageable:!0,pagesize:25,pagesizeoptions:["25","50","100"],selectionmode:"singlecell",showstatusbar:!0,sortable:!0,source:n(),width:"100%",columns:[{text:"Id",datafield:"Id",hidden:!0},{text:"Name",datafield:"Name",width:250,validation:function(n,t){var i=t.toString().length;return i>100?{result:!1,message:"Category name cannot be longer than 100 characters. You have "+i+"."}:i==0?{result:!1,message:"Category name most have a value"}:!0}},{text:"Description",datafield:"Description",validation:function(n,t){var i=t.toString().length;return i>1e3?{result:!1,message:"Category description cannot be longer than 1000 characters. You have "+i+"."}:i==0?{result:!1,message:"Category description most have a value"}:!0}}],renderstatusbar:function(t){var i=$("<div style='overflow: hidden; position: relative; margin: 5px;'><\/div>"),r=$("<div style='float: left; margin-left: 5px;'><i class='icon-plus-sign'><\/i><span style='margin-left: 4px; position: relative; top: -3px;'>Add<\/span><\/div>"),u=$("<div style='float: left; margin-left: 5px;'><i class='icon-remove-sign'><\/i><span style='margin-left: 4px; position: relative; top: -3px;'>Delete<\/span><\/div>"),f=$("<div style='float: left; margin-left: 5px;'><i class='icon-refresh'><\/i><span style='margin-left: 4px; position: relative; top: -3px;'>Reload<\/span><\/div>");i.append(r);i.append(u);i.append(f);t.append(i);r.jqxButton({width:80,height:20});u.jqxButton({width:85,height:20});f.jqxButton({width:85,height:20});r.click(function(){$("#grid").jqxGrid("addrow",null,{Id:"",Name:"New category",Description:"Description of new category",BannerImageLink:""})});u.click(function(){var n=$("#grid").jqxGrid("getselectedcell").rowindex,i=$("#grid").jqxGrid("getdatainformation").rowscount,t,r;n>=0&&n<i&&(t=$("#grid").jqxGrid("getrowid",n),r=$("#grid").jqxGrid("deleterow",t))});f.click(function(){$("#grid").jqxGrid({source:n()})})}});$("#grid").on("cellvaluechanged",function(){var f=args.datafield,t=args.rowindex,e=args.newvalue,o=args.oldvalue,i=args.datafield;if(i!="Id"){var n=$("#grid").jqxGrid("getrowdata",t),r={Id:n.Id,Name:n.Name,Description:n.Description},u=JSON.stringify(r);$.ajax({cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",url:"/Store/UpdateProductCategory",data:u,type:"POST",success:function(n){n.Success&&$("#grid").jqxGrid("setcellvalue",args.rowindex,"Id",n.Data.Id)},error:function(){}})}})});
/*
//# sourceMappingURL=ProductCategoryManager.min.js.map
*/
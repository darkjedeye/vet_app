function CartItemRemove(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"Store/DeleteCartItem",data:"{}",success:function(){$(this).parent().parent().remove()}})}function CartItemAdd(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"Store/CreateCartItem",data:"{}",success:function(){}})}function CartItemUpdate(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"Store/UpdateCartItem",data:"{}",success:function(){}})}function CartGet(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"Store/GetCart",data:"{}",success:function(){}})}function CreateCart(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"Store/UpdateCart",data:"{}",success:function(){}})}function CartUpdate(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"Store/UpdateCart",data:"{}",success:function(){}})}function PlaceOrder(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"Store/Purchase",data:"{}",success:function(){}})}function CartItemQuantityChange(){var n=GetGuidFromName(this.name),t=$('input[name="CartItems['+n+'].Quantity"]'),i=$('input[name="CartItems['+n+'].Price"]'),r=$('input[name="CartItems['+n+'].PricePerItem"]');i.val((parseFloat(r.val())*parseInt(t.val())).toFixed(2));UpdateCartTotals()}function UpdateCartTotals(){var t=0,i=0,n;$.each($('input[name^="CartItems["][name$=".Price"]'),function(n,i){t+=parseFloat(i.value)});$.each($('input[name^="CartItems["][name$=".Quantity"]'),function(n,t){i+=parseFloat(t.value)});n=i.toString()+" items, $"+t.toFixed(2);$("#cartTotals").val(n);$("#cartTotalAtPayment").val(n)}function GetGuidFromName(n){var t=n.indexOf("[")+1,i=n.indexOf("]");return n.substring(t,i)}$("#storeCartModal").on("opened",function(){$(this).foundation("section","reflow")});$("#buttonCloseCartModal").on("click",function(){$("#storeCartModal").foundation("reveal","close")});$("#buttonNavCartToInfo").on("click",function(){$("#modalPanelInfoPayment").click()});$("#buttonNavInfoToOrder").on("click",function(){$("#modalPanelPlaceOrder").click()});$("#buttonPlaceOrder").on("click",function(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:"WebService.asmx/WebMethodName",data:"{}",success:function(){$("#storeCartModal").foundation("reveal","open")}})});$(".cartAddButton").on("click",function(){CartItemAdd()});$("#CopyShippingAddress").on("click",function(){var u=$("#CopyShippingAddress"),f=$('input[name="Order.ShippingAddress.StreetAddress"]'),e=$('input[name="Order.ShippingAddress.City"]'),o=$('select[name="Order.ShippingAddress.State"]'),s=$('input[name="Order.ShippingAddress.PostalCode"]'),t=$('input[name="Order.BillingAddress.StreetAddress"]'),i=$('input[name="Order.BillingAddress.City"]'),n=$('select[name="Order.BillingAddress.State"]'),r=$('input[name="Order.BillingAddress.PostalCode"]');u.is(":checked")?(t.val(f.val()),i.val(e.val()),n.val(o.val()),r.val(s.val())):(t.val(""),i.val(""),n.val(""),r.val(""));n.trigger("change",!0)});var viewModel={AddNewItem:function(n,t,i,r,u){var f=viewModel._generateGuid(),o=$("#itemTemplate").render({index:f});$("#tableItems").append(o);var e=$('input[name="CartItems['+f+'].Quantity"]'),s=$('input[name="CartItems['+f+'].PricePerItem"]'),h=$('input[name="CartItems['+f+'].Product.Name"]'),c=$('input[name="CartItems['+f+'].ProductId"]'),l=$('input[name="CartItems['+f+'].CartId"]');isNaN(n)?e.val(1):e.val(n);s.val(t);h.val(i);c.val(r);u&&l.val(u);e.on("change",CartItemQuantityChange)},_generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)})}};
/*
//# sourceMappingURL=Store.min.js.map
*/